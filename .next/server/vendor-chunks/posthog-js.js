"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/posthog-js/dist/module.js":
/*!************************************************!*\
  !*** ./node_modules/posthog-js/dist/module.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ v),\n/* harmony export */   Compression: () => (/* binding */ e),\n/* harmony export */   PostHog: () => (/* binding */ sa),\n/* harmony export */   SurveyPosition: () => (/* binding */ Os),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ Ls),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ As),\n/* harmony export */   SurveySchedule: () => (/* binding */ Ds),\n/* harmony export */   SurveyType: () => (/* binding */ Ms),\n/* harmony export */   SurveyWidgetType: () => (/* binding */ $s),\n/* harmony export */   \"default\": () => (/* binding */ aa),\n/* harmony export */   knownUnsafeEditableEvent: () => (/* binding */ g),\n/* harmony export */   posthog: () => (/* binding */ aa),\n/* harmony export */   severityLevels: () => (/* binding */ f)\n/* harmony export */ });\nvar e,t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,r=Array.prototype,n=r.forEach,s=r.indexOf,o=null==i?void 0:i.navigator,a=null==i?void 0:i.document,l=null==i?void 0:i.location,u=null==i?void 0:i.fetch,c=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,d=null==i?void 0:i.AbortController,h=null==o?void 0:o.userAgent,_=null!=t?t:{},p={DEBUG:!1,LIB_VERSION:\"1.235.6\"},v=\"$copy_autocapture\",g=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];!function(e){e.GZipJS=\"gzip-js\",e.Base64=\"base64\"}(e||(e={}));var f=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function m(e,t){return-1!==e.indexOf(t)}var y=function(e){return e.trim()},b=function(e){return e.replace(/^\\$/,\"\")};var w=Array.isArray,S=Object.prototype,k=S.hasOwnProperty,E=S.toString,x=w||function(e){return\"[object Array]\"===E.call(e)},I=e=>\"function\"==typeof e,P=e=>e===Object(e)&&!x(e),C=e=>{if(P(e)){for(var t in e)if(k.call(e,t))return!1;return!0}return!1},F=e=>void 0===e,T=e=>\"[object String]\"==E.call(e),R=e=>T(e)&&0===e.trim().length,$=e=>null===e,O=e=>F(e)||$(e),M=e=>\"[object Number]\"==E.call(e),A=e=>\"[object Boolean]\"===E.call(e),L=e=>e instanceof FormData,D=e=>m(g,e),q=e=>{var i={_log:function(i){if(t&&(p.DEBUG||_.POSTHOG_DEBUG)&&!F(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[i]?t.console[i].__rrweb_original__:t.console[i]),n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];r(e,...s)}},info:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"log\",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"warn\",...t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"error\",...t)},critical:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];console.error(e,...i)},uninitializedWarning:e=>{i.error(\"You must initialize PostHog before calling \".concat(e))},createLogger:t=>q(\"\".concat(e,\" \").concat(t))};return i},N=q(\"[PostHog.js]\"),B=N.createLogger,H=B(\"[ExternalScriptsLoader]\"),j=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return H.warn(\"\".concat(t,\" was requested but loading of external scripts is disabled.\")),i(\"Loading of external scripts is disabled\");var r=null==a?void 0:a.querySelectorAll(\"script\");if(r)for(var n=0;n<r.length;n++)if(r[n].src===t)return i();var s=()=>{if(!a)return i(\"document not found\");var r=a.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=t,r.onload=e=>i(void 0,e),r.onerror=e=>i(e),e.config.prepare_external_dependency_script&&(r=e.config.prepare_external_dependency_script(r)),!r)return i(\"prepare_external_dependency_script returned null\");var n,s=a.querySelectorAll(\"body > script\");s.length>0?null===(n=s[0].parentNode)||void 0===n||n.insertBefore(r,s[0]):a.body.appendChild(r)};null!=a&&a.body?s():null==a||a.addEventListener(\"DOMContentLoaded\",s)};function U(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?U(Object(i),!0).forEach((function(t){W(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function V(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}_.__PosthogExtensions__=_.__PosthogExtensions__||{},_.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{var r=\"/static/\".concat(t,\".js\")+\"?v=\".concat(e.version);if(\"remote-config\"===t&&(r=\"/array/\".concat(e.config.token,\"/config.js\")),\"toolbar\"===t){var n=3e5,s=Math.floor(Date.now()/n)*n;r=\"\".concat(r,\"&t=\").concat(s)}var o=e.requestRouter.endpointFor(\"assets\",r);j(e,o,i)},_.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{var r=e.requestRouter.endpointFor(\"api\",t);j(e,r,i)};var G={};function J(e,t,i){if(x(e))if(n&&e.forEach===n)e.forEach(t,i);else if(\"length\"in e&&e.length===+e.length)for(var r=0,s=e.length;r<s;r++)if(r in e&&t.call(i,e[r],r)===G)return}function Y(e,t,i){if(!O(e)){if(x(e))return J(e,t,i);if(L(e)){for(var r of e.entries())if(t.call(i,r[1],r[0])===G)return}else for(var n in e)if(k.call(e,n)&&t.call(i,e[n],n)===G)return}}var K=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J(i,(function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])})),e},X=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return J(i,(function(t){J(t,(function(t){e.push(t)}))})),e};function Q(e){for(var t=Object.keys(e),i=t.length,r=new Array(i);i--;)r[i]=[t[i],e[t[i]]];return r}var Z=function(e){try{return e()}catch(e){return}},ee=function(e){return function(){try{for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(this,i)}catch(e){N.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),N.critical(e)}}},te=function(e){var t={};return Y(e,(function(e,i){T(e)&&e.length>0&&(t[i]=e)})),t};function ie(e,t){return i=e,r=e=>T(e)&&!$(t)?e.slice(0,t):e,n=new Set,function e(t,i){return t!==Object(t)?r?r(t,i):t:n.has(t)?void 0:(n.add(t),x(t)?(s=[],J(t,(t=>{s.push(e(t))}))):(s={},Y(t,((t,i)=>{n.has(t)||(s[i]=e(t,i))}))),s);var s}(i);var i,r,n}var re=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function ne(e){var t=null==e?void 0:e.hostname;if(!T(t))return!1;var i=t.split(\".\").slice(-2).join(\".\");for(var r of re)if(i===r)return!1;return!0}function se(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}function oe(e,t,i,r){var{capture:n=!1,passive:s=!0}=null!=r?r:{};null==e||e.addEventListener(t,i,{capture:n,passive:s})}var ae=\"$people_distinct_id\",le=\"__alias\",ue=\"__timers\",ce=\"$autocapture_disabled_server_side\",de=\"$heatmaps_enabled_server_side\",he=\"$exception_capture_enabled_server_side\",_e=\"$web_vitals_enabled_server_side\",pe=\"$dead_clicks_enabled_server_side\",ve=\"$web_vitals_allowed_metrics\",ge=\"$session_recording_enabled_server_side\",fe=\"$console_log_recording_enabled_server_side\",me=\"$session_recording_network_payload_capture\",ye=\"$session_recording_masking\",be=\"$session_recording_canvas_recording\",we=\"$replay_sample_rate\",Se=\"$replay_minimum_duration\",ke=\"$replay_script_config\",Ee=\"$sesid\",xe=\"$session_is_sampled\",Ie=\"$session_recording_url_trigger_activated_session\",Pe=\"$session_recording_event_trigger_activated_session\",Ce=\"$enabled_feature_flags\",Fe=\"$early_access_features\",Te=\"$feature_flag_details\",Re=\"$stored_person_properties\",$e=\"$stored_group_properties\",Oe=\"$surveys\",Me=\"$surveys_activated\",Ae=\"$flag_call_reported\",Le=\"$user_state\",De=\"$client_session_props\",qe=\"$capture_rate_limit\",Ne=\"$initial_campaign_params\",Be=\"$initial_referrer_info\",He=\"$initial_person_info\",je=\"$epp\",Ue=\"__POSTHOG_TOOLBAR__\",ze=\"$posthog_cookieless\",We=[ae,le,\"__cmpns\",ue,ge,de,Ee,Ce,Le,Fe,Te,$e,Re,Oe,Ae,De,qe,Ne,Be,je];function Ve(e){var t;return e instanceof Element&&(e.id===Ue||!(null===(t=e.closest)||void 0===t||!t.call(e,\".toolbar-global-fade-container\")))}function Ge(e){return!!e&&1===e.nodeType}function Je(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Ye(e){return!!e&&3===e.nodeType}function Ke(e){return!!e&&11===e.nodeType}function Xe(e){return e?y(e).split(/\\s+/):[]}function Qe(e){var i=null==t?void 0:t.location.href;return!!(i&&e&&e.some((e=>i.match(e))))}function Ze(e){var t=\"\";switch(typeof e.className){case\"string\":t=e.className;break;case\"object\":t=(e.className&&\"baseVal\"in e.className?e.className.baseVal:null)||e.getAttribute(\"class\")||\"\";break;default:t=\"\"}return Xe(t)}function et(e){return O(e)?null:y(e).split(/(\\s+)/).filter((e=>pt(e))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function tt(e){var t=\"\";return ot(e)&&!at(e)&&e.childNodes&&e.childNodes.length&&Y(e.childNodes,(function(e){var i;Ye(e)&&e.textContent&&(t+=null!==(i=et(e.textContent))&&void 0!==i?i:\"\")})),y(t)}function it(e){return F(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var rt=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function nt(e){var t=e.parentNode;return!(!t||!Ge(t))&&t}function st(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(!t||!e||Je(e,\"html\")||!Ge(e))return!1;if(null!=r&&r.url_allowlist&&!Qe(r.url_allowlist))return!1;if(null!=r&&r.url_ignorelist&&Qe(r.url_ignorelist))return!1;if(null!=r&&r.dom_event_allowlist){var o=r.dom_event_allowlist;if(o&&!o.some((e=>i.type===e)))return!1}for(var a=!1,l=[e],u=!0,c=e;c.parentNode&&!Je(c,\"body\");)if(Ke(c.parentNode))l.push(c.parentNode.host),c=c.parentNode.host;else{if(!(u=nt(c)))break;if(n||rt.indexOf(u.tagName.toLowerCase())>-1)a=!0;else{var d=t.getComputedStyle(u);d&&\"pointer\"===d.getPropertyValue(\"cursor\")&&(a=!0)}l.push(u),c=u}if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(F(i))return!0;var r=function(e){if(i.some((t=>e.tagName.toLowerCase()===t)))return{v:!0}};for(var n of e){var s=r(n);if(\"object\"==typeof s)return s.v}return!1}(l,r))return!1;if(!function(e,t){var i=null==t?void 0:t.css_selector_allowlist;if(F(i))return!0;var r=function(e){if(i.some((t=>e.matches(t))))return{v:!0}};for(var n of e){var s=r(n);if(\"object\"==typeof s)return s.v}return!1}(l,r))return!1;var h=t.getComputedStyle(e);if(h&&\"pointer\"===h.getPropertyValue(\"cursor\")&&\"click\"===i.type)return!0;var _=e.tagName.toLowerCase();switch(_){case\"html\":return!1;case\"form\":return(s||[\"submit\"]).indexOf(i.type)>=0;case\"input\":case\"select\":case\"textarea\":return(s||[\"change\",\"click\"]).indexOf(i.type)>=0;default:return a?(s||[\"click\"]).indexOf(i.type)>=0:(s||[\"click\"]).indexOf(i.type)>=0&&(rt.indexOf(_)>-1||\"true\"===e.getAttribute(\"contenteditable\"))}}function ot(e){for(var t=e;t.parentNode&&!Je(t,\"body\");t=t.parentNode){var i=Ze(t);if(m(i,\"ph-sensitive\")||m(i,\"ph-no-capture\"))return!1}if(m(Ze(e),\"ph-include\"))return!0;var r=e.type||\"\";if(T(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var n=e.name||e.id||\"\";if(T(n)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(n.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function at(e){return!!(Je(e,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(e.type)||Je(e,\"select\")||Je(e,\"textarea\")||\"true\"===e.getAttribute(\"contenteditable\"))}var lt=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",ut=new RegExp(\"^(?:\".concat(lt,\")$\")),ct=new RegExp(lt),dt=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",ht=new RegExp(\"^(\".concat(dt,\")$\")),_t=new RegExp(\"(\".concat(dt,\")\"));function pt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(O(e))return!1;if(T(e)){if(e=y(e),(t?ut:ct).test((e||\"\").replace(/[- ]/g,\"\")))return!1;if((t?ht:_t).test(e))return!1}return!0}function vt(e){var t=tt(e);return pt(t=\"\".concat(t,\" \").concat(gt(e)).trim())?t:\"\"}function gt(e){var t=\"\";return e&&e.childNodes&&e.childNodes.length&&Y(e.childNodes,(function(e){var i;if(e&&\"span\"===(null===(i=e.tagName)||void 0===i?void 0:i.toLowerCase()))try{var r=tt(e);t=\"\".concat(t,\" \").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t=\"\".concat(t,\" \").concat(gt(e)).trim())}catch(e){N.error(\"[AutoCapture]\",e)}})),t}function ft(e){return function(e){var t=e.map((e=>{var t,i,r=\"\";if(e.tag_name&&(r+=e.tag_name),e.attr_class)for(var n of(e.attr_class.sort(),e.attr_class))r+=\".\".concat(n.replace(/\"/g,\"\"));var s=z(z(z(z({},e.text?{text:e.text}:{}),{},{\"nth-child\":null!==(t=e.nth_child)&&void 0!==t?t:0,\"nth-of-type\":null!==(i=e.nth_of_type)&&void 0!==i?i:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),o={};return Q(s).sort(((e,t)=>{var[i]=e,[r]=t;return i.localeCompare(r)})).forEach((e=>{var[t,i]=e;return o[mt(t.toString())]=mt(i.toString())})),r+=\":\",r+=Q(s).map((e=>{var[t,i]=e;return\"\".concat(t,'=\"').concat(i,'\"')})).join(\"\")}));return t.join(\";\")}(function(e){return e.map((e=>{var t,i,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(i=e.attr__href)||void 0===i?void 0:i.slice(0,2048),attr_class:yt(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Q(e).filter((e=>{var[t]=e;return 0===t.indexOf(\"attr__\")})).forEach((e=>{var[t,i]=e;return r.attributes[t]=i})),r}))}(e))}function mt(e){return e.replace(/\"|\\\\\"/g,'\\\\\"')}function yt(e){var t=e.attr__class;return t?x(t)?t:Xe(t):void 0}class bt{constructor(){this.clicks=[]}isRageClick(e,t,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}var wt=[\"localhost\",\"127.0.0.1\"],St=e=>{var t=null==a?void 0:a.createElement(\"a\");return F(t)?null:(t.href=e,t)},kt=function(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"&\",n=[];return Y(e,(function(e,r){F(e)||F(r)||\"undefined\"===r||(t=encodeURIComponent((e=>e instanceof File)(e)?e.name:e.toString()),i=encodeURIComponent(r),n[n.length]=i+\"=\"+t)})),n.join(r)},Et=function(e,t){for(var i,r=((e.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),n=0;n<r.length;n++){var s=r[n].split(\"=\");if(s[0]===t){i=s;break}}if(!x(i)||i.length<2)return\"\";var o=i[1];try{o=decodeURIComponent(o)}catch(e){N.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},xt=function(e,t,i){if(!e||!t||!t.length)return e;for(var r=e.split(\"#\"),n=r[0]||\"\",s=r[1],o=n.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),c=[],d=0;d<u.length;d++){var h=u[d].split(\"=\");x(h)&&(t.includes(h[0])?c.push(h[0]+\"=\"+i):c.push(u[d]))}var _=l;return null!=a&&(_+=\"?\"+c.join(\"&\")),null!=s&&(_+=\"#\"+s),_},It=function(e,t){var i=e.match(new RegExp(t+\"=([^&]*)\"));return i?i[1]:null},Pt=B(\"[AutoCapture]\");function Ct(e,t){return t.length>e?t.slice(0,e)+\"...\":t}function Ft(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Ge(t));return t}function Tt(e,t,i,r){var n=e.tagName.toLowerCase(),s={tag_name:n};rt.indexOf(n)>-1&&!i&&(\"a\"===n.toLowerCase()||\"button\"===n.toLowerCase()?s.$el_text=Ct(1024,vt(e)):s.$el_text=Ct(1024,tt(e)));var o=Ze(e);o.length>0&&(s.classes=o.filter((function(e){return\"\"!==e}))),Y(e.attributes,(function(i){var n;if((!at(e)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(i.name))&&((null==r||!r.includes(i.name))&&!t&&pt(i.value)&&(n=i.name,!T(n)||\"_ngcontent\"!==n.substring(0,10)&&\"_nghost\"!==n.substring(0,7)))){var o=i.value;\"class\"===i.name&&(o=Xe(o).join(\" \")),s[\"attr__\"+i.name]=Ct(1024,o)}}));for(var a=1,l=1,u=e;u=Ft(u);)a++,u.tagName===e.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}function Rt(e,i){for(var r,n,{e:s,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=i,c=[e],d=e;d.parentNode&&!Je(d,\"body\");)Ke(d.parentNode)?(c.push(d.parentNode.host),d=d.parentNode.host):(c.push(d.parentNode),d=d.parentNode);var h,_=[],p={},v=!1,g=!1;if(Y(c,(e=>{var t=ot(e);\"a\"===e.tagName.toLowerCase()&&(v=e.getAttribute(\"href\"),v=t&&v&&pt(v)&&v),m(Ze(e),\"ph-no-capture\")&&(g=!0),_.push(Tt(e,o,a,l));var i=function(e){if(!ot(e))return{};var t={};return Y(e.attributes,(function(e){if(e.name&&0===e.name.indexOf(\"data-ph-capture-attribute\")){var i=e.name.replace(\"data-ph-capture-attribute-\",\"\"),r=e.value;i&&r&&pt(r)&&(t[i]=r)}})),t}(e);K(p,i)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===e.tagName.toLowerCase()||\"button\"===e.tagName.toLowerCase()?_[0].$el_text=vt(e):_[0].$el_text=tt(e)),v){var f,y;_[0].attr__href=v;var b=null===(f=St(v))||void 0===f?void 0:f.host,w=null==t||null===(y=t.location)||void 0===y?void 0:y.host;b&&w&&b!==w&&(h=v)}return{props:K({$event_type:s.type,$ce_version:1},u?{}:{$elements:_},{$elements_chain:ft(_)},null!==(r=_[0])&&void 0!==r&&r.$el_text?{$el_text:null===(n=_[0])||void 0===n?void 0:n.$el_text}:{},h&&\"click\"===s.type?{$external_click_url:h}:{},p)}}class $t{constructor(e){W(this,\"_initialized\",!1),W(this,\"_isDisabledServerSide\",null),W(this,\"rageclicks\",new bt),W(this,\"_elementsChainAsString\",!1),this.instance=e,this._elementSelectors=null}get config(){var e,t,i=P(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null===(e=i.url_allowlist)||void 0===e?void 0:e.map((e=>new RegExp(e))),i.url_ignorelist=null===(t=i.url_ignorelist)||void 0===t?void 0:t.map((e=>new RegExp(e))),i}_addDomEventHandlers(){if(this.isBrowserSupported()){if(t&&a){var e=e=>{e=e||(null==t?void 0:t.event);try{this._captureEvent(e)}catch(e){Pt.error(\"Failed to capture event\",e)}};if(oe(a,\"submit\",e,{capture:!0}),oe(a,\"change\",e,{capture:!0}),oe(a,\"click\",e,{capture:!0}),this.config.capture_copied_text){var i=e=>{e=e||(null==t?void 0:t.event),this._captureEvent(e,v)};oe(a,\"copy\",i,{capture:!0}),oe(a,\"cut\",i,{capture:!0})}}}else Pt.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ce]:!!e.autocapture_opt_out}),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this._elementSelectors=e}getElementSelectors(e){var t,i=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((t=>{var r=null==a?void 0:a.querySelectorAll(t);null==r||r.forEach((r=>{e===r&&i.push(t)}))})),i}get isEnabled(){var e,t,i=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[ce],r=this._isDisabledServerSide;if($(r)&&!A(i)&&!this.instance.config.advanced_disable_decide)return!1;var n=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!i;return!!this.instance.config.autocapture&&!n}_captureEvent(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"$autocapture\";if(this.isEnabled){var r,n=it(e);if(Ye(n)&&(n=n.parentNode||null),\"$autocapture\"===i&&\"click\"===e.type&&e instanceof MouseEvent)this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,\"$rageclick\");var s=i===v;if(n&&st(n,e,this.config,s,s?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=Rt(n,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(a)return!1;var l=this.getElementSelectors(n);if(l&&l.length>0&&(o.$element_selectors=l),i===v){var u,c=et(null==t||null===(u=t.getSelection())||void 0===u?void 0:u.toString()),d=e.type||\"clipboard\";if(!c)return!1;o.$selected_content=c,o.$copy_type=d}return this.instance.capture(i,o),!0}}}isBrowserSupported(){return I(null==a?void 0:a.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return M(e)&&isFinite(e)&&Math.floor(e)===e});var Ot=\"0123456789abcdef\";class Mt{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(e,t,i,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||t<0||i<0||r<0||e>0xffffffffffff||t>4095||i>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var n=new Uint8Array(16);return n[0]=e/Math.pow(2,40),n[1]=e/Math.pow(2,32),n[2]=e/Math.pow(2,24),n[3]=e/Math.pow(2,16),n[4]=e/Math.pow(2,8),n[5]=e,n[6]=112|t>>>8,n[7]=t,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=r>>>24,n[13]=r>>>16,n[14]=r>>>8,n[15]=r,new Mt(n)}toString(){for(var e=\"\",t=0;t<this.bytes.length;t++)e=e+Ot.charAt(this.bytes[t]>>>4)+Ot.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+=\"-\");if(36!==e.length)throw new Error(\"Invalid UUIDv7 was generated\");return e}clone(){return new Mt(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class At{constructor(){W(this,\"timestamp\",0),W(this,\"counter\",0),W(this,\"random\",new qt)}generate(){var e=this.generateOrAbort();if(F(e)){this.timestamp=0;var t=this.generateOrAbort();if(F(t))throw new Error(\"Could not generate UUID after timestamp reset\");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Mt.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var Lt,Dt=e=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};t&&!F(t.crypto)&&crypto.getRandomValues&&(Dt=e=>crypto.getRandomValues(e));class qt{constructor(){W(this,\"buffer\",new Uint32Array(8)),W(this,\"cursor\",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(Dt(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var Nt=()=>Bt().toString(),Bt=()=>(Lt||(Lt=new At)).generate(),Ht=\"Thu, 01 Jan 1970 00:00:00 GMT\",jt=\"\";var Ut=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function zt(e,t){if(t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(jt)return jt;if(!t)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(e))return\"\";for(var i=e.split(\".\"),r=Math.min(i.length,8),n=\"dmn_chk_\"+Nt(),s=new RegExp(\"(^|;)\\\\s*\"+n+\"=1\");!jt&&r--;){var o=i.slice(r).join(\".\"),l=n+\"=1;domain=.\"+o;t.cookie=l,s.test(t.cookie)&&(t.cookie=l+\";expires=\"+Ht,jt=o)}return jt}(e);if(!i){var r=(e=>{var t=e.match(Ut);return t?t[0]:\"\"})(e);r!==i&&N.info(\"Warning: cookie subdomain discovery mismatch\",r,i),i=r}return i?\"; domain=.\"+i:\"\"}return\"\"}var Wt,Vt={is_supported:()=>!!a,error:function(e){N.error(\"cookieStore error: \"+e)},get:function(e){if(a){try{for(var t=e+\"=\",i=a.cookie.split(\";\").filter((e=>e.length)),r=0;r<i.length;r++){for(var n=i[r];\" \"==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(Vt.get(e))||{}}catch(e){}return t},set:function(e,t,i,r,n){if(a)try{var s=\"\",o=\"\",l=zt(a.location.hostname,r);if(i){var u=new Date;u.setTime(u.getTime()+24*i*60*60*1e3),s=\"; expires=\"+u.toUTCString()}n&&(o=\"; secure\");var c=e+\"=\"+encodeURIComponent(JSON.stringify(t))+s+\"; SameSite=Lax; path=/\"+l+o;return c.length>3686.4&&N.warn(\"cookieStore warning: large cookie, len=\"+c.length),a.cookie=c,c}catch(e){return}},remove:function(e,t){try{Vt.set(e,\"\",-1,t)}catch(e){return}}},Gt=null,Jt={is_supported:function(){if(!$(Gt))return Gt;var e=!0;if(F(t))e=!1;else try{var i=\"__mplssupport__\";Jt.set(i,\"xyz\"),'\"xyz\"'!==Jt.get(i)&&(e=!1),Jt.remove(i)}catch(t){e=!1}return e||N.error(\"localStorage unsupported; falling back to cookie store\"),Gt=e,e},error:function(e){N.error(\"localStorage error: \"+e)},get:function(e){try{return null==t?void 0:t.localStorage.getItem(e)}catch(e){Jt.error(e)}return null},parse:function(e){try{return JSON.parse(Jt.get(e))||{}}catch(e){}return null},set:function(e,i){try{null==t||t.localStorage.setItem(e,JSON.stringify(i))}catch(e){Jt.error(e)}},remove:function(e){try{null==t||t.localStorage.removeItem(e)}catch(e){Jt.error(e)}}},Yt=[\"distinct_id\",Ee,xe,je,He],Kt=z(z({},Jt),{},{parse:function(e){try{var t={};try{t=Vt.parse(e)||{}}catch(e){}var i=K(t,JSON.parse(Jt.get(e)||\"{}\"));return Jt.set(e,i),i}catch(e){}return null},set:function(e,t,i,r,n,s){try{Jt.set(e,t,void 0,void 0,s);var o={};Yt.forEach((e=>{t[e]&&(o[e]=t[e])})),Object.keys(o).length&&Vt.set(e,o,i,r,n,s)}catch(e){Jt.error(e)}},remove:function(e,i){try{null==t||t.localStorage.removeItem(e),Vt.remove(e,i)}catch(e){Jt.error(e)}}}),Xt={},Qt={is_supported:function(){return!0},error:function(e){N.error(\"memoryStorage error: \"+e)},get:function(e){return Xt[e]||null},parse:function(e){return Xt[e]||null},set:function(e,t){Xt[e]=t},remove:function(e){delete Xt[e]}},Zt=null,ei={is_supported:function(){if(!$(Zt))return Zt;if(Zt=!0,F(t))Zt=!1;else try{var e=\"__support__\";ei.set(e,\"xyz\"),'\"xyz\"'!==ei.get(e)&&(Zt=!1),ei.remove(e)}catch(e){Zt=!1}return Zt},error:function(e){N.error(\"sessionStorage error: \",e)},get:function(e){try{return null==t?void 0:t.sessionStorage.getItem(e)}catch(e){ei.error(e)}return null},parse:function(e){try{return JSON.parse(ei.get(e))||null}catch(e){}return null},set:function(e,i){try{null==t||t.sessionStorage.setItem(e,JSON.stringify(i))}catch(e){ei.error(e)}},remove:function(e){try{null==t||t.sessionStorage.removeItem(e)}catch(e){ei.error(e)}}};!function(e){e[e.PENDING=-1]=\"PENDING\",e[e.DENIED=0]=\"DENIED\",e[e.GRANTED=1]=\"GRANTED\"}(Wt||(Wt={}));class ti{constructor(e){this.instance=e}get config(){return this.instance.config}get consent(){return this.getDnt()?Wt.DENIED:this.storedConsent}isOptedOut(){return this.consent===Wt.DENIED||this.consent===Wt.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:e,opt_out_capturing_cookie_prefix:t}=this.instance.config;return(t||\"__ph_opt_in_out_\")+e}get storedConsent(){var e=this.storage.get(this.storageKey);return\"1\"===e?Wt.GRANTED:\"0\"===e?Wt.DENIED:Wt.PENDING}get storage(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage=\"localStorage\"===e?Jt:Vt;var t=\"localStorage\"===e?Vt:Jt;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(\"1\"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!se([null==o?void 0:o.doNotTrack,null==o?void 0:o.msDoNotTrack,_.doNotTrack],(e=>m([!0,1,\"1\",\"yes\"],e)))}}var ii=B(\"[Dead Clicks]\"),ri=()=>!0,ni=e=>{var t,i=!(null===(t=e.instance.persistence)||void 0===t||!t.get_property(pe)),r=e.instance.config.capture_dead_clicks;return A(r)?r:i};class si{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[pe]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript((()=>{this.start()}))}loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.initDeadClicksAutocapture&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"dead-clicks-autocapture\",(t=>{t?ii.error(\"failed to load script\",t):e()}))}start(){var e;if(a){if(!this._lazyLoadedDeadClicksAutocapture&&null!==(e=_.__PosthogExtensions__)&&void 0!==e&&e.initDeadClicksAutocapture){var t=P(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=_.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this._lazyLoadedDeadClicksAutocapture.start(a),ii.info(\"starting...\")}}else ii.error(\"`document` not found. Cannot start.\")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,ii.info(\"stopping...\"))}}var oi=B(\"[ExceptionAutocapture]\");class ai{constructor(e){var i;W(this,\"startCapturing\",(()=>{var e;if(t&&this.isEnabled&&null!==(e=_.__PosthogExtensions__)&&void 0!==e&&e.errorWrappingFunctions){var i=_.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=_.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,n=_.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.unwrapOnError&&this.config.capture_unhandled_errors&&(this.unwrapOnError=i(this.captureException.bind(this))),!this.unwrapUnhandledRejection&&this.config.capture_unhandled_rejections&&(this.unwrapUnhandledRejection=r(this.captureException.bind(this))),!this.unwrapConsoleError&&this.config.capture_console_errors&&(this.unwrapConsoleError=n(this.captureException.bind(this)))}catch(e){oi.error(\"failed to start\",e),this.stopCapturing()}}})),this.instance=e,this.remoteEnabled=!(null===(i=this.instance.persistence)||void 0===i||!i.props[he]),this.config=this.requiredConfig(),this.startIfEnabled()}requiredConfig(){var e=this.instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return P(e)?t=z(z({},t),e):(F(e)?this.remoteEnabled:e)&&(t=z(z({},t),{},{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.config.capture_console_errors||this.config.capture_unhandled_errors||this.config.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(oi.info(\"enabled\"),this.loadScript(this.startCapturing))}loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.errorWrappingFunctions&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"exception-autocapture\",(t=>{if(t)return oi.error(\"failed to load script\",t);e()}))}stopCapturing(){var e,t,i;null===(e=this.unwrapOnError)||void 0===e||e.call(this),this.unwrapOnError=void 0,null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this),this.unwrapUnhandledRejection=void 0,null===(i=this.unwrapConsoleError)||void 0===i||i.call(this),this.unwrapConsoleError=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.config=this.requiredConfig(),this.instance.persistence&&this.instance.persistence.register({[he]:this.remoteEnabled}),this.startIfEnabled()}captureException(e){var t=this.instance.requestRouter.endpointFor(\"ui\");e.$exception_personURL=\"\".concat(t,\"/project/\").concat(this.instance.config.token,\"/person/\").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}function li(e){return!F(Event)&&ui(e,Event)}function ui(e,t){try{return e instanceof t}catch(e){return!1}}function ci(e,t){return Object.prototype.toString.call(e)===\"[object \".concat(t,\"]\")}function di(e){return ci(e,\"DOMError\")}var hi=/\\(error: (.*)\\)/,_i=50,pi=\"?\";function vi(e,t,i,r){var n={platform:\"web:javascript\",filename:e,function:\"<anonymous>\"===t?pi:t,in_app:!0};return F(i)||(n.lineno=i),F(r)||(n.colno=r),n}var gi=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,fi=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,mi=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,yi=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,bi=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,wi=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],n=e.split(\"\\n\"),s=t;s<n.length;s++){var o=n[s];if(!(o.length>1024)){var a=hi.test(o)?o.replace(hi,\"$1\"):o;if(!a.match(/\\S*Error: /)){for(var l of r){var u=l(a);if(u){i.push(u);break}}if(i.length>=_i)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);return t.reverse(),t.slice(0,_i).map((e=>z(z({},e),{},{filename:e.filename||Si(t).filename,function:e.function||pi})))}(i)}}(...[[30,e=>{var t=gi.exec(e);if(t){var[,i,r,n]=t;return vi(i,pi,+r,+n)}var s=fi.exec(e);if(s){if(s[2]&&0===s[2].indexOf(\"eval\")){var o=mi.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,l]=Ii(s[1]||pi,s[2]);return vi(l,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,e=>{var t=yi.exec(e);if(t){if(t[3]&&t[3].indexOf(\" > eval\")>-1){var i=bi.exec(t[3]);i&&(t[1]=t[1]||\"eval\",t[3]=i[1],t[4]=i[2],t[5]=\"\")}var r=t[3],n=t[1]||pi;return[n,r]=Ii(n,r),vi(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]);function Si(e){return e[e.length-1]||{}}var ki,Ei,xi,Ii=(e,t)=>{var i=-1!==e.indexOf(\"safari-extension\"),r=-1!==e.indexOf(\"safari-web-extension\");return i||r?[-1!==e.indexOf(\"@\")?e.split(\"@\")[0]:pi,i?\"safari-extension:\".concat(t):\"safari-web-extension:\".concat(t)]:[e,t]};var Pi=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.stacktrace||e.stack||\"\",r=function(e){if(e&&Fi.test(e.message))return 1;return 0}(e);try{var n=wi,s=function(e,t){var i=function(e){var t=globalThis._posthogChunkIds;if(!t)return{};var i=Object.keys(t);return xi&&i.length===Ei||(Ei=i.length,xi=i.reduce(((i,r)=>{ki||(ki={});var n=ki[r];if(n)i[n[0]]=n[1];else for(var s=e(r),o=s.length-1;o>=0;o--){var a=s[o],l=null==a?void 0:a.filename,u=t[r];if(l&&u){i[l]=u,ki[r]=[l,u];break}}return i}),{})),xi}(t);return e.forEach((e=>{e.filename&&(e.chunk_id=i[e.filename])})),e}(n(i,r),n);return s.slice(0,s.length-t)}catch(e){}return[]}var Fi=/Minified React error #\\d+;/i;function Ti(e,t){var i,r,n=Ci(e),s=null===(i=null==t?void 0:t.handled)||void 0===i||i,o=null!==(r=null==t?void 0:t.synthetic)&&void 0!==r&&r;return{$exception_list:[{type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:e.name,value:function(e){var t=e.message;if(t.error&&\"string\"==typeof t.error.message)return String(t.error.message);return String(t)}(e),stacktrace:{frames:n,type:\"raw\"},mechanism:{handled:s,synthetic:o}}],$exception_level:\"error\"}}function Ri(e,t){var i,r,n,s=null===(i=null==t?void 0:t.handled)||void 0===i||i,o=null===(r=null==t?void 0:t.synthetic)||void 0===r||r,a={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:null!==(n=null==t?void 0:t.defaultExceptionType)&&void 0!==n?n:\"Error\",value:e||(null==t?void 0:t.defaultExceptionMessage),mechanism:{handled:s,synthetic:o}};if(null!=t&&t.syntheticException){var l=Ci(t.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:\"raw\"})}return{$exception_list:[a],$exception_level:\"error\"}}function $i(e){return T(e)&&!R(e)&&f.indexOf(e)>=0}function Oi(e,t){var i,r,n=null===(i=null==t?void 0:t.handled)||void 0===i||i,s=null===(r=null==t?void 0:t.synthetic)||void 0===r||r,o=null!=t&&t.overrideExceptionType?t.overrideExceptionType:li(e)?e.constructor.name:\"Error\",a=\"Non-Error 'exception' captured with keys: \".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,i=Object.keys(e);if(i.sort(),!i.length)return\"[object has no keys]\";for(var r=i.length;r>0;r--){var n=i.slice(0,r).join(\", \");if(!(n.length>t))return r===i.length||n.length<=t?n:\"\".concat(n.slice(0,t),\"...\")}return\"\"}(e)),l={type:o,value:a,mechanism:{handled:n,synthetic:s}};if(null!=t&&t.syntheticException){var u=Ci(null==t?void 0:t.syntheticException,1);u.length&&(l.stacktrace={frames:u,type:\"raw\"})}return{$exception_list:[l],$exception_level:$i(e.level)?e.level:\"error\"}}function Mi(e,t){var{error:i,event:r}=e,n={$exception_list:[]},s=i||r;if(di(s)||function(e){return ci(e,\"DOMException\")}(s)){var o=s;if(function(e){return\"stack\"in e}(s))n=Ti(s,t);else{var a=o.name||(di(o)?\"DOMError\":\"DOMException\"),l=o.message?\"\".concat(a,\": \").concat(o.message):a,u=di(o)?\"DOMError\":\"DOMException\";n=Ri(l,z(z({},t),{},{overrideExceptionType:u,defaultExceptionMessage:l}))}return\"code\"in o&&(n.$exception_DOMException_code=\"\".concat(o.code)),n}if(function(e){return ci(e,\"ErrorEvent\")}(s)&&s.error)return Ti(s.error,t);if(function(e){switch(Object.prototype.toString.call(e)){case\"[object Error]\":case\"[object Exception]\":case\"[object DOMException]\":case\"[object DOMError]\":return!0;default:return ui(e,Error)}}(s))return Ti(s,t);if(function(e){return ci(e,\"Object\")}(s)||li(s))return Oi(s,t);if(F(i)&&T(r)){var c=\"Error\",d=r,h=r.match(Pi);return h&&(c=h[1],d=h[2]),Ri(d,z(z({},t),{},{overrideExceptionType:c,defaultExceptionMessage:d}))}return Ri(s,t)}function Ai(e){var t,i;return(null===(t=JSON.stringify(e,(i=[],function(e,t){if(P(t)){for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(t)?\"[Circular]\":(i.push(t),t)}return t})))||void 0===t?void 0:t.length)||0}function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){var i=Math.floor(e.data.length/2),r=e.data.slice(0,i),n=e.data.slice(i);return[Li({size:Ai(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Li({size:Ai(n),data:n,sessionId:e.sessionId,windowId:e.windowId})].flatMap((e=>e))}return[e]}var Di=(e=>(e[e.DomContentLoaded=0]=\"DomContentLoaded\",e[e.Load=1]=\"Load\",e[e.FullSnapshot=2]=\"FullSnapshot\",e[e.IncrementalSnapshot=3]=\"IncrementalSnapshot\",e[e.Meta=4]=\"Meta\",e[e.Custom=5]=\"Custom\",e[e.Plugin=6]=\"Plugin\",e))(Di||{}),qi=(e=>(e[e.Mutation=0]=\"Mutation\",e[e.MouseMove=1]=\"MouseMove\",e[e.MouseInteraction=2]=\"MouseInteraction\",e[e.Scroll=3]=\"Scroll\",e[e.ViewportResize=4]=\"ViewportResize\",e[e.Input=5]=\"Input\",e[e.TouchMove=6]=\"TouchMove\",e[e.MediaInteraction=7]=\"MediaInteraction\",e[e.StyleSheetRule=8]=\"StyleSheetRule\",e[e.CanvasMutation=9]=\"CanvasMutation\",e[e.Font=10]=\"Font\",e[e.Log=11]=\"Log\",e[e.Drag=12]=\"Drag\",e[e.StyleDeclaration=13]=\"StyleDeclaration\",e[e.Selection=14]=\"Selection\",e[e.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",e[e.CustomElement=16]=\"CustomElement\",e))(qi||{}),Ni=\"[SessionRecording]\",Bi=\"redacted\",Hi={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\",\".clarity.ms\",\"analytics.google.com\"]},ji=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],Ui=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],zi=[\"/s/\",\"/e/\",\"/i/\"];function Wi(e,t,i,r){if(O(e))return e;var n=(null==t?void 0:t[\"content-length\"])||function(e){return new Blob([e]).size}(e);return T(n)&&(n=parseInt(n)),n>i?Ni+\" \".concat(r,\" body too large to record (\").concat(n,\" bytes)\"):e}function Vi(e,t){if(O(e))return e;var i=e;return pt(i,!1)||(i=Ni+\" \"+t+\" body \"+Bi),Y(Ui,(e=>{var r,n;null!==(r=i)&&void 0!==r&&r.length&&-1!==(null===(n=i)||void 0===n?void 0:n.indexOf(e))&&(i=Ni+\" \"+t+\" body \"+Bi+\" as might contain: \"+e)})),i}var Gi=(e,t)=>{var i,r,n,s={payloadSizeLimitBytes:Hi.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Hi.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...Hi.payloadHostDenyList]},o=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,u=(i=s,n=Math.min(1e6,null!==(r=i.payloadSizeLimitBytes)&&void 0!==r?r:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=Wi(e.requestBody,e.requestHeaders,n,\"Request\")),null!=e&&e.responseBody&&(e.responseBody=Wi(e.responseBody,e.responseHeaders,n,\"Response\")),e)),c=t=>{return u(((e,t)=>{var i,r=St(e.name),n=0===t.indexOf(\"http\")?null===(i=St(t))||void 0===i?void 0:i.pathname:t;\"/\"===n&&(n=\"\");var s=null==r?void 0:r.pathname.replace(n||\"\",\"\");if(!(r&&s&&zi.some((e=>0===s.indexOf(e)))))return e})((r=(i=t).requestHeaders,O(r)||Y(Object.keys(null!=r?r:{}),(e=>{ji.includes(e.toLowerCase())&&(r[e]=Bi)})),i),e.api_host));var i,r},d=I(e.session_recording.maskNetworkRequestFn);return d&&I(e.session_recording.maskCapturedNetworkRequestFn)&&N.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),d&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var i=e.session_recording.maskNetworkRequestFn({url:t.name});return z(z({},t),{},{name:null==i?void 0:i.url})}),s.maskRequestFn=I(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var i,r,n,s=c(t);return s&&null!==(i=null===(r=(n=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(n,s))&&void 0!==i?i:void 0}:e=>function(e){if(!F(e))return e.requestBody=Vi(e.requestBody,\"Request\"),e.responseBody=Vi(e.responseBody,\"Response\"),e}(c(e)),z(z(z({},Hi),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};function Ji(e,t,i,r,n){return t>i&&(N.warn(\"min cannot be greater than max.\"),t=i),M(e)?e>i?(r&&N.warn(r+\" cannot be  greater than max: \"+i+\". Using max value instead.\"),i):e<t?(r&&N.warn(r+\" cannot be less than min: \"+t+\". Using min value instead.\"),t):e:(r&&N.warn(r+\" must be a number. using max or fallback. max: \"+i+\", fallback: \"+n),Ji(n||i,t,i,r))}class Yi{constructor(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(this,\"bucketSize\",100),W(this,\"refillRate\",10),W(this,\"mutationBuckets\",{}),W(this,\"loggedTracker\",{}),W(this,\"refillBuckets\",(()=>{Object.keys(this.mutationBuckets).forEach((e=>{this.mutationBuckets[e]=this.mutationBuckets[e]+this.refillRate,this.mutationBuckets[e]>=this.bucketSize&&delete this.mutationBuckets[e]}))})),W(this,\"getNodeOrRelevantParent\",(e=>{var t=this.rrweb.mirror.getNode(e);if(\"svg\"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var i=t.closest(\"svg\");if(i)return[this.rrweb.mirror.getId(i),i]}return[e,t]})),W(this,\"numberOfChanges\",(e=>{var t,i,r,n,s,o,a,l;return(null!==(t=null===(i=e.removes)||void 0===i?void 0:i.length)&&void 0!==t?t:0)+(null!==(r=null===(n=e.attributes)||void 0===n?void 0:n.length)&&void 0!==r?r:0)+(null!==(s=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==s?s:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)})),W(this,\"throttleMutations\",(e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,i=this.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((e=>{var t,i,r,[n,s]=this.getNodeOrRelevantParent(e.id);if(0===this.mutationBuckets[n])return!1;(this.mutationBuckets[n]=null!==(t=this.mutationBuckets[n])&&void 0!==t?t:this.bucketSize,this.mutationBuckets[n]=Math.max(this.mutationBuckets[n]-1,0),0===this.mutationBuckets[n])&&(this.loggedTracker[n]||(this.loggedTracker[n]=!0,null===(i=(r=this.options).onBlockedNode)||void 0===i||i.call(r,n,s)));return e})));var r=this.numberOfChanges(t);return 0!==r||i===r?e:void 0})),this.rrweb=e,this.options=r,this.refillRate=Ji(null!==(t=this.options.refillRate)&&void 0!==t?t:this.refillRate,0,100,\"mutation throttling refill rate\"),this.bucketSize=Ji(null!==(i=this.options.bucketSize)&&void 0!==i?i:this.bucketSize,0,100,\"mutation throttling bucket size\"),setInterval((()=>{this.refillBuckets()}),1e3)}}var Ki=Uint8Array,Xi=Uint16Array,Qi=Uint32Array,Zi=new Ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),er=new Ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tr=new Ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ir=function(e,t){for(var i=new Xi(31),r=0;r<31;++r)i[r]=t+=1<<e[r-1];var n=new Qi(i[30]);for(r=1;r<30;++r)for(var s=i[r];s<i[r+1];++s)n[s]=s-i[r]<<5|r;return[i,n]},rr=ir(Zi,2),nr=rr[0],sr=rr[1];nr[28]=258,sr[258]=28;for(var or=ir(er,0)[1],ar=new Xi(32768),lr=0;lr<32768;++lr){var ur=(43690&lr)>>>1|(21845&lr)<<1;ur=(61680&(ur=(52428&ur)>>>2|(13107&ur)<<2))>>>4|(3855&ur)<<4,ar[lr]=((65280&ur)>>>8|(255&ur)<<8)>>>1}var cr=function(e,t,i){for(var r=e.length,n=0,s=new Xi(t);n<r;++n)++s[e[n]-1];var o,a=new Xi(t);for(n=0;n<t;++n)a[n]=a[n-1]+s[n-1]<<1;if(i){o=new Xi(1<<t);var l=15-t;for(n=0;n<r;++n)if(e[n])for(var u=n<<4|e[n],c=t-e[n],d=a[e[n]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)o[ar[d]>>>l]=u}else for(o=new Xi(r),n=0;n<r;++n)o[n]=ar[a[e[n]-1]++]>>>15-e[n];return o},dr=new Ki(288);for(lr=0;lr<144;++lr)dr[lr]=8;for(lr=144;lr<256;++lr)dr[lr]=9;for(lr=256;lr<280;++lr)dr[lr]=7;for(lr=280;lr<288;++lr)dr[lr]=8;var hr=new Ki(32);for(lr=0;lr<32;++lr)hr[lr]=5;var _r=cr(dr,9,0),pr=cr(hr,5,0),vr=function(e){return(e/8>>0)+(7&e&&1)},gr=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var r=new(e instanceof Xi?Xi:e instanceof Qi?Qi:Ki)(i-t);return r.set(e.subarray(t,i)),r},fr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8},mr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},yr=function(e,t){for(var i=[],r=0;r<e.length;++r)e[r]&&i.push({s:r,f:e[r]});var n=i.length,s=i.slice();if(!n)return[new Ki(0),0];if(1==n){var o=new Ki(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],u=0,c=1,d=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=n-1;)a=i[i[u].f<i[d].f?u++:d++],l=i[u!=c&&i[u].f<i[d].f?u++:d++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<n;++r)s[r].s>h&&(h=s[r].s);var _=new Xi(h+1),p=br(i[c-1],_,0);if(p>t){r=0;var v=0,g=p-t,f=1<<g;for(s.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));r<n;++r){var m=s[r].s;if(!(_[m]>t))break;v+=f-(1<<p-_[m]),_[m]=t}for(v>>>=g;v>0;){var y=s[r].s;_[y]<t?v-=1<<t-_[y]++-1:++r}for(;r>=0&&v;--r){var b=s[r].s;_[b]==t&&(--_[b],++v)}p=t}return[new Ki(_),p]},br=function(e,t,i){return-1==e.s?Math.max(br(e.l,t,i+1),br(e.r,t,i+1)):t[e.s]=i},wr=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new Xi(++t),r=0,n=e[0],s=1,o=function(e){i[r++]=e},a=1;a<=t;++a)if(e[a]==n&&a!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=e[a]}return[i.subarray(0,r),t]},Sr=function(e,t){for(var i=0,r=0;r<t.length;++r)i+=e[r]*t[r];return i},kr=function(e,t,i){var r=i.length,n=vr(t+2);e[n]=255&r,e[n+1]=r>>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var s=0;s<r;++s)e[n+s+4]=i[s];return 8*(n+4+r)},Er=function(e,t,i,r,n,s,o,a,l,u,c){fr(t,c++,i),++n[256];for(var d=yr(n,15),h=d[0],_=d[1],p=yr(s,15),v=p[0],g=p[1],f=wr(h),m=f[0],y=f[1],b=wr(v),w=b[0],S=b[1],k=new Xi(19),E=0;E<m.length;++E)k[31&m[E]]++;for(E=0;E<w.length;++E)k[31&w[E]]++;for(var x=yr(k,7),I=x[0],P=x[1],C=19;C>4&&!I[tr[C-1]];--C);var F,T,R,$,O=u+5<<3,M=Sr(n,dr)+Sr(s,hr)+o,A=Sr(n,h)+Sr(s,v)+o+14+3*C+Sr(k,I)+(2*k[16]+3*k[17]+7*k[18]);if(O<=M&&O<=A)return kr(t,c,e.subarray(l,l+u));if(fr(t,c,1+(A<M)),c+=2,A<M){F=cr(h,_,0),T=h,R=cr(v,g,0),$=v;var L=cr(I,P,0);fr(t,c,y-257),fr(t,c+5,S-1),fr(t,c+10,C-4),c+=14;for(E=0;E<C;++E)fr(t,c+3*E,I[tr[E]]);c+=3*C;for(var D=[m,w],q=0;q<2;++q){var N=D[q];for(E=0;E<N.length;++E){var B=31&N[E];fr(t,c,L[B]),c+=I[B],B>15&&(fr(t,c,N[E]>>>5&127),c+=N[E]>>>12)}}}else F=_r,T=dr,R=pr,$=hr;for(E=0;E<a;++E)if(r[E]>255){B=r[E]>>>18&31;mr(t,c,F[B+257]),c+=T[B+257],B>7&&(fr(t,c,r[E]>>>23&31),c+=Zi[B]);var H=31&r[E];mr(t,c,R[H]),c+=$[H],H>3&&(mr(t,c,r[E]>>>5&8191),c+=er[H])}else mr(t,c,F[r[E]]),c+=T[r[E]];return mr(t,c,F[256]),c+T[256]},xr=new Qi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ir=function(){for(var e=new Qi(256),t=0;t<256;++t){for(var i=t,r=9;--r;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),Pr=function(){var e=4294967295;return{p:function(t){for(var i=e,r=0;r<t.length;++r)i=Ir[255&i^t[r]]^i>>>8;e=i},d:function(){return 4294967295^e}}},Cr=function(e,t,i,r,n){return function(e,t,i,r,n,s){var o=e.length,a=new Ki(r+o+5*(1+Math.floor(o/7e3))+n),l=a.subarray(r,a.length-n),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var d=c+65535;d<o?u=kr(l,u,e.subarray(c,d)):(l[c]=s,u=kr(l,u,e.subarray(c,o)))}else{for(var h=xr[t-1],_=h>>>13,p=8191&h,v=(1<<i)-1,g=new Xi(32768),f=new Xi(v+1),m=Math.ceil(i/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&v},w=new Qi(25e3),S=new Xi(288),k=new Xi(32),E=0,x=0,I=(c=0,0),P=0,C=0;c<o;++c){var F=b(c),T=32767&c,R=f[F];if(g[T]=R,f[F]=T,P<=c){var $=o-c;if((E>7e3||I>24576)&&$>423){u=Er(e,l,0,w,S,k,x,I,C,c-C,u),I=E=x=0,C=c;for(var O=0;O<286;++O)S[O]=0;for(O=0;O<30;++O)k[O]=0}var M=2,A=0,L=p,D=T-R&32767;if($>2&&F==b(c-D))for(var q=Math.min(_,$)-1,N=Math.min(32767,c),B=Math.min(258,$);D<=N&&--L&&T!=R;){if(e[c+M]==e[c+M-D]){for(var H=0;H<B&&e[c+H]==e[c+H-D];++H);if(H>M){if(M=H,A=D,H>q)break;var j=Math.min(D,H-2),U=0;for(O=0;O<j;++O){var z=c-D+O+32768&32767,W=z-g[z]+32768&32767;W>U&&(U=W,R=z)}}}D+=(T=R)-(R=g[T])+32768&32767}if(A){w[I++]=268435456|sr[M]<<18|or[A];var V=31&sr[M],G=31&or[A];x+=Zi[V]+er[G],++S[257+V],++k[G],P=c+M,++E}else w[I++]=e[c],++S[e[c]]}}u=Er(e,l,s,w,S,k,x,I,C,c-C,u)}return gr(a,0,r+vr(u)+n)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,r,!n)},Fr=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},Tr=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Fr(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var r=0;r<=i.length;++r)e[r+10]=i.charCodeAt(r)}},Rr=function(e){return 10+(e.filename&&e.filename.length+1||0)};function $r(e,t){void 0===t&&(t={});var i=Pr(),r=e.length;i.p(e);var n=Cr(e,t,Rr(t),8),s=n.length;return Tr(n,t),Fr(n,s-8,i.d()),Fr(n,s-4,r),n}function Or(e,t){var i=e.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new Ki(e.length+(e.length>>>1)),n=0,s=function(e){r[n++]=e},o=0;o<i;++o){if(n+5>r.length){var a=new Ki(n+8+(i-o<<1));a.set(r),r=a}var l=e.charCodeAt(o);l<128||t?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return gr(r,0,n)}function Mr(e,t){return function(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}(e)%100<Ji(100*t,0,100)}var Ar=\"[SessionRecording]\",Lr=B(Ar);function Dr(){var e,t;return null==_||null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}var qr=3e5,Nr=[qi.MouseMove,qi.MouseInteraction,qi.Scroll,qi.ViewportResize,qi.Input,qi.TouchMove,qi.MediaInteraction,qi.Drag],Br=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function Hr(e){return function(e,t){for(var i=\"\",r=0;r<e.length;){var n=e[r++];n<128||t?i+=String.fromCharCode(n):n<224?i+=String.fromCharCode((31&n)<<6|63&e[r++]):n<240?i+=String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,i+=String.fromCharCode(55296|n>>10,56320|1023&n))}return i}($r(Or(JSON.stringify(e))),!0)}function jr(e){return e.type===Di.Custom&&\"sessionIdle\"===e.data.tag}function Ur(e,t){return t.some((t=>\"regex\"===t.matching&&new RegExp(t.url).test(e)))}class zr{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Ar+\" must be started with a valid sessionManager.\");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var e,t;return\"trigger_pending\"===this.triggerStatus?6e4:null!==(e=null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:qr}get isSampled(){var e=this.instance.get_property(xe);return A(e)?e:null}get sessionDuration(){var e,t,i=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],{sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-r:null}get isRecordingEnabled(){var e=!!this.instance.get_property(ge),i=!this.instance.config.disable_session_recording;return t&&e&&i}get isConsoleLogCaptureEnabled(){var e=!!this.instance.get_property(fe),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}get canvasRecording(){var e,t,i,r,n,s,o=this.instance.config.session_recording.captureCanvas,a=this.instance.get_property(be),l=null!==(e=null!==(t=null==o?void 0:o.recordCanvas)&&void 0!==t?t:null==a?void 0:a.enabled)&&void 0!==e&&e,u=null!==(i=null!==(r=null==o?void 0:o.canvasFps)&&void 0!==r?r:null==a?void 0:a.fps)&&void 0!==i?i:4,c=null!==(n=null!==(s=null==o?void 0:o.canvasQuality)&&void 0!==s?s:null==a?void 0:a.quality)&&void 0!==n?n:.4;if(\"string\"==typeof c){var d=parseFloat(c);c=isNaN(d)?.4:d}return{enabled:l,fps:Ji(u,0,12,\"canvas recording fps\",4),quality:Ji(c,0,1,\"canvas recording quality\",.4)}}get networkPayloadCapture(){var e,t,i=this.instance.get_property(me),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},n=(null==r?void 0:r.recordHeaders)||(null==i?void 0:i.recordHeaders),s=(null==r?void 0:r.recordBody)||(null==i?void 0:i.recordBody),o=P(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(A(o)?o:null==i?void 0:i.capturePerformance);return n||s||a?{recordHeaders:n,recordBody:s,recordPerformance:a}:void 0}get masking(){var e,t,i,r,n,s,o=this.instance.get_property(ye),a={maskAllInputs:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.maskAllInputs,maskTextSelector:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.maskTextSelector,blockSelector:null===(i=this.instance.config.session_recording)||void 0===i?void 0:i.blockSelector},l=null!==(r=null==a?void 0:a.maskAllInputs)&&void 0!==r?r:null==o?void 0:o.maskAllInputs,u=null!==(n=null==a?void 0:a.maskTextSelector)&&void 0!==n?n:null==o?void 0:o.maskTextSelector,c=null!==(s=null==a?void 0:a.blockSelector)&&void 0!==s?s:null==o?void 0:o.blockSelector;return F(l)&&F(u)&&F(c)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:c}}get sampleRate(){var e=this.instance.get_property(we);return M(e)?e:null}get minimumDuration(){var e=this.instance.get_property(Se);return M(e)?e:null}get status(){return this.receivedDecide?this.isRecordingEnabled?!1===this.isSampled?\"disabled\":this._urlBlocked?\"paused\":O(this._linkedFlag)||this._linkedFlagSeen?\"trigger_pending\"===this.triggerStatus?\"buffering\":A(this.isSampled)?this.isSampled?\"sampled\":\"disabled\":\"active\":\"buffering\":\"disabled\":\"buffering\"}get urlTriggerStatus(){var e;return 0===this._urlTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ie))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get eventTriggerStatus(){var e;return 0===this._eventTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Pe))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get triggerStatus(){var e=\"trigger_activated\"===this.eventTriggerStatus||\"trigger_activated\"===this.urlTriggerStatus,t=\"trigger_pending\"===this.eventTriggerStatus||\"trigger_pending\"===this.urlTriggerStatus;return e?\"trigger_activated\":t?\"trigger_pending\":\"trigger_disabled\"}constructor(e){if(W(this,\"queuedRRWebEvents\",[]),W(this,\"isIdle\",\"unknown\"),W(this,\"_linkedFlagSeen\",!1),W(this,\"_lastActivityTimestamp\",Date.now()),W(this,\"_linkedFlag\",null),W(this,\"_removePageViewCaptureHook\",void 0),W(this,\"_onSessionIdListener\",void 0),W(this,\"_persistDecideOnSessionListener\",void 0),W(this,\"_samplingSessionListener\",void 0),W(this,\"_urlTriggers\",[]),W(this,\"_urlBlocklist\",[]),W(this,\"_urlBlocked\",!1),W(this,\"_eventTriggers\",[]),W(this,\"_removeEventTriggerCaptureHook\",void 0),W(this,\"_forceAllowLocalhostNetworkCapture\",!1),W(this,\"_onBeforeUnload\",(()=>{this._flushBuffer()})),W(this,\"_onOffline\",(()=>{this._tryAddCustomEvent(\"browser offline\",{})})),W(this,\"_onOnline\",(()=>{this._tryAddCustomEvent(\"browser online\",{})})),W(this,\"_onVisibilityChange\",(()=>{if(null!=a&&a.visibilityState){var e=\"window \"+a.visibilityState;this._tryAddCustomEvent(e,{})}})),this.instance=e,this._captureStarted=!1,this._endpoint=\"/s/\",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw Lr.error(\"started without valid sessionManager\"),new Error(Ar+\" started without valid sessionManager. This is a bug.\");if(this.instance.config.__preview_experimental_cookieless_mode)throw new Error(Ar+\" cannot be used with __preview_experimental_cookieless_mode.\");var{sessionId:t,windowId:i}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=t,this.windowId=i,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&Lr.warn(\"session_idle_threshold_ms (\".concat(this.sessionIdleThresholdMilliseconds,\") is greater than the session timeout (\").concat(this.sessionManager.sessionTimeoutMs,\"). Session will never be detected as idle\"))}startIfEnabledOrStop(e){this.isRecordingEnabled?(this._startCapture(e),oe(t,\"beforeunload\",this._onBeforeUnload),oe(t,\"offline\",this._onOffline),oe(t,\"online\",this._onOnline),oe(t,\"visibilitychange\",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),O(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{if(\"$pageview\"===e.event){var t=null!=e&&e.properties.$current_url?this._maskUrl(null==e?void 0:e.properties.$current_url):\"\";if(!t)return;this._tryAddCustomEvent(\"$pageview\",{href:t})}}catch(e){Lr.error(\"Could not add $pageview to rrweb session\",e)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId(((e,t,i)=>{var r,n,s,o;i&&(this._tryAddCustomEvent(\"$session_id_change\",{sessionId:e,windowId:t,changeReason:i}),null===(r=this.instance)||void 0===r||null===(n=r.persistence)||void 0===n||n.unregister(Pe),null===(s=this.instance)||void 0===s||null===(o=s.persistence)||void 0===o||o.unregister(Ie))})))):this.stopRecording()}stopRecording(){var e,i,r,n;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==t||t.removeEventListener(\"beforeunload\",this._onBeforeUnload),null==t||t.removeEventListener(\"offline\",this._onOffline),null==t||t.removeEventListener(\"online\",this._onOnline),null==t||t.removeEventListener(\"visibilitychange\",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(e=this._removePageViewCaptureHook)||void 0===e||e.call(this),this._removePageViewCaptureHook=void 0,null===(i=this._removeEventTriggerCaptureHook)||void 0===i||i.call(this),this._removeEventTriggerCaptureHook=void 0,null===(r=this._onSessionIdListener)||void 0===r||r.call(this),this._onSessionIdListener=void 0,null===(n=this._samplingSessionListener)||void 0===n||n.call(this),this._samplingSessionListener=void 0,Lr.info(\"stopped\"))}_resetSampling(){var e;null===(e=this.instance.persistence)||void 0===e||e.unregister(xe)}makeSamplingDecision(e){var t,i=this.sessionId!==e,r=this.sampleRate;if(M(r)){var n=this.isSampled,s=i||!A(n),o=s?Mr(e,r):n;s&&(o?this._reportStarted(\"sampled\"):Lr.warn(\"Sample rate (\".concat(r,\") has determined that this sessionId (\").concat(e,\") will not be sent to the server.\")),this._tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:r,isSampled:o})),null===(t=this.instance.persistence)||void 0===t||t.register({[xe]:o})}else this._resetSampling()}onRemoteConfig(e){var t,i,r,n,s,o;(this._tryAddCustomEvent(\"$remote_config_received\",e),this._persistRemoteConfig(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(i=e.sessionRecording)&&void 0!==i&&i.endpoint)&&(this._endpoint=null===(o=e.sessionRecording)||void 0===o?void 0:o.endpoint);if(this._setupSampling(),!O(this._linkedFlag)&&!this._linkedFlagSeen){var a=T(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,l=T(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(((e,t)=>{var i=P(t)&&a in t,r=l?t[a]===l:i;r&&this._reportStarted(\"linked_flag_matched\",{linkedFlag:a,linkedVariant:l}),this._linkedFlagSeen=r}))}null!==(r=e.sessionRecording)&&void 0!==r&&r.urlTriggers&&(this._urlTriggers=e.sessionRecording.urlTriggers),null!==(n=e.sessionRecording)&&void 0!==n&&n.urlBlocklist&&(this._urlBlocklist=e.sessionRecording.urlBlocklist),null!==(s=e.sessionRecording)&&void 0!==s&&s.eventTriggers&&(this._eventTriggers=e.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){M(this.sampleRate)&&O(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((e=>{this.makeSamplingDecision(e)})))}_persistRemoteConfig(e){if(this.instance.persistence){var t,i=this.instance.persistence,r=()=>{var t,r,n,s,o,a,l,u,c,d=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,h=O(d)?null:parseFloat(d);O(h)&&this._resetSampling();var _=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;i.register({[ge]:!!e.sessionRecording,[fe]:null===(n=e.sessionRecording)||void 0===n?void 0:n.consoleLogRecordingEnabled,[me]:z({capturePerformance:e.capturePerformance},null===(s=e.sessionRecording)||void 0===s?void 0:s.networkPayloadCapture),[ye]:null===(o=e.sessionRecording)||void 0===o?void 0:o.masking,[be]:{enabled:null===(a=e.sessionRecording)||void 0===a?void 0:a.recordCanvas,fps:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasFps,quality:null===(u=e.sessionRecording)||void 0===u?void 0:u.canvasQuality},[we]:h,[Se]:F(_)?null:_,[ke]:null===(c=e.sessionRecording)||void 0===c?void 0:c.scriptConfig})};r(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(r)}}log(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"log\";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}_startCapture(e){if(!F(Object.assign)&&!F(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var t,i;if(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),Dr())this._onScriptLoaded();else null===(t=_.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,this.scriptName,(e=>{if(e)return Lr.error(\"could not load recorder\",e);this._onScriptLoaded()}));Lr.info(\"starting\"),\"active\"===this.status&&this._reportStarted(e||\"recording_initialized\")}}get scriptName(){var e,t,i;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t||null===(i=t.get_property(ke))||void 0===i?void 0:i.script)||\"recorder\"}isInteractiveEvent(e){var t;return 3===e.type&&-1!==Nr.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}_updateWindowAndSessionIds(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var i=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle)){var r=\"unknown\"===this.isIdle;this.isIdle=!1,r||(this._tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:e.type}),i=!0)}if(!this.isIdle){var{windowId:n,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),o=this.sessionId!==s,a=this.windowId!==n;this.windowId=n,this.sessionId=s,o||a?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):i&&this._scheduleFullSnapshot()}}_tryRRWebMethod(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):Lr.warn(\"could not emit queued rrweb event.\",t,e),!1}}_tryAddCustomEvent(e,t){return this._tryRRWebMethod(Br((()=>Dr().addCustomEvent(e,t))))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(Br((()=>Dr().takeFullSnapshot())))}_onScriptLoaded(){var e,t,i,r,n={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},s=this.instance.config.session_recording;for(var[o,a]of Object.entries(s||{}))o in n&&(\"maskInputOptions\"===o?n.maskInputOptions=z({password:!0},a):n[o]=a);(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:\"image/webp\",quality:this.canvasRecording.quality}),this.masking)&&(n.maskAllInputs=null===(t=this.masking.maskAllInputs)||void 0===t||t,n.maskTextSelector=null!==(i=this.masking.maskTextSelector)&&void 0!==i?i:void 0,n.blockSelector=null!==(r=this.masking.blockSelector)&&void 0!==r?r:void 0);var l=Dr();if(l){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new Yi(l,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{var i=\"Too many mutations on node '\".concat(e,\"'. Rate limiting. This could be due to SVG animations or something similar\");Lr.info(i,{node:t}),this.log(Ar+\" \"+i,\"warn\")}});var u=this._gatherRRWebPlugins();this.stopRrweb=l(z({emit:e=>{this.onRRwebEmit(e)},plugins:u},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=A(this.isIdle)?this.isIdle:\"unknown\",this._tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:n,activePlugins:u.map((e=>null==e?void 0:e.name))}),this._tryAddCustomEvent(\"$posthog_config\",{config:this.instance.config})}else Lr.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!0!==this.isIdle){var e=this.fullSnapshotIntervalMillis;e&&(this._fullSnapshotTimer=setInterval((()=>{this._tryTakeFullSnapshot()}),e))}}_gatherRRWebPlugins(){var e,t,i,r,n=[],s=null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;s&&this.isConsoleLogCaptureEnabled&&n.push(s());var o=null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.rrwebPlugins)||void 0===r?void 0:r.getRecordNetworkPlugin;this.networkPayloadCapture&&I(o)&&(!wt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(o(Gi(this.instance.config,this.networkPayloadCapture))):Lr.info(\"NetworkCapture not started because we are on localhost.\"));return n}onRRwebEmit(e){var t;if(this._processQueuedEvents(),e&&P(e)){if(e.type===Di.Meta){var i=this._maskUrl(e.data.href);if(this._lastHref=i,!i)return;e.data.href=i}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),!this._urlBlocked||function(e){return e.type===Di.Custom&&\"recording paused\"===e.data.tag}(e)){e.type===Di.FullSnapshot&&this._scheduleFullSnapshot(),e.type===Di.FullSnapshot&&\"trigger_pending\"===this.triggerStatus&&this.clearBuffer();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(r){var n=function(e){var t=e;if(t&&P(t)&&6===t.type&&P(t.data)&&\"rrweb/console@1\"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push(\"...[truncated]\"));for(var i=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?i.push(t.data.payload.payload[r].slice(0,2e3)+\"...[truncated]\"):i.push(t.data.payload.payload[r]);return t.data.payload.payload=i,e}return e}(r);if(this._updateWindowAndSessionIds(n),!0!==this.isIdle||jr(n)){if(jr(n)){var s=n.data.payload;if(s){var o=s.lastActivityTimestamp,a=s.threshold;n.timestamp=o+a}}var l=null===(t=this.instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(Ai(e)<1024)return e;try{if(e.type===Di.FullSnapshot)return z(z({},e),{},{data:Hr(e.data),cv:\"2024-10\"});if(e.type===Di.IncrementalSnapshot&&e.data.source===qi.Mutation)return z(z({},e),{},{cv:\"2024-10\",data:z(z({},e.data),{},{texts:Hr(e.data.texts),attributes:Hr(e.data.attributes),removes:Hr(e.data.removes),adds:Hr(e.data.adds)})});if(e.type===Di.IncrementalSnapshot&&e.data.source===qi.StyleSheetRule)return z(z({},e),{},{cv:\"2024-10\",data:z(z({},e.data),{},{adds:e.data.adds?Hr(e.data.adds):void 0,removes:e.data.removes?Hr(e.data.removes):void 0})})}catch(e){Lr.error(\"could not compress event - will use uncompressed event\",e)}return e}(n):n,u={$snapshot_bytes:Ai(l),$snapshot_data:l,$session_id:this.sessionId,$window_id:this.windowId};\"disabled\"!==this.status?this._captureSnapshotBuffered(u):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&t){var e=this._maskUrl(t.location.href);this._lastHref!==e&&(this._tryAddCustomEvent(\"$url_changed\",{href:e}),this._lastHref=e)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var e=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],e.forEach((e=>{Date.now()-e.enqueuedAt<=2e3&&this._tryRRWebMethod(e)}))}}_maskUrl(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var i,r={url:e};return null===(i=r=t.maskNetworkRequestFn(r))||void 0===i?void 0:i.url}return e}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var e=this.minimumDuration,t=this.sessionDuration,i=M(t)&&t>=0,r=M(e)&&i&&t<e;if(\"buffering\"===this.status||\"paused\"===this.status||\"disabled\"===this.status||r)return this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3),this.buffer;this.buffer.data.length>0&&Li(this.buffer).forEach((e=>{this._captureSnapshot({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:\"web\",$lib_version:p.LIB_VERSION})}));return this.clearBuffer()}_captureSnapshotBuffered(e){var t,i=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3))}_captureSnapshot(e){this.instance.capture(\"$snapshot\",e,{_url:this.instance.requestRouter.endpointFor(\"api\",this._endpoint),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(void 0!==t&&t.location.href){var e=t.location.href,i=this._urlBlocked,r=Ur(e,this._urlBlocklist);r&&!i?this._pauseRecording():!r&&i&&this._resumeRecording(),Ur(e,this._urlTriggers)&&this._activateTrigger(\"url\")}}_activateTrigger(e){var t,i;\"trigger_pending\"===this.triggerStatus&&(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[\"url\"===e?Ie:Pe]:this.sessionId}),this._flushBuffer(),this._reportStarted(e+\"_trigger_matched\"))}_pauseRecording(){this._urlBlocked||(this._urlBlocked=!0,clearInterval(this._fullSnapshotTimer),Lr.info(\"recording paused due to URL blocker\"),this._tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}_resumeRecording(){this._urlBlocked&&(this._urlBlocked=!1,this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),Lr.info(\"recording resumed\"))}_addEventTriggerListener(){0!==this._eventTriggers.length&&O(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{this._eventTriggers.includes(e.event)&&this._activateTrigger(\"event\")}catch(e){Lr.error(\"Could not activate event trigger\",e)}})))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._tryTakeFullSnapshot(),this._reportStarted(\"linked_flag_overridden\")}overrideSampling(){var e;null===(e=this.instance.persistence)||void 0===e||e.register({[xe]:!0}),this._tryTakeFullSnapshot(),this._reportStarted(\"sampling_overridden\")}overrideTrigger(e){this._activateTrigger(e)}_reportStarted(e,t){this.instance.register_for_session({$session_recording_start_reason:e}),Lr.info(e.replace(\"_\",\" \"),t),m([\"recording_initialized\",\"session_id_changed\"],e)||this._tryAddCustomEvent(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.buffer.data.length,$sdk_debug_replay_internal_buffer_size:this.buffer.size,$sdk_debug_current_session_duration:this.sessionDuration,$sdk_debug_session_start:e}}}var Wr=B(\"[SegmentIntegration]\");function Vr(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var r=i=>{var r=()=>i.anonymousId()||Nt();e.config.get_device_id=r,i.id()&&(e.register({distinct_id:i.id(),$device_id:r()}),e.persistence.set_property(Le,\"identified\")),t()},n=i.user();\"then\"in n&&I(n.then)?n.then((e=>r(e))):r(n)}(e,(()=>{i.register((e=>{Promise&&Promise.resolve||Wr.warn(\"This browser does not have Promise support, and can not use the segment integration\");var t=(t,i)=>{var r;if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(Wr.info(\"No userId set, resetting PostHog\"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(Wr.info(\"UserId set, identifying with PostHog\"),e.identify(t.event.userId));var n=e._calculate_event_properties(i,null!==(r=t.event.properties)&&void 0!==r?r:{},new Date);return t.event.properties=Object.assign({},n,t.event.properties),t};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,\"$pageview\"),identify:e=>t(e,\"$identify\"),screen:e=>t(e,\"$screen\")}})(e)).then((()=>{t()}))}))}var Gr=\"posthog-js\";function Jr(e){var{organization:t,projectId:i,prefix:r,severityAllowList:n=[\"error\"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s=>{var o,a,l,u,c;if(!(\"*\"===n||n.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var d=e.requestRouter.endpointFor(\"ui\",\"/project/\".concat(e.config.token,\"/person/\").concat(e.get_distinct_id()));s.tags[\"PostHog Person URL\"]=d,e.sessionRecordingStarted()&&(s.tags[\"PostHog Recording URL\"]=e.get_session_replay_url({withTimestamp:!0}));var h=(null===(o=s.exception)||void 0===o?void 0:o.values)||[],_=h.map((e=>z(z({},e),{},{stacktrace:e.stacktrace?z(z({},e.stacktrace),{},{type:\"raw\",frames:(e.stacktrace.frames||[]).map((e=>z(z({},e),{},{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null===(a=h[0])||void 0===a?void 0:a.value)||s.message,$exception_type:null===(l=h[0])||void 0===l?void 0:l.type,$exception_personURL:d,$exception_level:s.level,$exception_list:_,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:(null===(u=h[0])||void 0===u?void 0:u.value)||s.message,$sentry_exception_type:null===(c=h[0])||void 0===c?void 0:c.type,$sentry_tags:s.tags};return t&&i&&(p.$sentry_url=(r||\"https://sentry.io/organizations/\")+t+\"/issues/?project=\"+i+\"&query=\"+s.event_id),e.exceptions.sendExceptionEvent(p),s}}class Yr{constructor(e,t,i,r,n){this.name=Gr,this.setupOnce=function(s){s(Jr(e,{organization:t,projectId:i,prefix:r,severityAllowList:n}))}}}var Kr,Xr=null!=t&&t.location?It(t.location.hash,\"__posthog\")||It(location.hash,\"state\"):null,Qr=\"_postHogToolbarParams\",Zr=B(\"[Toolbar]\");!function(e){e[e.UNINITIALIZED=0]=\"UNINITIALIZED\",e[e.LOADING=1]=\"LOADING\",e[e.LOADED=2]=\"LOADED\"}(Kr||(Kr={}));class en{constructor(e){this.instance=e}setToolbarState(e){_.ph_toolbar_state=e}getToolbarState(){var e;return null!==(e=_.ph_toolbar_state)&&void 0!==e?e:Kr.UNINITIALIZED}maybeLoadToolbar(){var e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!t||!a)return!1;r=null!==(e=r)&&void 0!==e?e:t.location,s=null!==(i=s)&&void 0!==i?i:t.history;try{if(!n){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(e){return!1}n=null==t?void 0:t.localStorage}var o,l=Xr||It(r.hash,\"__posthog\")||It(r.hash,\"state\"),u=l?Z((()=>JSON.parse(atob(decodeURIComponent(l)))))||Z((()=>JSON.parse(decodeURIComponent(l)))):null;return u&&\"ph_authorize\"===u.action?((o=u).source=\"url\",o&&Object.keys(o).length>0&&(u.desiredHash?r.hash=u.desiredHash:s?s.replaceState(s.state,\"\",r.pathname+r.search):r.hash=\"\")):((o=JSON.parse(n.getItem(Qr)||\"{}\")).source=\"localstorage\",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch(e){return!1}}_callLoadToolbar(e){var t=_.ph_load_toolbar||_.ph_load_editor;!O(t)&&I(t)?t(e,this.instance):Zr.warn(\"No toolbar load function found\")}loadToolbar(e){var i=!(null==a||!a.getElementById(Ue));if(!t||i)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,n=z(z({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(Qr,JSON.stringify(z(z({},n),{},{source:void 0}))),this.getToolbarState()===Kr.LOADED)this._callLoadToolbar(n);else if(this.getToolbarState()===Kr.UNINITIALIZED){var s,o;this.setToolbarState(Kr.LOADING),null===(s=_.__PosthogExtensions__)||void 0===s||null===(o=s.loadExternalDependency)||void 0===o||o.call(s,this.instance,\"toolbar\",(e=>{if(e)return Zr.error(\"[Toolbar] Failed to load\",e),void this.setToolbarState(Kr.UNINITIALIZED);this.setToolbarState(Kr.LOADED),this._callLoadToolbar(n)})),oe(t,\"turbolinks:load\",(()=>{this.setToolbarState(Kr.UNINITIALIZED),this.loadToolbar(n)}))}return!0}_loadEditor(e){return this.loadToolbar(e)}maybeLoadEditor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,i)}}var tn=B(\"[TracingHeaders]\");class rn{constructor(e){W(this,\"_restoreXHRPatch\",void 0),W(this,\"_restoreFetchPatch\",void 0),W(this,\"_startCapturing\",(()=>{var e,t,i,r;F(this._restoreXHRPatch)&&(null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(this.instance.sessionManager));F(this._restoreFetchPatch)&&(null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.tracingHeadersPatchFns)||void 0===r||r._patchFetch(this.instance.sessionManager))})),this.instance=e}_loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"tracing-headers\",(t=>{if(t)return tn.error(\"failed to load script\",t);e()}))}startIfEnabledOrStop(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var nn=B(\"[Web Vitals]\"),sn=9e5;class on{constructor(e){var t;W(this,\"_enabledServerSide\",!1),W(this,\"_initialized\",!1),W(this,\"buffer\",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),W(this,\"_flushToCapture\",(()=>{clearTimeout(this._delayedFlushTimer),0!==this.buffer.metrics.length&&(this.instance.capture(\"$web_vitals\",this.buffer.metrics.reduce(((e,t)=>z(z({},e),{},{[\"$web_vitals_\".concat(t.name,\"_event\")]:z({},t),[\"$web_vitals_\".concat(t.name,\"_value\")]:t.value})),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})})),W(this,\"_addToBuffer\",(e=>{var t,i=null===(t=this.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(F(i))nn.error(\"Could not read session ID. Dropping metrics!\");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this._currentURL();if(!F(r))if(O(null==e?void 0:e.name)||O(null==e?void 0:e.value))nn.error(\"Invalid metric received\",e);else if(this._maxAllowedValue&&e.value>=this._maxAllowedValue)nn.error(\"Ignoring metric with value >= \"+this._maxAllowedValue,e);else this.buffer.url!==r&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),F(this.buffer.url)&&(this.buffer.url=r),this.buffer.firstMetricTimestamp=F(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(z(z({},e),{},{$current_url:r,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}})),W(this,\"_startCapturing\",(()=>{var e,t,i,r,n=_.__PosthogExtensions__;F(n)||F(n.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:r}=n.postHogWebVitalsCallbacks),e&&t&&i&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&e(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this._addToBuffer.bind(this)),this._initialized=!0):nn.error(\"web vitals callbacks not loaded - not starting\")})),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[_e]),this.startIfEnabled()}get allowedMetrics(){var e,t,i=P(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return F(i)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[ve])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:i}get flushToCaptureTimeoutMs(){return(P(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var e=P(this.instance.config.capture_performance)&&M(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:sn;return 0<e&&e<=6e4?sn:e}get isEnabled(){var e=null==l?void 0:l.protocol;if(\"http:\"!==e&&\"https:\"!==e)return nn.info(\"Web Vitals are disabled on non-http/https protocols\"),!1;var t=P(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:A(this.instance.config.capture_performance)?this.instance.config.capture_performance:void 0;return A(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(nn.info(\"enabled, starting...\"),this.loadScript(this._startCapturing))}onRemoteConfig(e){var t=P(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=P(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[_e]:t}),this.instance.persistence.register({[ve]:i})),this._enabledServerSide=t,this.startIfEnabled()}loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"web-vitals\",(t=>{t?nn.error(\"failed to load script\",t):e()}))}_currentURL(){var e=t?t.location.href:void 0;return e||nn.error(\"Could not determine current URL\"),e}}var an=B(\"[Heatmaps]\");function ln(e){return P(e)&&\"clientX\"in e&&\"clientY\"in e&&M(e.clientX)&&M(e.clientY)}class un{constructor(e){var t;W(this,\"rageclicks\",new bt),W(this,\"_enabledServerSide\",!1),W(this,\"_initialized\",!1),W(this,\"_flushInterval\",null),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[de])}get flushIntervalMilliseconds(){var e=5e3;return P(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return F(this.instance.config.capture_heatmaps)?F(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;an.info(\"starting...\"),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),null===(t=this.deadClicksCapture)||void 0===t||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[de]:t}),this._enabledServerSide=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.buffer;return this.buffer=void 0,e}_onDeadClick(e){this._onClick(e.originalEvent,\"deadclick\")}_setupListeners(){t&&a&&(oe(t,\"beforeunload\",this.flush.bind(this)),oe(a,\"click\",(e=>this._onClick(e||(null==t?void 0:t.event))),{capture:!0}),oe(a,\"mousemove\",(e=>this._onMouseMove(e||(null==t?void 0:t.event))),{capture:!0}),this.deadClicksCapture=new si(this.instance,ri,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(e,i){var r=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(e,i,r){for(var n=e;n&&Ge(n)&&!Je(n,\"body\");){if(n===r)return!1;if(m(i,null==t?void 0:t.getComputedStyle(n).position))return!0;n=nt(n)}return!1}(it(e),[\"fixed\",\"sticky\"],s);return{x:e.clientX+(o?0:n),y:e.clientY+(o?0:r),target_fixed:o,type:i}}_onClick(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"click\";if(!Ve(e.target)&&ln(e)){var r=this._getProperties(e,i);null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(z(z({},r),{},{type:\"rageclick\"})),this._capture(r)}}_onMouseMove(e){!Ve(e.target)&&ln(e)&&(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((()=>{this._capture(this._getProperties(e,\"mousemove\"))}),500))}_capture(e){if(t){var i=t.location.href;this.buffer=this.buffer||{},this.buffer[i]||(this.buffer[i]=[]),this.buffer[i].push(e)}}flush(){this.buffer&&!C(this.buffer)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class cn{constructor(e){this._instance=e}doPageView(e,i){var r,n=this._previousPageViewProperties(e,i);return this._currentPageview={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:i,timestamp:e},this._instance.scrollManager.resetContext(),n}doPageLeave(e){var t;return this._previousPageViewProperties(e,null===(t=this._currentPageview)||void 0===t?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null===(e=this._currentPageview)||void 0===e?void 0:e.pageViewId}}_previousPageViewProperties(e,t){var i=this._currentPageview;if(!i)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:i.pageViewId},n=this._instance.scrollManager.getContext();if(n&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:c}=n;if(!(F(s)||F(o)||F(a)||F(l)||F(u)||F(c))){s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var d=s<=1?1:Ji(o/s,0,1),h=s<=1?1:Ji(a/s,0,1),_=l<=1?1:Ji(u/l,0,1),p=l<=1?1:Ji(c/l,0,1);r=K(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:_,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:p})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}class dn{constructor(e){this.instance=e}sendExceptionEvent(e){this.instance.capture(\"$exception\",e,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}}var hn=\"Mobile\",_n=\"iOS\",pn=\"Android\",vn=\"Tablet\",gn=pn+\" \"+vn,fn=\"iPad\",mn=\"Apple\",yn=mn+\" Watch\",bn=\"Safari\",wn=\"BlackBerry\",Sn=\"Samsung\",kn=Sn+\"Browser\",En=Sn+\" Internet\",xn=\"Chrome\",In=xn+\" OS\",Pn=xn+\" \"+_n,Cn=\"Internet Explorer\",Fn=Cn+\" \"+hn,Tn=\"Opera\",Rn=Tn+\" Mini\",$n=\"Edge\",On=\"Microsoft \"+$n,Mn=\"Firefox\",An=Mn+\" \"+_n,Ln=\"Nintendo\",Dn=\"PlayStation\",qn=\"Xbox\",Nn=pn+\" \"+hn,Bn=hn+\" \"+bn,Hn=\"Windows\",jn=Hn+\" Phone\",Un=\"Nokia\",zn=\"Ouya\",Wn=\"Generic\",Vn=Wn+\" \"+hn.toLowerCase(),Gn=Wn+\" \"+vn.toLowerCase(),Jn=\"Konqueror\",Yn=\"(\\\\d+(\\\\.\\\\d+)?)\",Kn=new RegExp(\"Version/\"+Yn),Xn=new RegExp(qn,\"i\"),Qn=new RegExp(Dn+\" \\\\w+\",\"i\"),Zn=new RegExp(Ln+\" \\\\w+\",\"i\"),es=new RegExp(wn+\"|PlayBook|BB10\",\"i\"),ts={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var is,rs=(e,t)=>t&&m(t,mn)||function(e){return m(e,bn)&&!m(e,xn)&&!m(e,pn)}(e),ns=function(e,t){return t=t||\"\",m(e,\" OPR/\")&&m(e,\"Mini\")?Rn:m(e,\" OPR/\")?Tn:es.test(e)?wn:m(e,\"IE\"+hn)||m(e,\"WPDesktop\")?Fn:m(e,kn)?En:m(e,$n)||m(e,\"Edg/\")?On:m(e,\"FBIOS\")?\"Facebook \"+hn:m(e,\"UCWEB\")||m(e,\"UCBrowser\")?\"UC Browser\":m(e,\"CriOS\")?Pn:m(e,\"CrMo\")||m(e,xn)?xn:m(e,pn)&&m(e,bn)?Nn:m(e,\"FxiOS\")?An:m(e.toLowerCase(),Jn.toLowerCase())?Jn:rs(e,t)?m(e,hn)?Bn:bn:m(e,Mn)?Mn:m(e,\"MSIE\")||m(e,\"Trident/\")?Cn:m(e,\"Gecko\")?Mn:\"\"},ss={[Fn]:[new RegExp(\"rv:\"+Yn)],[On]:[new RegExp($n+\"?\\\\/\"+Yn)],[xn]:[new RegExp(\"(\"+xn+\"|CrMo)\\\\/\"+Yn)],[Pn]:[new RegExp(\"CriOS\\\\/\"+Yn)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+Yn)],[bn]:[Kn],[Bn]:[Kn],[Tn]:[new RegExp(\"(Opera|OPR)\\\\/\"+Yn)],[Mn]:[new RegExp(Mn+\"\\\\/\"+Yn)],[An]:[new RegExp(\"FxiOS\\\\/\"+Yn)],[Jn]:[new RegExp(\"Konqueror[:/]?\"+Yn,\"i\")],[wn]:[new RegExp(wn+\" \"+Yn),Kn],[Nn]:[new RegExp(\"android\\\\s\"+Yn,\"i\")],[En]:[new RegExp(kn+\"\\\\/\"+Yn)],[Cn]:[new RegExp(\"(rv:|MSIE )\"+Yn)],Mozilla:[new RegExp(\"rv:\"+Yn)]},os=[[new RegExp(qn+\"; \"+qn+\" (.*?)[);]\",\"i\"),e=>[qn,e&&e[1]||\"\"]],[new RegExp(Ln,\"i\"),[Ln,\"\"]],[new RegExp(Dn,\"i\"),[Dn,\"\"]],[es,[wn,\"\"]],[new RegExp(Hn,\"i\"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[jn,\"\"];if(new RegExp(hn).test(t)&&!/IEMobile\\b/.test(t))return[Hn+\" \"+hn,\"\"];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var r=i[1],n=ts[r]||\"\";return/arm/i.test(t)&&(n=\"RT\"),[Hn,n]}return[Hn,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||\"0\"];return[_n,t.join(\".\")]}return[_n,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,e=>{var t=\"\";return e&&e.length>=3&&(t=F(e[2])?e[3]:e[2]),[\"watchOS\",t]}],[new RegExp(\"(\"+pn+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+pn+\")\",\"i\"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||\"0\"];return[pn,t.join(\".\")]}return[pn,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,e=>{var t=[\"Mac OS X\",\"\"];if(e&&e[1]){var i=[e[1],e[2],e[3]||\"0\"];t[1]=i.join(\".\")}return t}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[In,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],as=function(e){return Zn.test(e)?Ln:Qn.test(e)?Dn:Xn.test(e)?qn:new RegExp(zn,\"i\").test(e)?zn:new RegExp(\"(\"+jn+\"|WPDesktop)\",\"i\").test(e)?jn:/iPad/.test(e)?fn:/iPod/.test(e)?\"iPod Touch\":/iPhone/.test(e)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(e)?yn:es.test(e)?wn:/(kobo)\\s(ereader|touch)/i.test(e)?\"Kobo\":new RegExp(Un,\"i\").test(e)?Un:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(e)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(e)?\"Kindle Fire\":/(Android|ZTE)/i.test(e)?!new RegExp(hn).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?pn:gn:pn:new RegExp(\"(pda|\"+hn+\")\",\"i\").test(e)?Vn:new RegExp(vn,\"i\").test(e)&&!new RegExp(vn+\" pc\",\"i\").test(e)?Gn:\"\"},ls=\"https?://(.*)\",us=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"irclid\",\"_kx\"],cs=X([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],us),ds=\"<masked>\",hs={campaignParams:function(){var{customTrackedParams:e,maskPersonalDataProperties:t,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a)return{};var r=t?X([],us,i||[]):[];return this._campaignParamsFromUrl(xt(a.URL,r,ds),e)},_campaignParamsFromUrl:function(e,t){var i=cs.concat(t||[]),r={};return Y(i,(function(t){var i=Et(e,t);r[t]=i||null})),r},_searchEngine:function(e){return e?0===e.search(ls+\"google.([^/?]*)\")?\"google\":0===e.search(ls+\"bing.com\")?\"bing\":0===e.search(ls+\"yahoo.com\")?\"yahoo\":0===e.search(ls+\"duckduckgo.com\")?\"duckduckgo\":null:null},_searchInfoFromReferrer:function(e){var t=hs._searchEngine(e),i=\"yahoo\"!=t?\"q\":\"p\",r={};if(!$(t)){r.$search_engine=t;var n=a?Et(a.referrer,i):\"\";n.length&&(r.ph_keyword=n)}return r},searchInfo:function(){var e=null==a?void 0:a.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:ns,browserVersion:function(e,t){var i=ns(e,t),r=ss[i];if(F(r))return null;for(var n=0;n<r.length;n++){var s=r[n],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return\"string\"==typeof e?e.split(\"-\")[0]:void 0},os:function(e){for(var t=0;t<os.length;t++){var[i,r]=os[t],n=i.exec(e),s=n&&(I(r)?r(n,e):r);if(s)return s}return[\"\",\"\"]},device:as,deviceType:function(e){var t=as(e);return t===fn||t===gn||\"Kobo\"===t||\"Kindle Fire\"===t||t===Gn?vn:t===Ln||t===qn||t===Dn||t===zn?\"Console\":t===yn?\"Wearable\":t?hn:\"Desktop\"},referrer:function(){return(null==a?void 0:a.referrer)||\"$direct\"},referringDomain:function(){var e;return null!=a&&a.referrer&&(null===(e=St(a.referrer))||void 0===e?void 0:e.host)||\"$direct\"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},personInfo:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e?X([],us,t||[]):[],r=null==l?void 0:l.href.substring(0,1e3);return{r:this.referrer().substring(0,1e3),u:r?xt(r,i,ds):void 0}},personPropsFromInfo:function(e){var t,{r:i,u:r}=e,n={$referrer:i,$referring_domain:null==i?void 0:\"$direct\"==i?\"$direct\":null===(t=St(i))||void 0===t?void 0:t.host};if(r){n.$current_url=r;var s=St(r);n.$host=null==s?void 0:s.host,n.$pathname=null==s?void 0:s.pathname;var o=this._campaignParamsFromUrl(r);K(n,o)}if(i){var a=this._searchInfoFromReferrer(i);K(n,a)}return n},initialPersonPropsFromInfo:function(e){var t=this.personPropsFromInfo(e),i={};return Y(t,(function(e,t){i[\"$initial_\".concat(b(t))]=e})),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}},timezoneOffset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}},properties:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h)return{};var r=e?X([],us,i||[]):[],[n,s]=hs.os(h);return K(te({$os:n,$os_version:s,$browser:hs.browser(h,navigator.vendor),$device:hs.device(h),$device_type:hs.deviceType(h),$timezone:hs.timezone(),$timezone_offset:hs.timezoneOffset()}),{$current_url:xt(null==l?void 0:l.href,r,ds),$host:null==l?void 0:l.host,$pathname:null==l?void 0:l.pathname,$raw_user_agent:h.length>1e3?h.substring(0,997)+\"...\":h,$browser_version:hs.browserVersion(h,navigator.vendor),$browser_language:hs.browserLanguage(),$browser_language_prefix:hs.browserLanguagePrefix(),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:p.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!h)return{};var[e,t]=hs.os(h);return K(te({$os:e,$os_version:t,$browser:hs.browser(h,navigator.vendor)}),{$browser_version:hs.browserVersion(h,navigator.vendor)})}},_s=B(\"[FeatureFlags]\"),ps=\"$active_feature_flags\",vs=\"$override_feature_flags\",gs=\"$feature_flag_payloads\",fs=\"$override_feature_flag_payloads\",ms=\"$feature_flag_request_id\",ys=e=>{var t={};for(var[i,r]of Q(e||{}))r&&(t[i]=r);return t},bs=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((e=>{var i;return[e,null!==(i=t[e].variant)&&void 0!==i?i:t[e].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((e=>t[e].enabled)).filter((e=>{var i;return null===(i=t[e].metadata)||void 0===i?void 0:i.payload})).map((e=>{var i;return[e,null===(i=t[e].metadata)||void 0===i?void 0:i.payload]})))):_s.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),e};!function(e){e.FeatureFlags=\"feature_flags\",e.Recordings=\"recordings\"}(is||(is={}));class ws{constructor(e){W(this,\"_override_warning\",!1),W(this,\"_hasLoadedFlags\",!1),W(this,\"_requestInFlight\",!1),W(this,\"_reloadingDisabled\",!1),W(this,\"_additionalReloadRequested\",!1),W(this,\"_decideCalled\",!1),W(this,\"_flagsLoadedFromRemote\",!1),this.instance=e,this.featureFlagEventHandlers=[]}decide(){if(this.instance.config.__preview_remote_config)this._decideCalled=!0;else{var e=!this._reloadDebouncer&&(this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load);this._callDecideEndpoint({disableFlags:e})}}get hasLoadedFlags(){return this._hasLoadedFlags}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this.instance.get_property(Te),t=this.instance.get_property(vs),i=this.instance.get_property(fs);if(!i&&!t)return e||{};var r=K({},e||{}),n=[...new Set([...Object.keys(i||{}),...Object.keys(t||{})])];for(var s of n){var o,a,l=r[s],u=null==t?void 0:t[s],c=F(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=F(u)?l.variant:\"string\"==typeof u?u:void 0,h=null==i?void 0:i[s],_=z(z({},l),{},{enabled:c,variant:c?null!=d?d:null==l?void 0:l.variant:void 0});if(c!==(null==l?void 0:l.enabled)&&(_.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(_.original_variant=null==l?void 0:l.variant),h)_.metadata=z(z({},null==l?void 0:l.metadata),{},{payload:h,original_payload:null==l||null===(a=l.metadata)||void 0===a?void 0:a.payload});r[s]=_}return this._override_warning||(_s.warn(\" Overriding feature flag details!\",{flagDetails:e,overriddenPayloads:i,finalDetails:r}),this._override_warning=!0),r}getFlagVariants(){var e=this.instance.get_property(Ce),t=this.instance.get_property(vs);if(!t)return e||{};for(var i=K({},e),r=Object.keys(t),n=0;n<r.length;n++)i[r[n]]=t[r[n]];return this._override_warning||(_s.warn(\" Overriding feature flags!\",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this._override_warning=!0),i}getFlagPayloads(){var e=this.instance.get_property(gs),t=this.instance.get_property(fs);if(!t)return e||{};for(var i=K({},e||{}),r=Object.keys(t),n=0;n<r.length;n++)i[r[n]]=t[r[n]];return this._override_warning||(_s.warn(\" Overriding feature flag payloads!\",{flagPayloads:e,overriddenPayloads:t,finalPayloads:i}),this._override_warning=!0),i}reloadFeatureFlags(){this._reloadingDisabled||this.instance.config.advanced_disable_feature_flags||this._reloadDebouncer||(this._reloadDebouncer=setTimeout((()=>{this._callDecideEndpoint()}),5))}clearDebouncer(){clearTimeout(this._reloadDebouncer),this._reloadDebouncer=void 0}ensureFlagsLoaded(){this._hasLoadedFlags||this._requestInFlight||this._reloadDebouncer||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this._reloadingDisabled=e}_callDecideEndpoint(t){var i;if(this.clearDebouncer(),!this.instance.config.advanced_disable_decide)if(this._requestInFlight)this._additionalReloadRequested=!0;else{var r={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:z(z({},(null===(i=this.instance.persistence)||void 0===i?void 0:i.get_initial_props())||{}),this.instance.get_property(Re)||{}),group_properties:this.instance.get_property($e)};(null!=t&&t.disableFlags||this.instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var n=this.instance.config.__preview_flags_v2&&this.instance.config.__preview_remote_config;n&&(r.timezone=hs.timezone()),this._requestInFlight=!0,this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",n?\"/flags/?v=2\":\"/decide/?v=4\"),data:r,compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,i,n,s=!0;(200===e.statusCode&&(this._additionalReloadRequested||(this.$anon_distinct_id=void 0),s=!1),this._requestInFlight=!1,this._decideCalled)||(this._decideCalled=!0,this.instance._onRemoteConfig(null!==(n=e.json)&&void 0!==n?n:{}));r.disable_flags&&!this._additionalReloadRequested||(this._flagsLoadedFromRemote=!s,e.json&&null!==(t=e.json.quotaLimited)&&void 0!==t&&t.includes(is.FeatureFlags)?_s.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\"):(this.receivedFeatureFlags(null!==(i=e.json)&&void 0!==i?i:{},s),this._additionalReloadRequested&&(this._additionalReloadRequested=!1,this._callDecideEndpoint())))}})}}getFeatureFlag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0){var i=this.getFlagVariants()[e],r=\"\".concat(i),n=this.instance.get_property(ms)||void 0,s=this.instance.get_property(Ae)||{};if((t.send_event||!(\"send_event\"in t))&&(!(e in s)||!s[e].includes(r))){var o,a,l,u,c,d,h,_,p,v,g;x(s[e])?s[e].push(r):s[e]=[r],null===(o=this.instance.persistence)||void 0===o||o.register({[Ae]:s});var f=this.getFeatureFlagDetails(e),m={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:n,$feature_flag_bootstrapped_response:(null===(a=this.instance.config.bootstrap)||void 0===a||null===(l=a.featureFlags)||void 0===l?void 0:l[e])||null,$feature_flag_bootstrapped_payload:(null===(u=this.instance.config.bootstrap)||void 0===u||null===(c=u.featureFlagPayloads)||void 0===c?void 0:c[e])||null,$used_bootstrap_value:!this._flagsLoadedFromRemote};F(null==f||null===(d=f.metadata)||void 0===d?void 0:d.version)||(m.$feature_flag_version=f.metadata.version);var y,b=null!==(h=null==f||null===(_=f.reason)||void 0===_?void 0:_.description)&&void 0!==h?h:null==f||null===(p=f.reason)||void 0===p?void 0:p.code;if(b&&(m.$feature_flag_reason=b),null!=f&&null!==(v=f.metadata)&&void 0!==v&&v.id&&(m.$feature_flag_id=f.metadata.id),F(null==f?void 0:f.original_variant)&&F(null==f?void 0:f.original_enabled)||(m.$feature_flag_original_response=F(f.original_variant)?f.original_enabled:f.original_variant),null!=f&&null!==(g=f.metadata)&&void 0!==g&&g.original_payload)m.$feature_flag_original_payload=null==f||null===(y=f.metadata)||void 0===y?void 0:y.original_payload;this.instance.capture(\"$feature_flag_called\",m)}return i}_s.warn('getFeatureFlag for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(t,i){var r=this.instance.config.token;this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=4\"),data:{distinct_id:this.instance.get_distinct_id(),token:r},compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,n=null===(r=e.json)||void 0===r?void 0:r.featureFlagPayloads;i((null==n?void 0:n[t])||void 0)}})}isFeatureEnabled(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);_s.warn('isFeatureEnabled for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((t=>t!==e))}receivedFeatureFlags(e,t){if(this.instance.persistence){this._hasLoadedFlags=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads(),n=this.getFlagsWithDetails();!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=bs(e),o=s.flags,a=s.featureFlags,l=s.featureFlagPayloads;if(a){var u=e.requestId;if(x(a)){_s.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var c={};if(a)for(var d=0;d<a.length;d++)c[a[d]]=!0;t&&t.register({[ps]:a,[Ce]:c})}else{var h=a,_=l,p=o;e.errorsWhileComputingFlags&&(h=z(z({},i),h),_=z(z({},r),_),p=z(z({},n),p)),t&&t.register(z({[ps]:Object.keys(ys(h)),[Ce]:h||{},[gs]:_||{},[Te]:p||{}},u?{[ms]:u}:{}))}}}(e,this.instance.persistence,i,r,n),this._fireFeatureFlagsCallbacks(t)}}override(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_s.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this.instance.__loaded||!this.instance.persistence)return _s.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===e)return this.instance.persistence.unregister(vs),this.instance.persistence.unregister(fs),void this._fireFeatureFlagsCallbacks();if(e&&\"object\"==typeof e&&(\"flags\"in e||\"payloads\"in e)){var t,i=e;if(this._override_warning=Boolean(null!==(t=i.suppressWarning)&&void 0!==t&&t),\"flags\"in i)if(!1===i.flags)this.instance.persistence.unregister(vs);else if(i.flags)if(x(i.flags)){for(var r={},n=0;n<i.flags.length;n++)r[i.flags[n]]=!0;this.instance.persistence.register({[vs]:r})}else this.instance.persistence.register({[vs]:i.flags});return\"payloads\"in i&&(!1===i.payloads?this.instance.persistence.unregister(fs):i.payloads&&this.instance.persistence.register({[fs]:i.payloads})),void this._fireFeatureFlagsCallbacks()}this._fireFeatureFlagsCallbacks()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._hasLoadedFlags){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var i,r=(this.instance.get_property(Fe)||[]).find((t=>t.flagKey===e)),n={[\"$feature_enrollment/\".concat(e)]:t},s={$feature_flag:e,$feature_enrollment:t,$set:n};r&&(s.$early_access_feature_name=r.name),this.instance.capture(\"$feature_enrollment_update\",s),this.setPersonPropertiesForFlags(n,!1);var o=z(z({},this.getFlagVariants()),{},{[e]:t});null===(i=this.instance.persistence)||void 0===i||i.register({[ps]:Object.keys(ys(o)),[Ce]:o}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,r=this.instance.get_property(Fe),n=i?\"&\".concat(i.map((e=>\"stage=\".concat(e))).join(\"&\")):\"\";if(r&&!t)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\".concat(this.instance.config.token).concat(n)),method:\"GET\",callback:t=>{var i;if(t.json){var r=t.json.earlyAccessFeatures;return null===(i=this.instance.persistence)||void 0===i||i.register({[Fe]:r}),e(r)}}})}_prepareFeatureFlagsForCallbacks(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((e=>t[e])),flagVariants:Object.keys(t).filter((e=>t[e])).reduce(((e,i)=>(e[i]=t[i],e)),{})}}_fireFeatureFlagsCallbacks(e){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach((r=>r(t,i,{errorsLoading:e})))}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(Re)||{};this.instance.register({[Re]:z(z({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(Re)}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property($e)||{};0!==Object.keys(i).length&&Object.keys(i).forEach((t=>{i[t]=z(z({},i[t]),e[t]),delete e[t]})),this.instance.register({[$e]:z(z({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this.instance.get_property($e)||{};this.instance.register({[$e]:z(z({},t),{},{[e]:{}})})}else this.instance.unregister($e)}}var Ss=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class ks{constructor(e){this.config=e,this.props={},this.campaign_params_saved=!1,this.name=(e=>{var t=\"\";return e.token&&(t=e.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),e.persistence_name?\"ph_\"+e.persistence_name:\"ph_\"+t+\"_posthog\"})(e),this.storage=this.buildStorage(e),this.load(),e.debug&&N.info(\"Persistence loaded\",e.persistence,z({},this.props)),this.update_config(e,e),this.save()}buildStorage(e){-1===Ss.indexOf(e.persistence.toLowerCase())&&(N.critical(\"Unknown persistence type \"+e.persistence+\"; falling back to localStorage+cookie\"),e.persistence=\"localStorage+cookie\");var t=e.persistence.toLowerCase();return\"localstorage\"===t&&Jt.is_supported()?Jt:\"localstorage+cookie\"===t&&Kt.is_supported()?Kt:\"sessionstorage\"===t&&ei.is_supported()?ei:\"memory\"===t?Qt:\"cookie\"===t?Vt:Kt.is_supported()?Kt:Vt}properties(){var e={};return Y(this.props,(function(t,i){if(i===Ce&&P(t))for(var r=Object.keys(t),n=0;n<r.length;n++)e[\"$feature/\".concat(r[n])]=t[r[n]];else a=i,l=!1,($(o=We)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Y(o,(function(e){if(l||(l=e===a))return G})),l))||(e[i]=t);var o,a,l})),e}load(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=K({},e))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(P(e)){F(t)&&(t=\"None\"),this.expire_days=F(i)?this.default_expiry:i;var r=!1;if(Y(e,((e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,r=!0)})),r)return this.save(),!0}return!1}register(e,t){if(P(e)){this.expire_days=F(t)?this.default_expiry:t;var i=!1;if(Y(e,((t,r)=>{e.hasOwnProperty(r)&&this.props[r]!==t&&(this.props[r]=t,i=!0)})),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var e=hs.campaignParams({customTrackedParams:this.config.custom_campaign_params,maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});C(te(e))||this.register(e),this.campaign_params_saved=!0}}update_search_keyword(){this.register(hs.searchInfo())}update_referrer_info(){this.register_once(hs.referrerInfo(),void 0)}set_initial_person_info(){this.props[Ne]||this.props[Be]||this.register_once({[He]:hs.personInfo({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties})},void 0)}get_referrer_info(){return te({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var e={};Y([Be,Ne],(t=>{var i=this.props[t];i&&Y(i,(function(t,i){e[\"$initial_\"+b(i)]=t}))}));var t=this.props[He];if(t){var i=hs.initialPersonPropsFromInfo(t);K(e,i)}return e}safe_merge(e){return Y(this.props,(function(t,i){i in e||(e[i]=t)})),e}update_config(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.buildStorage(e),r=this.props;this.clear(),this.storage=i,this.props=r,this.save()}}set_disabled(e){this.disabled=e,this.disabled?this.remove():this.save()}set_cross_subdomain(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}set_event_timer(e,t){var i=this.props[ue]||{};i[e]=t,this.props[ue]=i,this.save()}remove_event_timer(e){var t=(this.props[ue]||{})[e];return F(t)||(delete this.props[ue][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}var Es,xs,Is,Ps,Cs,Fs,Ts,Rs,$s,Os,Ms,As,Ls,Ds,qs={},Ns=[],Bs=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Hs=Array.isArray;function js(e,t){for(var i in t)e[i]=t[i];return e}function Us(e){var t=e.parentNode;t&&t.removeChild(e)}function zs(e,t,i,r,n){var s={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==n?++Is:n,__i:-1,__u:0};return null==n&&null!=xs.vnode&&xs.vnode(s),s}function Ws(e){return e.children}function Vs(e,t){this.props=e,this.context=t}function Gs(e,t){if(null==t)return e.__?Gs(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return\"function\"==typeof e.type?Gs(e):null}function Js(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return Js(e)}}function Ys(e){(!e.__d&&(e.__d=!0)&&Ps.push(e)&&!Ks.__r++||Cs!==xs.debounceRendering)&&((Cs=xs.debounceRendering)||Fs)(Ks)}function Ks(){var e,t,i,r,n,s,o,a,l;for(Ps.sort(Ts);e=Ps.shift();)e.__d&&(t=Ps.length,r=void 0,s=(n=(i=e).__v).__e,a=[],l=[],(o=i.__P)&&((r=js({},n)).__v=n.__v+1,xs.vnode&&xs.vnode(r),so(o,r,n,i.__n,void 0!==o.ownerSVGElement,32&n.__u?[s]:null,a,null==s?Gs(n):s,!!(32&n.__u),l),r.__.__k[r.__i]=r,oo(a,r,l),r.__e!=s&&Js(r)),Ps.length>t&&Ps.sort(Ts));Ks.__r=0}function Xs(e,t,i,r,n,s,o,a,l,u,c){var d,h,_,p,v,g=r&&r.__k||Ns,f=t.length;for(i.__d=l,Qs(i,t,g),l=i.__d,d=0;d<f;d++)null!=(_=i.__k[d])&&\"boolean\"!=typeof _&&\"function\"!=typeof _&&(h=-1===_.__i?qs:g[_.__i]||qs,_.__i=d,so(e,_,h,n,s,o,a,l,u,c),p=_.__e,_.ref&&h.ref!=_.ref&&(h.ref&&lo(h.ref,null,_),c.push(_.ref,_.__c||p,_)),null==v&&null!=p&&(v=p),65536&_.__u||h.__k===_.__k?l=Zs(_,l,e):\"function\"==typeof _.type&&void 0!==_.__d?l=_.__d:p&&(l=p.nextSibling),_.__d=void 0,_.__u&=-196609);i.__d=l,i.__e=v}function Qs(e,t,i){var r,n,s,o,a,l=t.length,u=i.length,c=u,d=0;for(e.__k=[],r=0;r<l;r++)null!=(n=e.__k[r]=null==(n=t[r])||\"boolean\"==typeof n||\"function\"==typeof n?null:\"string\"==typeof n||\"number\"==typeof n||\"bigint\"==typeof n||n.constructor==String?zs(null,n,null,null,n):Hs(n)?zs(Ws,{children:n},null,null,null):void 0===n.constructor&&n.__b>0?zs(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)?(n.__=e,n.__b=e.__b+1,a=eo(n,i,o=r+d,c),n.__i=a,s=null,-1!==a&&(c--,(s=i[a])&&(s.__u|=131072)),null==s||null===s.__v?(-1==a&&d--,\"function\"!=typeof n.type&&(n.__u|=65536)):a!==o&&(a===o+1?d++:a>o?c>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==r+d&&(n.__u|=65536))):(s=i[r])&&null==s.key&&s.__e&&(s.__e==e.__d&&(e.__d=Gs(s)),uo(s,s,!1),i[r]=null,c--);if(c)for(r=0;r<u;r++)null!=(s=i[r])&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Gs(s)),uo(s,s))}function Zs(e,t,i){var r,n;if(\"function\"==typeof e.type){for(r=e.__k,n=0;r&&n<r.length;n++)r[n]&&(r[n].__=e,t=Zs(r[n],t,i));return t}return e.__e!=t&&(i.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function eo(e,t,i,r){var n=e.key,s=e.type,o=i-1,a=i+1,l=t[i];if(null===l||l&&n==l.key&&s===l.type)return i;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&n==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&0==(131072&l.__u)&&n==l.key&&s===l.type)return a;a++}}return-1}function to(e,t,i){\"-\"===t[0]?e.setProperty(t,null==i?\"\":i):e[t]=null==i?\"\":\"number\"!=typeof i||Bs.test(t)?i:i+\"px\"}function io(e,t,i,r,n){var s;e:if(\"style\"===t)if(\"string\"==typeof i)e.style.cssText=i;else{if(\"string\"==typeof r&&(e.style.cssText=r=\"\"),r)for(t in r)i&&t in i||to(e.style,t,\"\");if(i)for(t in i)r&&i[t]===r[t]||to(e.style,t,i[t])}else if(\"o\"===t[0]&&\"n\"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,\"$1\")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=i,i?r?i.u=r.u:(i.u=Date.now(),e.addEventListener(t,s?no:ro,s)):e.removeEventListener(t,s?no:ro,s);else{if(n)t=t.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==t&&\"height\"!==t&&\"href\"!==t&&\"list\"!==t&&\"form\"!==t&&\"tabIndex\"!==t&&\"download\"!==t&&\"rowSpan\"!==t&&\"colSpan\"!==t&&\"role\"!==t&&t in e)try{e[t]=null==i?\"\":i;break e}catch(e){}\"function\"==typeof i||(null==i||!1===i&&\"-\"!==t[4]?e.removeAttribute(t):e.setAttribute(t,i))}}function ro(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(xs.event?xs.event(e):e)}function no(e){return this.l[e.type+!0](xs.event?xs.event(e):e)}function so(e,t,i,r,n,s,o,a,l,u){var c,d,h,_,p,v,g,f,m,y,b,w,S,k,E,x=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(l=!!(32&i.__u),s=[a=t.__e=i.__e]),(c=xs.__b)&&c(t);e:if(\"function\"==typeof x)try{if(f=t.props,m=(c=x.contextType)&&r[c.__c],y=c?m?m.props.value:c.__:r,i.__c?g=(d=t.__c=i.__c).__=d.__E:(\"prototype\"in x&&x.prototype.render?t.__c=d=new x(f,y):(t.__c=d=new Vs(f,y),d.constructor=x,d.render=co),m&&m.sub(d),d.props=f,d.state||(d.state={}),d.context=y,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=js({},d.__s)),js(d.__s,x.getDerivedStateFromProps(f,d.__s))),_=d.props,p=d.state,d.__v=t,h)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&f!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(f,y),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(f,d.__s,y)||t.__v===i.__v)){for(t.__v!==i.__v&&(d.props=f,d.state=d.__s,d.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(f,d.__s,y),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,p,v)}))}if(d.context=y,d.props=f,d.__P=e,d.__e=!1,w=xs.__r,S=0,\"prototype\"in x&&x.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=js(js({},r),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(v=d.getSnapshotBeforeUpdate(_,p)),Xs(e,Hs(E=null!=c&&c.type===Ws&&null==c.key?c.props.children:c)?E:[E],t,i,r,n,s,o,a,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),g&&(d.__E=d.__=null)}catch(e){t.__v=null,l||null!=s?(t.__e=a,t.__u|=l?160:32,s[s.indexOf(a)]=null):(t.__e=i.__e,t.__k=i.__k),xs.__e(e,t,i)}else null==s&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=ao(i.__e,t,i,r,n,s,o,l,u);(c=xs.diffed)&&c(t)}function oo(e,t,i){t.__d=void 0;for(var r=0;r<i.length;r++)lo(i[r],i[++r],i[++r]);xs.__c&&xs.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){xs.__e(e,t.__v)}}))}function ao(e,t,i,r,n,s,o,a,l){var u,c,d,h,_,p,v,g=i.props,f=t.props,m=t.type;if(\"svg\"===m&&(n=!0),null!=s)for(u=0;u<s.length;u++)if((_=s[u])&&\"setAttribute\"in _==!!m&&(m?_.localName===m:3===_.nodeType)){e=_,s[u]=null;break}if(null==e){if(null===m)return document.createTextNode(f);e=n?document.createElementNS(\"http://www.w3.org/2000/svg\",m):document.createElement(m,f.is&&f),s=null,a=!1}if(null===m)g===f||a&&e.data===f||(e.data=f);else{if(s=s&&Es.call(e.childNodes),g=i.props||qs,!a&&null!=s)for(g={},u=0;u<e.attributes.length;u++)g[(_=e.attributes[u]).name]=_.value;for(u in g)_=g[u],\"children\"==u||(\"dangerouslySetInnerHTML\"==u?d=_:\"key\"===u||u in f||io(e,u,null,_,n));for(u in f)_=f[u],\"children\"==u?h=_:\"dangerouslySetInnerHTML\"==u?c=_:\"value\"==u?p=_:\"checked\"==u?v=_:\"key\"===u||a&&\"function\"!=typeof _||g[u]===_||io(e,u,_,g[u],n);if(c)a||d&&(c.__html===d.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(d&&(e.innerHTML=\"\"),Xs(e,Hs(h)?h:[h],t,i,r,n&&\"foreignObject\"!==m,s,o,s?s[0]:i.__k&&Gs(i,0),a,l),null!=s)for(u=s.length;u--;)null!=s[u]&&Us(s[u]);a||(u=\"value\",void 0!==p&&(p!==e[u]||\"progress\"===m&&!p||\"option\"===m&&p!==g[u])&&io(e,u,p,g[u],!1),u=\"checked\",void 0!==v&&v!==e[u]&&io(e,u,v,g[u],!1))}return e}function lo(e,t,i){try{\"function\"==typeof e?e(t):e.current=t}catch(e){xs.__e(e,i)}}function uo(e,t,i){var r,n;if(xs.unmount&&xs.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||lo(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){xs.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(n=0;n<r.length;n++)r[n]&&uo(r[n],t,i||\"function\"!=typeof e.type);i||null==e.__e||Us(e.__e),e.__=e.__e=e.__d=void 0}function co(e,t,i){return this.constructor(e,i)}Es=Ns.slice,xs={__e:function(e,t,i,r){for(var n,s,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((s=n.constructor)&&null!=s.getDerivedStateFromError&&(n.setState(s.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e,r||{}),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},Is=0,Vs.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=js({},this.state),\"function\"==typeof e&&(e=e(js({},i),this.props)),e&&js(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),Ys(this))},Vs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ys(this))},Vs.prototype.render=Ws,Ps=[],Fs=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ts=function(e,t){return e.__v.__b-t.__v.__b},Ks.__r=0,Rs=0,function(e){e.Button=\"button\",e.Tab=\"tab\",e.Selector=\"selector\"}($s||($s={})),function(e){e.Left=\"left\",e.Center=\"center\",e.Right=\"right\",e.NextToTrigger=\"next_to_trigger\"}(Os||(Os={})),function(e){e.Popover=\"popover\",e.API=\"api\",e.Widget=\"widget\"}(Ms||(Ms={})),function(e){e.Open=\"open\",e.MultipleChoice=\"multiple_choice\",e.SingleChoice=\"single_choice\",e.Rating=\"rating\",e.Link=\"link\"}(As||(As={})),function(e){e.NextQuestion=\"next_question\",e.End=\"end\",e.ResponseBased=\"response_based\",e.SpecificQuestion=\"specific_question\"}(Ls||(Ls={})),function(e){e.Once=\"once\",e.Recurring=\"recurring\",e.Always=\"always\"}(Ds||(Ds={}));var ho=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}},_o=B(\"[Surveys]\"),po={icontains:(e,t)=>e.some((e=>t.toLowerCase().includes(e.toLowerCase()))),not_icontains:(e,t)=>e.every((e=>!t.toLowerCase().includes(e.toLowerCase()))),regex:(e,t)=>e.some((e=>ho(t,e))),not_regex:(e,t)=>e.every((e=>!ho(t,e))),exact:(e,t)=>e.some((e=>t===e)),is_not:(e,t)=>e.every((e=>t!==e))};function vo(e){return null!=e?e:\"icontains\"}Os.Right;!function(e,t){var i={__c:t=\"__cC\"+Rs++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some((function(e){e.__e=!0,Ys(e)}))},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};i.Provider.__=i.Consumer.contextType=i}({isPreviewMode:!1,previewPageIndex:0,onPopupSurveyDismissed:()=>{},isPopup:!0,onPreviewSubmit:()=>{}});class go{constructor(){W(this,\"events\",{}),this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}emit(e,t){for(var i of this.events[e]||[])i(t);for(var r of this.events[\"*\"]||[])r(e,t)}}class fo{constructor(e){W(this,\"_debugEventEmitter\",new go),W(this,\"checkStep\",((e,t)=>this.checkStepEvent(e,t)&&this.checkStepUrl(e,t)&&this.checkStepElement(e,t))),W(this,\"checkStepEvent\",((e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event))),this.instance=e,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var e;if(!F(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)){var t;null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.on(e,t)}))}}register(e){var t,i;if(!F(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((e=>{var t,i;null===(t=this.actionRegistry)||void 0===t||t.add(e),null===(i=e.steps)||void 0===i||i.forEach((e=>{var t;null===(t=this.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||\"\")}))})),null!==(i=this.instance)&&void 0!==i&&i.autocapture)){var r,n=new Set;e.forEach((e=>{var t;null===(t=e.steps)||void 0===t||t.forEach((e=>{null!=e&&e.selector&&n.add(null==e?void 0:e.selector)}))})),null===(r=this.instance)||void 0===r||r.autocapture.setElementSelectors(n)}}on(e,t){var i;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(i=this.actionRegistry)||void 0===i?void 0:i.size)>0&&this.actionRegistry.forEach((e=>{this.checkAction(t,e)&&this._debugEventEmitter.emit(\"actionCaptured\",e.name)}))}_addActionHook(e){this.onAction(\"actionCaptured\",(t=>e(t)))}checkAction(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var i of t.steps)if(this.checkStep(e,i))return!0;return!1}onAction(e,t){return this._debugEventEmitter.on(e,t)}checkStepUrl(e,t){if(null!=t&&t.url){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!fo.matchString(r,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||\"contains\"))return!1}return!0}static matchString(e,i,r){switch(r){case\"regex\":return!!t&&ho(e,i);case\"exact\":return i===e;case\"contains\":var n=fo.escapeStringRegexp(i).replace(/_/g,\".\").replace(/%/g,\".*\");return ho(e,n);default:return!1}}static escapeStringRegexp(e){return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}checkStepElement(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.getElementsList(e).some((e=>!(null!=t&&t.href&&!fo.matchString(e.href||\"\",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||\"exact\"))&&((null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!fo.matchString(e.text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\")&&!fo.matchString(e.$el_text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\"))))))return!1;if(null!=t&&t.selector){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$element_selectors;if(!r)return!1;if(!r.includes(null==t?void 0:t.selector))return!1}return!0}getElementsList(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}class mo{constructor(e){this.instance=e,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(e){var t;F(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}setupActionBasedSurveys(e){var t=e.filter((e=>{var t,i,r,n;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(i=e.conditions)||void 0===i||null===(r=i.actions)||void 0===r||null===(n=r.values)||void 0===n?void 0:n.length)>0}));if(0!==t.length){if(null==this.actionMatcher){this.actionMatcher=new fo(this.instance),this.actionMatcher.init();this.actionMatcher._addActionHook((e=>{this.onAction(e)}))}t.forEach((e=>{var t,i,r,n,s,o,a,l,u,c;e.conditions&&null!==(t=e.conditions)&&void 0!==t&&t.actions&&null!==(i=e.conditions)&&void 0!==i&&null!==(r=i.actions)&&void 0!==r&&r.values&&(null===(n=e.conditions)||void 0===n||null===(s=n.actions)||void 0===s||null===(o=s.values)||void 0===o?void 0:o.length)>0&&(null===(a=this.actionMatcher)||void 0===a||a.register(e.conditions.actions.values),null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c||c.forEach((t=>{if(t&&t.name){var i=this.actionToSurveys.get(t.name);i&&i.push(e.id),this.actionToSurveys.set(t.name,i||[e.id])}})))}))}}setupEventBasedSurveys(e){var t;if(0!==e.filter((e=>{var t,i,r,n;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r||null===(n=r.values)||void 0===n?void 0:n.length)>0})).length){null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.onEvent(e,t)})),e.forEach((e=>{var t,i,r;null===(t=e.conditions)||void 0===t||null===(i=t.events)||void 0===i||null===(r=i.values)||void 0===r||r.forEach((t=>{if(t&&t.name){var i=this.eventToSurveys.get(t.name);i&&i.push(e.id),this.eventToSurveys.set(t.name,i||[e.id])}}))}))}}onEvent(e,t){var i,r,n=(null===(i=this.instance)||void 0===i||null===(r=i.persistence)||void 0===r?void 0:r.props[Me])||[];if(mo.SURVEY_SHOWN_EVENT_NAME==e&&t&&n.length>0){var s,o=null==t||null===(s=t.properties)||void 0===s?void 0:s.$survey_id;if(o){var a=n.indexOf(o);a>=0&&(n.splice(a,1),this._updateActivatedSurveys(n))}}else this.eventToSurveys.has(e)&&this._updateActivatedSurveys(n.concat(this.eventToSurveys.get(e)||[]))}onAction(e){var t,i,r=(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i?void 0:i.props[Me])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(r.concat(this.actionToSurveys.get(e)||[]))}_updateActivatedSurveys(e){var t,i;null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[Me]:[...new Set(e)]})}getSurveys(){var e,t,i=null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[Me];return i||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}W(mo,\"SURVEY_SHOWN_EVENT_NAME\",\"survey shown\");class yo{constructor(e){W(this,\"_isFetchingSurveys\",!1),W(this,\"_isInitializingSurveys\",!1),W(this,\"_surveyCallbacks\",[]),this.instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(O(t))return _o.warn(\"Decide not loaded yet. Not loading surveys.\");var i=x(t);this._hasSurveys=i?t.length>0:t,_o.info(\"decide response received, hasSurveys: \".concat(this._hasSurveys)),this._hasSurveys&&this.loadIfEnabled()}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");var e=(()=>{for(var e=[],t=0;t<localStorage.length;t++){var i=localStorage.key(t);null!=i&&i.startsWith(\"seenSurvey_\")&&e.push(i)}return e})();e.forEach((e=>localStorage.removeItem(e)))}loadIfEnabled(){if(!this._surveyManager)if(this._isInitializingSurveys)_o.info(\"Already initializing surveys, skipping...\");else if(this.instance.config.disable_surveys)_o.info(\"Disabled. Not loading surveys.\");else{var e=null==_?void 0:_.__PosthogExtensions__;if(e)if(this._hasSurveys){this._isInitializingSurveys=!0;try{var t=e.generateSurveys;if(t)this._surveyManager=t(this.instance),this._isInitializingSurveys=!1,this._surveyEventReceiver=new mo(this.instance),_o.info(\"Surveys loaded successfully\"),this._notifySurveyCallbacks({isLoaded:!0});else{var i=e.loadExternalDependency;if(i)i(this.instance,\"surveys\",(t=>{if(t||!e.generateSurveys)return _o.error(\"Could not load surveys script\",t),void(this._isInitializingSurveys=!1);this._surveyManager=e.generateSurveys(this.instance),this._isInitializingSurveys=!1,this._surveyEventReceiver=new mo(this.instance),_o.info(\"Surveys loaded successfully\"),this._notifySurveyCallbacks({isLoaded:!0})}));else{var r=\"PostHog loadExternalDependency extension not found. Cannot load remote config.\";_o.error(r),this._isInitializingSurveys=!1,this._notifySurveyCallbacks({isLoaded:!1,error:r})}}}catch(e){throw _o.error(\"Error initializing surveys\",e),this._isInitializingSurveys=!1,this._notifySurveyCallbacks({isLoaded:!1,error:\"Error initializing surveys\"}),e}}else _o.info(\"No surveys to load.\");else _o.error(\"PostHog Extensions not found.\")}}onSurveysLoaded(e){return this._surveyCallbacks.push(e),this._surveyManager&&this._notifySurveyCallbacks({isLoaded:!0}),()=>{this._surveyCallbacks=this._surveyCallbacks.filter((t=>t!==e))}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return _o.info(\"Disabled. Not loading surveys.\"),e([]);var i=this.instance.get_property(Oe);if(i&&!t)return e(i,{isLoaded:!0});if(this._isFetchingSurveys)return e([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this._isFetchingSurveys=!0,this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\".concat(this.instance.config.token)),method:\"GET\",timeout:this.instance.config.surveys_request_timeout_ms,callback:t=>{var i;this._isFetchingSurveys=!1;var r=t.statusCode;if(200!==r||!t.json){var n=\"Surveys API could not be loaded, status: \".concat(r);return _o.error(n),e([],{isLoaded:!1,error:n})}var s,o=t.json.surveys||[],a=o.filter((e=>{var t,i,r,n,s,o,a,l,u,c,d,h;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r?void 0:r.values)&&(null===(n=e.conditions)||void 0===n||null===(s=n.events)||void 0===s||null===(o=s.values)||void 0===o?void 0:o.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u?void 0:u.values)&&(null===(c=e.conditions)||void 0===c||null===(d=c.actions)||void 0===d||null===(h=d.values)||void 0===h?void 0:h.length)>0}));a.length>0&&(null===(s=this._surveyEventReceiver)||void 0===s||s.register(a));return null===(i=this.instance.persistence)||void 0===i||i.register({[Oe]:o}),e(o,{isLoaded:!0})}})}catch(e){throw this._isFetchingSurveys=!1,e}}_notifySurveyCallbacks(e){for(var t of this._surveyCallbacks)try{e.isLoaded?this.getSurveys(t):t([],e)}catch(e){_o.error(\"Error in survey callback\",e)}}isSurveyFeatureFlagEnabled(e){return!e||this.instance.featureFlags.isFeatureEnabled(e)}getActiveMatchingSurveys(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((i=>{var r,n=i.filter((e=>!(!e.start_date||e.end_date))).filter((e=>{var i;if(!e.conditions)return!0;var r=function(e){var i,r,n;if(null===(i=e.conditions)||void 0===i||!i.url)return!0;var s=null==t||null===(r=t.location)||void 0===r?void 0:r.href;if(!s)return!1;var o=[e.conditions.url];return po[vo(null===(n=e.conditions)||void 0===n?void 0:n.urlMatchType)](o,s)}(e),n=null===(i=e.conditions)||void 0===i||!i.selector||(null==a?void 0:a.querySelector(e.conditions.selector)),s=function(e){var t,i,r;if(null===(t=e.conditions)||void 0===t||!t.deviceTypes||0===(null===(i=e.conditions)||void 0===i?void 0:i.deviceTypes.length))return!0;if(!h)return!1;var n=hs.deviceType(h);return po[vo(null===(r=e.conditions)||void 0===r?void 0:r.deviceTypesMatchType)](e.conditions.deviceTypes,n)}(e);return r&&n&&s})),s=null===(r=this._surveyEventReceiver)||void 0===r?void 0:r.getSurveys(),o=n.filter((e=>{var t,i,r,n,o,a,l,u,c;if(!(e.linked_flag_key||e.targeting_flag_key||e.internal_targeting_flag_key||null!==(t=e.feature_flag_keys)&&void 0!==t&&t.length))return!0;var d=this.isSurveyFeatureFlagEnabled(e.linked_flag_key),h=this.isSurveyFeatureFlagEnabled(e.targeting_flag_key),_=(null!==(i=null===(r=e.conditions)||void 0===r||null===(n=r.events)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0,p=(null!==(a=null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c?void 0:c.length)&&void 0!==a?a:0)>0,v=!_&&!p||(null==s?void 0:s.includes(e.id)),g=this._canActivateRepeatedly(e)||this.isSurveyFeatureFlagEnabled(e.internal_targeting_flag_key),f=this.checkFlags(e);return d&&h&&g&&v&&f}));return e(o)}),i)}checkFlags(e){var t;return null===(t=e.feature_flag_keys)||void 0===t||!t.length||e.feature_flag_keys.every((e=>{var{key:t,value:i}=e;return!t||!i||this.instance.featureFlags.isFeatureEnabled(i)}))}_canActivateRepeatedly(e){var t;return O(null===(t=_.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(_o.warn(\"init was not called\"),!1):_.__PosthogExtensions__.canActivateRepeatedly(e)}canRenderSurvey(e){if(O(this._surveyManager))return _o.warn(\"init was not called\"),{visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"};var t=null;return this.getSurveys((i=>{var r=i.filter((t=>t.id===e))[0];t=r?z({},this._surveyManager.canRenderSurvey(r)):{visible:!1,disabledReason:\"Survey not found\"}})),t}renderSurvey(e,t){O(this._surveyManager)?_o.warn(\"init was not called\"):this.getSurveys((i=>{var r=i.filter((t=>t.id===e))[0];this._surveyManager.renderSurvey(r,null==a?void 0:a.querySelector(t))}))}}var bo=B(\"[RateLimiter]\");class wo{constructor(e){var t,i;W(this,\"serverLimits\",{}),W(this,\"lastEventRateLimited\",!1),W(this,\"checkForLimiting\",(e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((e=>{bo.info(\"\".concat(e||\"events\",\" is quota limited.\")),this.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void bo.warn('could not rate limit - continuing. Error: \"'.concat(null==e?void 0:e.message,'\"'),{text:t})}})),this.instance=e,this.captureEventsPerSecond=(null===(t=e.config.rate_limiting)||void 0===t?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(i=e.config.rate_limiting)||void 0===i?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var e,t,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(new Date).getTime(),s=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(qe))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:n};s.tokens+=(n-s.last)/1e3*this.captureEventsPerSecond,s.last=n,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var o=s.tokens<1;return o||r||(s.tokens=Math.max(0,s.tokens-1)),!o||this.lastEventRateLimited||r||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \".concat(this.captureEventsPerSecond,\" events per second and \").concat(this.captureEventsBurstLimit,\" events burst limit.\")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(i=this.instance.persistence)||void 0===i||i.set_property(qe,s),{isRateLimited:o,remainingTokens:s.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||\"events\"]||!1;return!1!==t&&(new Date).getTime()<t}}var So=B(\"[RemoteConfig]\");class ko{constructor(e){this.instance=e}get remoteConfig(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.config}_loadRemoteConfigJs(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.loadExternalDependency?null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"remote-config\",(()=>e(this.remoteConfig))):(So.error(\"PostHog Extensions not found. Cannot load remote config.\"),e())}_loadRemoteConfigJSON(e){this.instance._send_request({method:\"GET\",url:this.instance.requestRouter.endpointFor(\"assets\",\"/array/\".concat(this.instance.config.token,\"/config\")),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return So.info(\"Using preloaded remote config\",this.remoteConfig),void this.onRemoteConfig(this.remoteConfig);if(this.instance.config.advanced_disable_decide)return void So.warn(\"Remote config is disabled. Falling back to local config.\");this._loadRemoteConfigJs((e=>{if(!e)return So.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this._loadRemoteConfigJSON((e=>{this.onRemoteConfig(e)}));this.onRemoteConfig(e)}))}catch(e){So.error(\"Error loading remote config\",e)}}onRemoteConfig(e){e?this.instance.config.__preview_remote_config?(this.instance._onRemoteConfig(e),!1!==e.hasFeatureFlags&&this.instance.featureFlags.ensureFlagsLoaded()):So.info(\"__preview_remote_config is disabled. Logging config instead\",e):So.error(\"Failed to fetch remote config from PostHog.\")}}var Eo=function(e){var t,i,r,n,s=\"\";for(t=i=0,r=(e=(e+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,n=0;n<r;n++){var o=e.charCodeAt(n),a=null;o<128?i++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),$(a)||(i>t&&(s+=e.substring(t,i)),s+=a,t=i=n+1)}return i>t&&(s+=e.substring(t,e.length)),s},xo=!!c||!!u,Io=\"text/plain\",Po=(e,t)=>{var[i,r]=e.split(\"?\"),n=z({},t);null==r||r.split(\"&\").forEach((e=>{var[t]=e.split(\"=\");delete n[t]}));var s=kt(n);return s=s?(r?r+\"&\":\"\")+s:r,\"\".concat(i,\"?\").concat(s)},Co=(e,t)=>JSON.stringify(e,((e,t)=>\"bigint\"==typeof t?t.toString():t),t),Fo=t=>{var{data:i,compression:r}=t;if(i){if(r===e.GZipJS){var n=$r(Or(Co(i)),{mtime:0}),s=new Blob([n],{type:Io});return{contentType:Io,body:s,estimatedSize:s.size}}if(r===e.Base64){var o=function(e){var t,i,r,n,s,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",c=[];if(!e)return e;e=Eo(e);do{t=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,i=s>>12&63,r=s>>6&63,n=63&s,c[l++]=o.charAt(t)+o.charAt(i)+o.charAt(r)+o.charAt(n)}while(a<e.length);switch(u=c.join(\"\"),e.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(Co(i)),a=(e=>\"data=\"+encodeURIComponent(\"string\"==typeof e?e:Co(e)))(o);return{contentType:\"application/x-www-form-urlencoded\",body:a,estimatedSize:new Blob([a]).size}}var l=Co(i);return{contentType:\"application/json\",body:l,estimatedSize:new Blob([l]).size}}},To=[];u&&To.push({transport:\"fetch\",method:e=>{var t,i,{contentType:r,body:n,estimatedSize:s}=null!==(t=Fo(e))&&void 0!==t?t:{},o=new Headers;Y(e.headers,(function(e,t){o.append(t,e)})),r&&o.append(\"Content-Type\",r);var a=e.url,l=null;if(d){var c=new d;l={signal:c.signal,timeout:setTimeout((()=>c.abort()),e.timeout)}}u(a,z({method:(null==e?void 0:e.method)||\"GET\",headers:o,keepalive:\"POST\"===e.method&&(s||0)<52428.8,body:n,signal:null===(i=l)||void 0===i?void 0:i.signal},e.fetchOptions)).then((t=>t.text().then((i=>{var r,n={statusCode:t.status,text:i};if(200===t.status)try{n.json=JSON.parse(i)}catch(e){N.error(e)}null===(r=e.callback)||void 0===r||r.call(e,n)})))).catch((t=>{var i;N.error(t),null===(i=e.callback)||void 0===i||i.call(e,{statusCode:0,text:t})})).finally((()=>l?clearTimeout(l.timeout):null))}}),c&&To.push({transport:\"XHR\",method:e=>{var t,i=new c;i.open(e.method||\"GET\",e.url,!0);var{contentType:r,body:n}=null!==(t=Fo(e))&&void 0!==t?t:{};Y(e.headers,(function(e,t){i.setRequestHeader(t,e)})),r&&i.setRequestHeader(\"Content-Type\",r),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(4===i.readyState){var t,r={statusCode:i.status,text:i.responseText};if(200===i.status)try{r.json=JSON.parse(i.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},i.send(n)}}),null!=o&&o.sendBeacon&&To.push({transport:\"sendBeacon\",method:e=>{var t=Po(e.url,{beacon:\"1\"});try{var i,{contentType:r,body:n}=null!==(i=Fo(e))&&void 0!==i?i:{},s=\"string\"==typeof n?new Blob([n],{type:r}):n;o.sendBeacon(t,s)}catch(e){}}});var Ro=3e3;class $o{constructor(e,t){W(this,\"isPaused\",!0),W(this,\"queue\",[]),this.flushTimeoutMs=Ji((null==t?void 0:t.flush_interval_ms)||Ro,250,5e3,\"flush interval\",Ro),this.sendRequest=e}enqueue(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var e=this.queue.length>0?this.formatQueue():{},t=Object.values(e),i=[...t.filter((e=>0===e.url.indexOf(\"/e\"))),...t.filter((e=>0!==e.url.indexOf(\"/e\")))];i.map((e=>{this.sendRequest(z(z({},e),{},{transport:\"sendBeacon\"}))}))}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((()=>{if(this.clearFlushTimeout(),this.queue.length>0){var t=this.formatQueue(),i=function(i){var r=t[i],n=(new Date).getTime();r.data&&x(r.data)&&Y(r.data,(e=>{e.offset=Math.abs(e.timestamp-n),delete e.timestamp})),e.sendRequest(r)};for(var r in t)i(r)}}),this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var e={};return Y(this.queue,(t=>{var i,r=t,n=(r?r.batchKey:null)||r.url;F(e[n])&&(e[n]=z(z({},r),{},{data:[]})),null===(i=e[n].data)||void 0===i||i.push(r.data)})),this.queue=[],e}}var Oo=[\"retriesPerformedSoFar\"];class Mo{constructor(e){W(this,\"isPolling\",!1),W(this,\"pollIntervalMs\",3e3),W(this,\"queue\",[]),this.instance=e,this.queue=[],this.areWeOnline=!0,!F(t)&&\"onLine\"in t.navigator&&(this.areWeOnline=t.navigator.onLine,oe(t,\"online\",(()=>{this.areWeOnline=!0,this.flush()})),oe(t,\"offline\",(()=>{this.areWeOnline=!1})))}retriableRequest(e){var{retriesPerformedSoFar:t}=e,i=V(e,Oo);M(t)&&t>0&&(i.url=Po(i.url,{retry_count:t})),this.instance._send_request(z(z({},i),{},{callback:e=>{var r;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.enqueue(z({retriesPerformedSoFar:t},i)):null===(r=i.callback)||void 0===r||r.call(i,e)}}))}enqueue(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var i=function(e){var t=3e3*Math.pow(2,e),i=t/2,r=Math.min(18e5,t),n=(Math.random()-.5)*(r-i);return Math.ceil(r+n)}(t),r=Date.now()+i;this.queue.push({retryAt:r,requestOptions:e});var n=\"Enqueued failed request for retry in \".concat(i);navigator.onLine||(n+=\" (Browser is offline)\"),N.warn(n),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout((()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()}),this.pollIntervalMs)}flush(){var e=Date.now(),t=[],i=this.queue.filter((i=>i.retryAt<e||(t.push(i),!1)));if(this.queue=t,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(z(z({},e),{},{transport:\"sendBeacon\"}))}catch(e){N.error(e)}this.queue=[]}}class Ao{constructor(e){W(this,\"_updateScrollData\",(()=>{var e,t,i,r;this.context||(this.context={});var n=this.scrollElement(),s=this.scrollY(),o=n?Math.max(0,n.scrollHeight-n.clientHeight):0,a=s+((null==n?void 0:n.clientHeight)||0),l=(null==n?void 0:n.scrollHeight)||0;this.context.lastScrollY=Math.ceil(s),this.context.maxScrollY=Math.max(s,null!==(e=this.context.maxScrollY)&&void 0!==e?e:0),this.context.maxScrollHeight=Math.max(o,null!==(t=this.context.maxScrollHeight)&&void 0!==t?t:0),this.context.lastContentY=a,this.context.maxContentY=Math.max(a,null!==(i=this.context.maxContentY)&&void 0!==i?i:0),this.context.maxContentHeight=Math.max(l,null!==(r=this.context.maxContentHeight)&&void 0!==r?r:0)})),this.instance=e}getContext(){return this.context}resetContext(){var e=this.context;return setTimeout(this._updateScrollData,0),e}startMeasuringScrollPosition(){oe(t,\"scroll\",this._updateScrollData,{capture:!0}),oe(t,\"scrollend\",this._updateScrollData,{capture:!0}),oe(t,\"resize\",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var e=x(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var i of e){var r=null==t?void 0:t.document.querySelector(i);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var Lo=e=>hs.personInfo({maskPersonalDataProperties:null==e?void 0:e.config.mask_personal_data_properties,customPersonalDataProperties:null==e?void 0:e.config.custom_personal_data_properties});class Do{constructor(e,t,i,r){W(this,\"_onSessionIdCallback\",(e=>{var t=this._getStored();if(!t||t.sessionId!==e){var i={sessionId:e,props:this._sessionSourceParamGenerator(this.instance)};this._persistence.register({[De]:i})}})),this.instance=e,this._sessionIdManager=t,this._persistence=i,this._sessionSourceParamGenerator=r||Lo,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStored(){return this._persistence.props[De]}getSetOnceProps(){var e,t=null===(e=this._getStored())||void 0===e?void 0:e.props;return t?\"r\"in t?hs.personPropsFromInfo(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return Y(te(this.getSetOnceProps()),((t,i)=>{\"$current_url\"===i&&(i=\"url\"),e[\"$session_entry_\".concat(b(i))]=t})),e}}var qo=B(\"[SessionId]\");class No{constructor(e,t,i){var r;if(W(this,\"_sessionIdChangedHandlers\",[]),!e.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(e.config.__preview_experimental_cookieless_mode)throw new Error(\"SessionIdManager cannot be used with __preview_experimental_cookieless_mode\");this.config=e.config,this.persistence=e.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=t||Nt,this._windowIdGenerator=i||Nt;var n=this.config.persistence_name||this.config.token,s=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ji(s,60,36e3,\"session_idle_timeout_seconds\",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.resetIdleTimer(),this._window_id_storage_key=\"ph_\"+n+\"_window_id\",this._primary_window_exists_storage_key=\"ph_\"+n+\"_primary_window_exists\",this._canUseSessionStorage()){var o=ei.parse(this._window_id_storage_key),a=ei.parse(this._primary_window_exists_storage_key);o&&!a?this._windowId=o:ei.remove(this._window_id_storage_key),ei.set(this._primary_window_exists_storage_key,!0)}if(null!==(r=this.config.bootstrap)&&void 0!==r&&r.sessionID)try{var l=(e=>{var t=e.replace(/-/g,\"\");if(32!==t.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==t[12])throw new Error(\"Not a UUIDv7\");return parseInt(t.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){qo.error(\"Invalid sessionID in bootstrap\",e)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return F(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter((t=>t!==e))}}_canUseSessionStorage(){return\"memory\"!==this.config.persistence&&!this.persistence.disabled&&ei.is_supported()}_setWindowId(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&ei.set(this._window_id_storage_key,e))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?ei.parse(this._window_id_storage_key):null}_setSessionId(e,t,i){e===this._sessionId&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register({[Ee]:[t,e,i]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Ee];return x(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){oe(t,\"beforeunload\",(()=>{this._canUseSessionStorage()&&ei.remove(this._primary_window_exists_storage_key)}),{capture:!1})}checkAndGetSessionAndWindowId(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.config.__preview_experimental_cookieless_mode)throw new Error(\"checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode\");var i=t||(new Date).getTime(),[r,n,s]=this._getSessionId(),o=this._getWindowId(),a=M(s)&&s>0&&Math.abs(i-s)>864e5,l=!1,u=!n,c=!e&&Math.abs(i-r)>this.sessionTimeoutMs;u||c||a?(n=this._sessionIdGenerator(),o=this._windowIdGenerator(),qo.info(\"new session ID generated\",{sessionId:n,windowId:o,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}}),s=i,l=!0):o||(o=this._windowIdGenerator(),l=!0);var d=0===r||!e||a?i:r,h=0===s?(new Date).getTime():s;return this._setWindowId(o),this._setSessionId(n,d,h),e||this.resetIdleTimer(),l&&this._sessionIdChangedHandlers.forEach((e=>e(n,o,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0))),{sessionId:n,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}resetIdleTimer(){clearTimeout(this._enforceIdleTimeout),this._enforceIdleTimeout=setTimeout((()=>{this.resetSessionId()}),1.1*this.sessionTimeoutMs)}}var Bo=[\"$set_once\",\"$set\"],Ho=B(\"[SiteApps]\");class jo{constructor(e){this.instance=e,this.bufferedInvocations=[],this.apps={}}get isEnabled(){return!!this.instance.config.opt_in_site_apps}eventCollector(e,t){if(t){var i=this.globalsForEvent(t);this.bufferedInvocations.push(i),this.bufferedInvocations.length>1e3&&(this.bufferedInvocations=this.bufferedInvocations.slice(10))}}get siteAppLoaders(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.siteApps}init(){if(this.isEnabled){var e=this.instance._addCaptureHook(this.eventCollector.bind(this));this.stopBuffering=()=>{e(),this.bufferedInvocations=[],this.stopBuffering=void 0}}}globalsForEvent(e){var t,i,r,n,s,o,a;if(!e)throw new Error(\"Event payload is required\");var l={},u=this.instance.get_property(\"$groups\")||[],c=this.instance.get_property(\"$stored_group_properties\")||{};for(var[d,h]of Object.entries(c))l[d]={id:u[d],type:d,properties:h};var{$set_once:_,$set:p}=e;return{event:z(z({},V(e,Bo)),{},{properties:z(z(z({},e.properties),p?{$set:z(z({},null!==(t=null===(i=e.properties)||void 0===i?void 0:i.$set)&&void 0!==t?t:{}),p)}:{}),_?{$set_once:z(z({},null!==(r=null===(n=e.properties)||void 0===n?void 0:n.$set_once)&&void 0!==r?r:{}),_)}:{}),elements_chain:null!==(s=null===(o=e.properties)||void 0===o?void 0:o.$elements_chain)&&void 0!==s?s:\"\",distinct_id:null===(a=e.properties)||void 0===a?void 0:a.distinct_id}),person:{properties:this.instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],i=()=>{var i;(!t.errored&&this.bufferedInvocations.length&&(Ho.info(\"Processing \".concat(this.bufferedInvocations.length,\" events for site app with id \").concat(e.id)),this.bufferedInvocations.forEach((e=>{var i;return null===(i=t.processEvent)||void 0===i?void 0:i.call(t,e)})),t.processedBuffer=!0),Object.values(this.apps).every((e=>e.processedBuffer||e.errored)))&&(null===(i=this.stopBuffering)||void 0===i||i.call(this))},r=!1,n=n=>{t.errored=!n,t.loaded=!0,Ho.info(\"Site app with id \".concat(e.id,\" \").concat(n?\"loaded\":\"errored\")),r&&i()};try{var{processEvent:s}=e.init({posthog:this.instance,callback:e=>{n(e)}});s&&(t.processEvent=s),r=!0}catch(t){Ho.error(\"Error while initializing PostHog app with config id \".concat(e.id),t),n(!1)}if(r&&t.loaded)try{i()}catch(i){Ho.error(\"Error while processing buffered events PostHog app with config id \".concat(e.id),i),t.errored=!0}}setupSiteApps(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}onCapturedEvent(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{var r;null===(r=i.processEvent)||void 0===r||r.call(i,t)}catch(t){Ho.error(\"Error while processing event \".concat(e.event,\" for site app \").concat(i.id),t)}}}onRemoteConfig(e){var t,i,r,n=this;if(null!==(t=this.siteAppLoaders)&&void 0!==t&&t.length)return this.isEnabled?(this.setupSiteApps(),void this.instance.on(\"eventCaptured\",(e=>this.onCapturedEvent(e)))):void Ho.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null===(i=this.stopBuffering)||void 0===i||i.call(this),null!==(r=e.siteApps)&&void 0!==r&&r.length)if(this.isEnabled){var s=function(e,t){var i,r;_[\"__$$ph_site_app_\".concat(e)]=n.instance,null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadSiteApp)||void 0===r||r.call(i,n.instance,t,(t=>{if(t)return Ho.error(\"Error while initializing PostHog app with config id \".concat(e),t)}))};for(var{id:o,url:a}of e.siteApps)s(o,a)}else Ho.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var Uo,zo=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"bytespider\"],Wo=function(e,t){if(!e)return!1;var i=e.toLowerCase();return zo.concat(t||[]).some((e=>{var t=e.toLowerCase();return-1!==i.indexOf(t)}))},Vo=function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&Wo(i,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some((e=>Wo(null==e?void 0:e.brand,t))))return!0}catch(e){}return!!e.webdriver};function Go(e,t,i){return Co({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:i})}!function(e){e.US=\"us\",e.EU=\"eu\",e.CUSTOM=\"custom\"}(Uo||(Uo={}));var Jo=\"i.posthog.com\";class Yo{constructor(e){W(this,\"_regionCache\",{}),this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===e?\"https://us.i.posthog.com\":e}get uiHost(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\\/$/,\"\");return t||(t=this.apiHost.replace(\".\".concat(Jo),\".posthog.com\")),\"https://app.posthog.com\"===t?\"https://us.posthog.com\":t}get region(){return this._regionCache[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Uo.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Uo.EU:this._regionCache[this.apiHost]=Uo.CUSTOM),this._regionCache[this.apiHost]}endpointFor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(t&&(t=\"/\"===t[0]?t:\"/\".concat(t)),\"ui\"===e)return this.uiHost+t;if(this.region===Uo.CUSTOM)return this.apiHost+t;var i=Jo+t;switch(e){case\"assets\":return\"https://\".concat(this.region,\"-assets.\").concat(i);case\"api\":return\"https://\".concat(this.region,\".\").concat(i)}}}var Ko={icontains:(e,i)=>!!t&&i.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,i)=>!!t&&-1===i.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,i)=>!!t&&ho(i.href,e),not_regex:(e,i)=>!!t&&!ho(i.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Xo{constructor(e){var t=this;W(this,\"getWebExperimentsAndEvaluateDisplayLogic\",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.getWebExperiments((e=>{Xo.logInfo(\"retrieved web experiments from the server\"),t._flagToExperiments=new Map,e.forEach((e=>{if(e.feature_flag_key){var i;if(t._flagToExperiments)Xo.logInfo(\"setting flag key \",e.feature_flag_key,\" to web experiment \",e),null===(i=t._flagToExperiments)||void 0===i||i.set(e.feature_flag_key,e);var r=t.instance.getFeatureFlag(e.feature_flag_key);T(r)&&e.variants[r]&&t.applyTransforms(e.name,r,e.variants[r].transforms)}else if(e.variants)for(var n in e.variants){var s=e.variants[n];Xo.matchesTestVariant(s)&&t.applyTransforms(e.name,n,s.transforms)}}))}),e)})),this.instance=e,this.instance.onFeatureFlags((e=>{this.onFeatureFlags(e)}))}onFeatureFlags(e){if(this._is_bot())Xo.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this.instance.config.disable_web_experiments){if(O(this._flagToExperiments))return this._flagToExperiments=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Xo.logInfo(\"applying feature flags\",e),e.forEach((e=>{var t;if(this._flagToExperiments&&null!==(t=this._flagToExperiments)&&void 0!==t&&t.has(e)){var i,r=this.instance.getFeatureFlag(e),n=null===(i=this._flagToExperiments)||void 0===i?void 0:i.get(e);r&&null!=n&&n.variants[r]&&this.applyTransforms(n.name,r,n.variants[r].transforms)}}))}}previewWebExperiment(){var e=Xo.getWindowLocation();if(null!=e&&e.search){var t=Et(null==e?void 0:e.search,\"__experiment_id\"),i=Et(null==e?void 0:e.search,\"__experiment_variant\");t&&i&&(Xo.logInfo(\"previewing web experiments \".concat(t,\" && \").concat(i)),this.getWebExperiments((e=>{this.showPreviewWebExperiment(parseInt(t),i,e)}),!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,i){if(this.instance.config.disable_web_experiments&&!i)return e([]);var r=this.instance.get_property(\"$web_experiments\");if(r&&!t)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);var i=t.json.experiments||[];return e(i)}})}showPreviewWebExperiment(e,t,i){var r=i.filter((t=>t.id===e));r&&r.length>0&&(Xo.logInfo(\"Previewing web experiment [\".concat(r[0].name,\"] with variant [\").concat(t,\"]\")),this.applyTransforms(r[0].name,t,r[0].variants[t].transforms))}static matchesTestVariant(e){return!O(e.conditions)&&(Xo.matchUrlConditions(e)&&Xo.matchUTMConditions(e))}static matchUrlConditions(e){var t;if(O(e.conditions)||O(null===(t=e.conditions)||void 0===t?void 0:t.url))return!0;var i,r,n,s=Xo.getWindowLocation();return!!s&&(null===(i=e.conditions)||void 0===i||!i.url||Ko[null!==(r=null===(n=e.conditions)||void 0===n?void 0:n.urlMatchType)&&void 0!==r?r:\"icontains\"](e.conditions.url,s))}static getWindowLocation(){return null==t?void 0:t.location}static matchUTMConditions(e){var t;if(O(e.conditions)||O(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;var i=hs.campaignParams();if(i.utm_source){var r,n,s,o,a,l,u,c,d,h,_,p,v,g,f,m,y=null===(r=e.conditions)||void 0===r||null===(n=r.utm)||void 0===n||!n.utm_campaign||(null===(s=e.conditions)||void 0===s||null===(o=s.utm)||void 0===o?void 0:o.utm_campaign)==i.utm_campaign,b=null===(a=e.conditions)||void 0===a||null===(l=a.utm)||void 0===l||!l.utm_source||(null===(u=e.conditions)||void 0===u||null===(c=u.utm)||void 0===c?void 0:c.utm_source)==i.utm_source,w=null===(d=e.conditions)||void 0===d||null===(h=d.utm)||void 0===h||!h.utm_medium||(null===(_=e.conditions)||void 0===_||null===(p=_.utm)||void 0===p?void 0:p.utm_medium)==i.utm_medium,S=null===(v=e.conditions)||void 0===v||null===(g=v.utm)||void 0===g||!g.utm_term||(null===(f=e.conditions)||void 0===f||null===(m=f.utm)||void 0===m?void 0:m.utm_term)==i.utm_term;return y&&w&&S&&b}return!1}static logInfo(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];N.info(\"[WebExperiments] \".concat(e),i)}applyTransforms(e,t,i){this._is_bot()?Xo.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==t?i.forEach((i=>{if(i.selector){var r;Xo.logInfo(\"applying transform of variant \".concat(t,\" for experiment \").concat(e,\" \"),i);var n=null===(r=document)||void 0===r?void 0:r.querySelectorAll(i.selector);null==n||n.forEach((e=>{var t=e;i.html&&(t.innerHTML=i.html),i.css&&t.setAttribute(\"style\",i.css)}))}})):Xo.logInfo(\"Control variants leave the page unmodified.\")}_is_bot(){return o&&this.instance?Vo(o,this.instance.config.custom_blocked_useragents):void 0}}var Qo={},Zo=()=>{},ea=\"posthog\",ta=!xo&&-1===(null==h?void 0:h.indexOf(\"MSIE\"))&&-1===(null==h?void 0:h.indexOf(\"Mozilla\")),ia=()=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:ne(null==a?void 0:a.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:Zo,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:\"if_capture_pageview\",debug:l&&T(null==l?void 0:l.search)&&-1!==l.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null===(e=t.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t=\"Bad HTTP status: \"+e.statusCode+\" \"+e.text;N.error(t)},get_device_id:e=>e,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:Ro},_onCapture:Zo}},ra=e=>{var t={};F(e.process_person)||(t.person_profiles=e.process_person),F(e.xhr_headers)||(t.request_headers=e.xhr_headers),F(e.cookie_name)||(t.persistence_name=e.cookie_name),F(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),F(e.store_google)||(t.save_campaign_params=e.store_google),F(e.verbose)||(t.debug=e.verbose);var i=K({},t,e);return x(e.property_blacklist)&&(F(e.property_denylist)?i.property_denylist=e.property_blacklist:x(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:N.error(\"Invalid value for property_denylist config: \"+e.property_denylist)),i};class na{constructor(){W(this,\"__forceAllowLocalhost\",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(e){N.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=e}}class sa{get decideEndpointWasHit(){var e,t;return null!==(e=null===(t=this.featureFlags)||void 0===t?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){W(this,\"webPerformance\",new na),W(this,\"_personProcessingSetOncePropertiesSent\",!1),W(this,\"version\",p.LIB_VERSION),W(this,\"_internalEventEmitter\",new go),this.config=ia(),this.SentryIntegration=Yr,this.sentryIntegration=e=>function(e,t){var i=Jr(e,t);return{name:Gr,processEvent:e=>i(e)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this._cachedPersonProperties=null,this.featureFlags=new ws(this),this.toolbar=new en(this),this.scrollManager=new Ao(this),this.pageViewManager=new cn(this),this.surveys=new yo(this),this.experiments=new Xo(this),this.exceptions=new dn(this),this.rateLimiter=new wo(this),this.requestRouter=new Yo(this),this.consent=new ti(this),this.people={set:(e,t,i)=>{var r=T(e)?{[e]:t}:e;this.setPersonProperties(r),null==i||i({})},set_once:(e,t,i)=>{var r=T(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),null==i||i({})}},this.on(\"eventCaptured\",(e=>N.info('send \"'.concat(null==e?void 0:e.event,'\"'),e)))}init(e,t,i){if(i&&i!==ea){var r,n=null!==(r=Qo[i])&&void 0!==r?r:new sa;return n._init(e,t,i),Qo[i]=n,Qo[ea][i]=n,n}return this._init(e,t,i)}_init(i){var r,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(F(i)||R(i))return N.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return N.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],s.person_profiles&&(this._initialPersonProfilesConfig=s.person_profiles),this.set_config(K({},ia(),ra(s),{name:o,token:i})),this.config.on_xhr_error&&N.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=s.disable_compression?void 0:e.GZipJS,this.persistence=new ks(this.config),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new ks(z(z({},this.config),{},{persistence:\"sessionStorage\"}));var a=z({},this.persistence.props),l=z({},this.sessionPersistence.props);if(this._requestQueue=new $o((e=>this._send_retriable_request(e)),this.config.request_queue_config),this._retryQueue=new Mo(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new No(this),this.sessionPropsManager=new Do(this,this.sessionManager,this.persistence)),new rn(this).startIfEnabledOrStop(),this.siteApps=new jo(this),null===(r=this.siteApps)||void 0===r||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new zr(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $t(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new un(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new on(this),this.exceptionObserver=new ai(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new si(this,ni),this.deadClicksAutocapture.startIfEnabled(),p.DEBUG=p.DEBUG||this.config.debug,p.DEBUG&&N.info(\"Starting in debug mode\",{this:this,config:s,thisC:z({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),void 0!==(null===(n=s.bootstrap)||void 0===n?void 0:n.distinctID)){var u,c,d=this.config.get_device_id(Nt()),h=null!==(u=s.bootstrap)&&void 0!==u&&u.isIdentifiedID?d:s.bootstrap.distinctID;this.persistence.set_property(Le,null!==(c=s.bootstrap)&&void 0!==c&&c.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var _,v,g=Object.keys((null===(_=s.bootstrap)||void 0===_?void 0:_.featureFlags)||{}).filter((e=>{var t,i;return!(null===(t=s.bootstrap)||void 0===t||null===(i=t.featureFlags)||void 0===i||!i[e])})).reduce(((e,t)=>{var i,r;return e[t]=(null===(i=s.bootstrap)||void 0===i||null===(r=i.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),f=Object.keys((null===(v=s.bootstrap)||void 0===v?void 0:v.featureFlagPayloads)||{}).filter((e=>g[e])).reduce(((e,t)=>{var i,r,n,o;null!==(i=s.bootstrap)&&void 0!==i&&null!==(r=i.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(n=s.bootstrap)||void 0===n||null===(o=n.featureFlagPayloads)||void 0===o?void 0:o[t]);return e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:f})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:ze,$device_id:null},\"\");else if(!this.get_distinct_id()){var m=this.config.get_device_id(Nt());this.register_once({distinct_id:m,$device_id:m},\"\"),this.persistence.set_property(Le,\"anonymous\")}return oe(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),s.segment?Vr(this,(()=>this._loaded())):this._loaded(),I(this.config._onCapture)&&this.config._onCapture!==Zo&&(N.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(e=>this.config._onCapture(e.event,e)))),this}_onRemoteConfig(t){var i,r,n,s,o,l,u,c;if(!a||!a.body)return N.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this._onRemoteConfig(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=m(t.supportedCompression,e.GZipJS)?e.GZipJS:m(t.supportedCompression,e.Base64)?e.Base64:void 0),null!==(i=t.analytics)&&void 0!==i&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:\"identified_only\"}),null===(r=this.siteApps)||void 0===r||r.onRemoteConfig(t),null===(n=this.sessionRecording)||void 0===n||n.onRemoteConfig(t),null===(s=this.autocapture)||void 0===s||s.onRemoteConfig(t),null===(o=this.heatmaps)||void 0===o||o.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null===(l=this.webVitalsAutocapture)||void 0===l||l.onRemoteConfig(t),null===(u=this.exceptionObserver)||void 0===u||u.onRemoteConfig(t),null===(c=this.deadClicksAutocapture)||void 0===c||c.onRemoteConfig(t)}_loaded(){try{this.config.loaded(this)}catch(e){N.critical(\"`loaded` function failed\",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((()=>{this.consent.isOptedIn()&&this._captureInitialPageview()}),1),new ko(this).load(),this.featureFlags.decide()}_start_queue_if_opted_in(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||J(this.__request_queue,(e=>this._send_retriable_request(e))),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture(\"$pageleave\"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}_send_request(e){this.__loaded&&(ta?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Po(e.url,{ip:this.config.ip?1:0}),e.headers=z({},this.config.request_headers),e.compression=\"best-available\"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,i,r,n=z({},e);n.timeout=n.timeout||6e4,n.url=Po(n.url,{_:(new Date).getTime().toString(),ver:p.LIB_VERSION,compression:n.compression});var s=null!==(t=n.transport)&&void 0!==t?t:\"fetch\",o=null!==(i=null===(r=se(To,(e=>e.transport===s)))||void 0===r?void 0:r.method)&&void 0!==i?i:To[0].method;if(!o)throw new Error(\"No available transport method\");o(n)})(z(z({},e),{},{callback:t=>{var i,r,n;(this.rateLimiter.checkForLimiting(t),t.statusCode>=400)&&(null===(r=(n=this.config).on_request_error)||void 0===r||r.call(n,t));null===(i=e.callback)||void 0===i||i.call(e,t)}}))))}_send_retriable_request(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}_execute_array(e){var t,i=[],r=[],n=[];J(e,(e=>{e&&(t=e[0],x(t)?n.push(e):I(e)?e.call(this):x(e)&&\"alias\"===t?i.push(e):x(e)&&-1!==t.indexOf(\"capture\")&&I(this[t])?n.push(e):r.push(e))}));var s=function(e,t){J(e,(function(e){if(x(e[0])){var i=t;Y(e,(function(e){i=i[e[0]].apply(i,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};s(i,this),s(r,this),s(n,this)}_hasBootstrappedFeatureFlags(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!F(e)&&T(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var n=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==n||!n.isRateLimited){null!=t&&t.$current_url&&!T(null==t?void 0:t.$current_url)&&(N.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,o=(null==i?void 0:i.timestamp)||s,a=Nt(),l={uuid:a,event:e,properties:this._calculate_event_properties(e,t||{},o,a)};n&&(l.properties.$lib_rate_limit_remaining_tokens=n.remainingTokens),(null==i?void 0:i.$set)&&(l.$set=null==i?void 0:i.$set);var u=this._calculate_set_once_properties(null==i?void 0:i.$set_once);u&&(l.$set_once=u),(l=ie(l,null!=i&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,F(null==i?void 0:i.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=s);var c=z(z({},l.properties.$set),l.$set);if(C(c)||this.setPersonPropertiesForFlags(c),!O(this.config.before_send)){var d=this._runBeforeSend(l);if(!d)return;l=d}this._internalEventEmitter.emit(\"eventCaptured\",l);var h={method:\"POST\",url:null!==(r=null==i?void 0:i._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this._send_retriable_request(h):this._requestQueue.enqueue(h),l}N.critical(\"This capture call is ignored due to client rate limiting.\")}}else N.error(\"No event name provided to posthog.capture\")}else N.uninitializedWarning(\"posthog.capture\")}_addCaptureHook(e){return this.on(\"eventCaptured\",(t=>e(t.event,t)))}_calculate_event_properties(e,t,i,r){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var n=this.persistence.remove_event_timer(e),s=z({},t);if(s.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(s.$cookieless_mode=!0),\"$snapshot\"===e){var o=z(z({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,(!T(s.distinct_id)&&!M(s.distinct_id)||R(s.distinct_id))&&N.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),s}var l,u=hs.properties({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});if(this.sessionManager){var{sessionId:c,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=c,s.$window_id=d}this.sessionPropsManager&&K(s,this.sessionPropsManager.getSessionProps());try{var _,p;this.sessionRecording&&K(s,this.sessionRecording.sdkDebugProperties),s.$sdk_debug_retry_queue_size=null===(_=this._retryQueue)||void 0===_||null===(p=_.queue)||void 0===p?void 0:p.length}catch(e){s.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===Uo.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),l=\"$pageview\"===e?this.pageViewManager.doPageView(i,r):\"$pageleave\"===e?this.pageViewManager.doPageLeave(i):this.pageViewManager.doEvent(),s=K(s,l),\"$pageview\"===e&&a&&(s.title=a.title),!F(n)){var v=i.getTime()-n;s.$duration=parseFloat((v/1e3).toFixed(3))}h&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?\"bot\":\"browser\"),(s=K({},u,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),x(this.config.property_denylist)?Y(this.config.property_denylist,(function(e){delete s[e]})):N.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var g=this.config.sanitize_properties;g&&(N.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=g(s,e));var f=this._hasPersonProcessing();return s.$process_person_profile=f,f&&this._requirePersonProcessing(\"_calculate_event_properties\"),s}_calculate_set_once_properties(e){var t;if(!this.persistence||!this._hasPersonProcessing())return e;if(this._personProcessingSetOncePropertiesSent)return e;var i=this.persistence.get_initial_props(),r=null===(t=this.sessionPropsManager)||void 0===t?void 0:t.getSetOnceProps(),n=K({},i,r||{},e||{}),s=this.config.sanitize_properties;return s&&(N.error(\"sanitize_properties is deprecated. Use before_send instead\"),n=s(n,\"$set_once\")),this._personProcessingSetOncePropertiesSent=!0,C(n)?void 0:n}register(e,t){var i;null===(i=this.persistence)||void 0===i||i.register(e,t)}register_once(e,t,i){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,i)}register_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}unregister(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}unregister_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}_register_single(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;return this.featureFlags.getEarlyAccessFeatures(e,t,i)}on(e,t){return this._internalEventEmitter.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,i;return null!==(t=null===(i=this.sessionManager)||void 0===i?void 0:i.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}identify(e,t,i){if(!this.__loaded||!this.persistence)return N.uninitializedWarning(\"posthog.identify\");if(M(e)&&(e=e.toString(),N.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),e){if([\"distinct_id\",\"distinctid\"].includes(e.toLowerCase()))N.critical('The string \"'.concat(e,'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property(\"$device_id\")){var n=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:n},\"\")}e!==r&&e!==this.get_property(le)&&(this.unregister(le),this.register({distinct_id:e}));var s=\"anonymous\"===(this.persistence.get_property(Le)||\"anonymous\");e!==r&&s?(this.persistence.set_property(Le,\"identified\"),this.setPersonPropertiesForFlags(z(z({},i||{}),t||{}),!1),this.capture(\"$identify\",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:i||{}}),this._cachedPersonProperties=Go(e,t,i),this.featureFlags.setAnonymousDistinctId(r)):(t||i)&&this.setPersonProperties(t,i),e!==r&&(this.reloadFeatureFlags(),this.unregister(Ae))}}else N.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(e,t){if((e||t)&&this._requirePersonProcessing(\"posthog.setPersonProperties\")){var i=Go(this.get_distinct_id(),e,t);this._cachedPersonProperties!==i?(this.setPersonPropertiesForFlags(z(z({},t||{}),e||{})),this.capture(\"$set\",{$set:e||{},$set_once:t||{}}),this._cachedPersonProperties=i):N.info(\"A duplicate setPersonProperties call was made with the same properties. It has been ignored.\")}}group(e,t,i){if(e&&t){if(this._requirePersonProcessing(\"posthog.group\")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:z(z({},r),{},{[e]:t})}),i&&(this.capture(\"$groupidentify\",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===t||i||this.reloadFeatureFlags()}}else N.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,i,r,n;if(N.info(\"reset\"),!this.__loaded)return N.uninitializedWarning(\"posthog.reset\");var s=this.get_property(\"$device_id\");if(this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(i=this.sessionPersistence)||void 0===i||i.clear(),this.surveys.reset(),null===(r=this.persistence)||void 0===r||r.set_property(Le,\"anonymous\"),null===(n=this.sessionManager)||void 0===n||n.resetSessionId(),this._cachedPersonProperties=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:ze,$device_id:null},\"\");else{var o=this.config.get_device_id(Nt());this.register_once({distinct_id:o,$device_id:e?o:s},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:\"\"}get_session_replay_url(e){if(!this.sessionManager)return\"\";var{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\".concat(this.config.token,\"/replay/\").concat(t));if(null!=e&&e.withTimestamp&&i){var n,s=null!==(n=e.timestampLookBack)&&void 0!==n?n:10;if(!i)return r;var o=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-s,0);r+=\"?t=\".concat(o)}return r}alias(e,t){return e===this.get_property(ae)?(N.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this._requirePersonProcessing(\"posthog.alias\")?(F(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(le,e),this.capture(\"$create_alias\",{alias:e,distinct_id:t})):(N.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(e),-1)):void 0}set_config(e){var t,i,r,n,s=z({},this.config);P(e)&&(K(this.config,ra(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,s),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new ks(z(z({},this.config),{},{persistence:\"sessionStorage\"})),Jt.is_supported()&&\"true\"===Jt.get(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(p.DEBUG=!0,N.info(\"set_config\",JSON.stringify({config:e,oldConfig:s,newConfig:z({},this.config)},null,2))),null===(i=this.sessionRecording)||void 0===i||i.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(n=this.heatmaps)||void 0===n||n.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(e){var t=!0===e,i={sampling:t||!(null==e||!e.sampling),linked_flag:t||!(null==e||!e.linked_flag),url_trigger:t||!(null==e||!e.url_trigger),event_trigger:t||!(null==e||!e.event_trigger)};if(Object.values(i).some(Boolean)){var r,n,s,o,a;if(null===(r=this.sessionManager)||void 0===r||r.checkAndGetSessionAndWindowId(),i.sampling)null===(n=this.sessionRecording)||void 0===n||n.overrideSampling();if(i.linked_flag)null===(s=this.sessionRecording)||void 0===s||s.overrideLinkedFlag();if(i.url_trigger)null===(o=this.sessionRecording)||void 0===o||o.overrideTrigger(\"url\");if(i.event_trigger)null===(a=this.sessionRecording)||void 0===a||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}captureException(e,t){var i=new Error(\"PostHog syntheticException\");this.exceptions.sendExceptionEvent(z(z({},Mi((e=>e instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:i})),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}getSessionProperty(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:ea;return t!==ea&&(t=ea+\".\"+t),t}_isIdentified(){var e,t;return\"identified\"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(Le))||\"identified\"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(Le))}_hasPersonProcessing(){var e,t,i,r;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&C(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[le])&&(null===(i=this.persistence)||void 0===i||null===(r=i.props)||void 0===r||!r[je]))}_shouldCapturePageleave(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}_requirePersonProcessing(e){return\"never\"===this.config.person_profiles?(N.error(e+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this._register_single(je,!0),!0)}_sync_opt_out_with_persistence(){var e,t,i,r,n=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||n&&!!s;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==o&&(null===(i=this.persistence)||void 0===i||i.set_disabled(o));(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==o&&(null===(r=this.sessionPersistence)||void 0===r||r.set_disabled(o))}opt_in_capturing(e){var t;(this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),F(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:\"$opt_in\",null==e?void 0:e.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return o?Vo(o,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){a&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture(\"$pageview\",{title:a.title},{send_instantly:!0}))}debug(e){!1===e?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}_runBeforeSend(e){if(O(this.config.before_send))return e;var t=x(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of t){if(i=r(i),O(i)){var n=\"Event '\".concat(e.event,\"' was rejected in beforeSend function\");return D(e.event)?N.warn(\"\".concat(n,\". This can cause unexpected behavior.\")):N.info(n),null}i.properties&&!C(i.properties)||N.warn(\"Event '\".concat(e.event,\"' has no properties after beforeSend function, this is likely an error.\"))}return i}getPageViewId(){var e;return null===(e=this.pageViewManager._currentPageview)||void 0===e?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture(\"$ai_feedback\",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,i){this.capture(\"$ai_metric\",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(i)})}}!function(e,t){for(var i=0;i<t.length;i++)e.prototype[t[i]]=ee(e.prototype[t[i]])}(sa,[\"identify\"]);var oa,aa=(oa=Qo[ea]=new sa,function(){function e(){e.done||(e.done=!0,ta=!1,Y(Qo,(function(e){e._dom_loaded()})))}null!=a&&a.addEventListener?\"complete\"===a.readyState?e():oe(a,\"DOMContentLoaded\",e,{capture:!1}):t&&N.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),oa);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbWFBQW1hLElBQUksK0JBQStCLCtRQUErUSxhQUFhLHFDQUFxQyxTQUFTLEdBQUcsdURBQXVELGdCQUFnQix3QkFBd0Isa0JBQWtCLGdCQUFnQixlQUFlLDRCQUE0Qix3RkFBd0YsbUNBQW1DLDJEQUEyRCxTQUFTLHVDQUF1QyxTQUFTLFNBQVMsbU9BQW1PLE9BQU8saUJBQWlCLDREQUE0RCwySUFBMkksSUFBSSx3QkFBd0IsV0FBVyxpQkFBaUIsOENBQThDLElBQUksc0JBQXNCLG1CQUFtQixpQkFBaUIsOENBQThDLElBQUksc0JBQXNCLG9CQUFvQixrQkFBa0IsOENBQThDLElBQUksc0JBQXNCLHFCQUFxQixxQkFBcUIsOENBQThDLElBQUksc0JBQXNCLHNCQUFzQiwwQkFBMEIsaUVBQWlFLGdEQUFnRCxTQUFTLGlGQUFpRix1TEFBdUwsa0RBQWtELGlCQUFpQixXQUFXLCtCQUErQixXQUFXLHFDQUFxQyxnQ0FBZ0Msd1FBQXdRLDRDQUE0QyxpR0FBaUcsdUVBQXVFLGdCQUFnQixxQkFBcUIsaUNBQWlDLHNDQUFzQyw0QkFBNEIsdURBQXVELHNCQUFzQixTQUFTLGNBQWMsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLFlBQVkscUlBQXFJLGdFQUFnRSxHQUFHLFNBQVMsa0JBQWtCLHlDQUF5QyxrREFBa0QsV0FBVyxnQkFBZ0Isb0JBQW9CLHdCQUF3QixvQkFBb0IsWUFBWSxrQkFBa0IsUUFBUSxXQUFXLHdDQUF3QyxTQUFTLE1BQU0saUNBQWlDLHNDQUFzQyxRQUFRLFdBQVcseUZBQXlGLFNBQVMsbURBQW1ELDBEQUEwRCx5REFBeUQseUZBQXlGLHVDQUF1QywrQkFBK0IsOENBQThDLFNBQVMsK0NBQStDLDJDQUEyQyxVQUFVLFNBQVMsa0JBQWtCLDJDQUEyQyxrRUFBa0UsSUFBSSwyQ0FBMkMsa0JBQWtC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bUNBQW1DLGNBQWMsMlFBQTJRLHlCQUF5QixnQkFBZ0IsdUtBQXVLLG1DQUFtQyxjQUFjLCtKQUErSixzRkFBc0Ysd0ZBQXdGLDRGQUE0RixpQkFBaUIsNkJBQTZCLEVBQUUsdUJBQXVCLGlCQUFpQiw2QkFBNkIsRUFBRSwwQkFBMEIsTUFBTSxrRUFBa0Usc0JBQXNCLDhDQUE4Qyx5Q0FBeUMsZ0NBQWdDLHdCQUF3QixFQUFFLFFBQVEsRUFBRSxxQkFBcUIsT0FBTyxlQUFlLG1DQUFtQyxnQkFBZ0IsTUFBTSxpRUFBaUUsc0JBQXNCLE1BQU0sd0VBQXdFLFdBQVcscURBQXFELDhCQUE4QixnQkFBZ0IsUUFBUSxvTEFBb0wsdUJBQXVCLFlBQVksa1RBQWtULDBCQUEwQiw4SEFBOEgsc0JBQXNCLHNIQUFzSCxHQUFHLEVBQUUsNEJBQTRCLDhLQUE4SyxpQ0FBaUMsK0hBQStILDhIQUE4SCw0SUFBNEksb0JBQW9CLE1BQU0sMlBBQTJQLGtCQUFrQixFQUFFLDZEQUE2RCxvQkFBb0IsZ0VBQWdFLHlCQUF5QixnQ0FBZ0MsMEJBQTBCLGlDQUFpQyw2QkFBNkIsMkRBQTJELFVBQVUsNERBQTRELDBCQUEwQiwrRkFBK0YsY0FBYyxFQUFFLGtCQUFrQixHQUFHLFNBQVMsaUlBQWlJLFNBQVMsdU9BQXVPLFNBQVMsR0FBRyxrQkFBa0IsdUNBQXVDLHVGQUF1RixnQkFBZ0IsZ0JBQWdCLHdFQUF3RSw4RkFBOEYsNElBQTRJLFNBQVMsZ0JBQWdCLE1BQU0sd0ZBQXdGLDBCQUEwQiw2QkFBNkIsMkNBQTJDLEVBQUUsMEJBQTBCLDJCQUEyQixvRUFBb0UsR0FBRyxlQUFlLFlBQVksV0FBVyw0Q0FBNEMsa0JBQWtCLHVDQUF1QyxhQUFhLDJDQUEyQyxnQkFBZ0IsSUFBSSxxRkFBcUYsV0FBVyx1R0FBdUcsT0FBcVM7QUFDNzkvTCIsInNvdXJjZXMiOlsiL1VzZXJzL2VkZGxlZS9lZHdhcmQtcG9ydGZvbGlvL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL2Rpc3QvbW9kdWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlLHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwLGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0LHI9QXJyYXkucHJvdG90eXBlLG49ci5mb3JFYWNoLHM9ci5pbmRleE9mLG89bnVsbD09aT92b2lkIDA6aS5uYXZpZ2F0b3IsYT1udWxsPT1pP3ZvaWQgMDppLmRvY3VtZW50LGw9bnVsbD09aT92b2lkIDA6aS5sb2NhdGlvbix1PW51bGw9PWk/dm9pZCAwOmkuZmV0Y2gsYz1udWxsIT1pJiZpLlhNTEh0dHBSZXF1ZXN0JiZcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IGkuWE1MSHR0cFJlcXVlc3Q/aS5YTUxIdHRwUmVxdWVzdDp2b2lkIDAsZD1udWxsPT1pP3ZvaWQgMDppLkFib3J0Q29udHJvbGxlcixoPW51bGw9PW8/dm9pZCAwOm8udXNlckFnZW50LF89bnVsbCE9dD90Ont9LHA9e0RFQlVHOiExLExJQl9WRVJTSU9OOlwiMS4yMzUuNlwifSx2PVwiJGNvcHlfYXV0b2NhcHR1cmVcIixnPVtcIiRzbmFwc2hvdFwiLFwiJHBhZ2V2aWV3XCIsXCIkcGFnZWxlYXZlXCIsXCIkc2V0XCIsXCJzdXJ2ZXkgZGlzbWlzc2VkXCIsXCJzdXJ2ZXkgc2VudFwiLFwic3VydmV5IHNob3duXCIsXCIkaWRlbnRpZnlcIixcIiRncm91cGlkZW50aWZ5XCIsXCIkY3JlYXRlX2FsaWFzXCIsXCIkJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ1wiLFwiJHdlYl9leHBlcmltZW50X2FwcGxpZWRcIixcIiRmZWF0dXJlX2Vucm9sbG1lbnRfdXBkYXRlXCIsXCIkZmVhdHVyZV9mbGFnX2NhbGxlZFwiXTshZnVuY3Rpb24oZSl7ZS5HWmlwSlM9XCJnemlwLWpzXCIsZS5CYXNlNjQ9XCJiYXNlNjRcIn0oZXx8KGU9e30pKTt2YXIgZj1bXCJmYXRhbFwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImxvZ1wiLFwiaW5mb1wiLFwiZGVidWdcIl07ZnVuY3Rpb24gbShlLHQpe3JldHVybi0xIT09ZS5pbmRleE9mKHQpfXZhciB5PWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0sYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXFwkLyxcIlwiKX07dmFyIHc9QXJyYXkuaXNBcnJheSxTPU9iamVjdC5wcm90b3R5cGUsaz1TLmhhc093blByb3BlcnR5LEU9Uy50b1N0cmluZyx4PXd8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PUUuY2FsbChlKX0sST1lPT5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLFA9ZT0+ZT09PU9iamVjdChlKSYmIXgoZSksQz1lPT57aWYoUChlKSl7Zm9yKHZhciB0IGluIGUpaWYoay5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9LEY9ZT0+dm9pZCAwPT09ZSxUPWU9PlwiW29iamVjdCBTdHJpbmddXCI9PUUuY2FsbChlKSxSPWU9PlQoZSkmJjA9PT1lLnRyaW0oKS5sZW5ndGgsJD1lPT5udWxsPT09ZSxPPWU9PkYoZSl8fCQoZSksTT1lPT5cIltvYmplY3QgTnVtYmVyXVwiPT1FLmNhbGwoZSksQT1lPT5cIltvYmplY3QgQm9vbGVhbl1cIj09PUUuY2FsbChlKSxMPWU9PmUgaW5zdGFuY2VvZiBGb3JtRGF0YSxEPWU9Pm0oZyxlKSxxPWU9Pnt2YXIgaT17X2xvZzpmdW5jdGlvbihpKXtpZih0JiYocC5ERUJVR3x8Xy5QT1NUSE9HX0RFQlVHKSYmIUYodC5jb25zb2xlKSYmdC5jb25zb2xlKXtmb3IodmFyIHI9KFwiX19ycndlYl9vcmlnaW5hbF9fXCJpbiB0LmNvbnNvbGVbaV0/dC5jb25zb2xlW2ldLl9fcnJ3ZWJfb3JpZ2luYWxfXzp0LmNvbnNvbGVbaV0pLG49YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXNbby0xXT1hcmd1bWVudHNbb107cihlLC4uLnMpfX0saW5mbzpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO2kuX2xvZyhcImxvZ1wiLC4uLnQpfSx3YXJuOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07aS5fbG9nKFwid2FyblwiLC4uLnQpfSxlcnJvcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO2kuX2xvZyhcImVycm9yXCIsLi4udCl9LGNyaXRpY2FsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07Y29uc29sZS5lcnJvcihlLC4uLmkpfSx1bmluaXRpYWxpemVkV2FybmluZzplPT57aS5lcnJvcihcIllvdSBtdXN0IGluaXRpYWxpemUgUG9zdEhvZyBiZWZvcmUgY2FsbGluZyBcIi5jb25jYXQoZSkpfSxjcmVhdGVMb2dnZXI6dD0+cShcIlwiLmNvbmNhdChlLFwiIFwiKS5jb25jYXQodCkpfTtyZXR1cm4gaX0sTj1xKFwiW1Bvc3RIb2cuanNdXCIpLEI9Ti5jcmVhdGVMb2dnZXIsSD1CKFwiW0V4dGVybmFsU2NyaXB0c0xvYWRlcl1cIiksaj0oZSx0LGkpPT57aWYoZS5jb25maWcuZGlzYWJsZV9leHRlcm5hbF9kZXBlbmRlbmN5X2xvYWRpbmcpcmV0dXJuIEgud2FybihcIlwiLmNvbmNhdCh0LFwiIHdhcyByZXF1ZXN0ZWQgYnV0IGxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZC5cIikpLGkoXCJMb2FkaW5nIG9mIGV4dGVybmFsIHNjcmlwdHMgaXMgZGlzYWJsZWRcIik7dmFyIHI9bnVsbD09YT92b2lkIDA6YS5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpO2lmKHIpZm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspaWYocltuXS5zcmM9PT10KXJldHVybiBpKCk7dmFyIHM9KCk9PntpZighYSlyZXR1cm4gaShcImRvY3VtZW50IG5vdCBmb3VuZFwiKTt2YXIgcj1hLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHIuc3JjPXQsci5vbmxvYWQ9ZT0+aSh2b2lkIDAsZSksci5vbmVycm9yPWU9PmkoZSksZS5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCYmKHI9ZS5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdChyKSksIXIpcmV0dXJuIGkoXCJwcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0IHJldHVybmVkIG51bGxcIik7dmFyIG4scz1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJib2R5ID4gc2NyaXB0XCIpO3MubGVuZ3RoPjA/bnVsbD09PShuPXNbMF0ucGFyZW50Tm9kZSl8fHZvaWQgMD09PW58fG4uaW5zZXJ0QmVmb3JlKHIsc1swXSk6YS5ib2R5LmFwcGVuZENoaWxkKHIpfTtudWxsIT1hJiZhLmJvZHk/cygpOm51bGw9PWF8fGEuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixzKX07ZnVuY3Rpb24gVShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGkscil9cmV0dXJuIGl9ZnVuY3Rpb24geihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9VKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7VyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6VShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBXKGUsdCxpKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPWksZX1mdW5jdGlvbiBWKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgaSxyLG49ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBpLHIsbj17fSxzPU9iamVjdC5rZXlzKGUpO2ZvcihyPTA7cjxzLmxlbmd0aDtyKyspaT1zW3JdLHQuaW5kZXhPZihpKT49MHx8KG5baV09ZVtpXSk7cmV0dXJuIG59KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iocj0wO3I8cy5sZW5ndGg7cisrKWk9c1tyXSx0LmluZGV4T2YoaSk+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLGkpJiYobltpXT1lW2ldKX1yZXR1cm4gbn1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXz1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfX3x8e30sXy5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZEV4dGVybmFsRGVwZW5kZW5jeT0oZSx0LGkpPT57dmFyIHI9XCIvc3RhdGljL1wiLmNvbmNhdCh0LFwiLmpzXCIpK1wiP3Y9XCIuY29uY2F0KGUudmVyc2lvbik7aWYoXCJyZW1vdGUtY29uZmlnXCI9PT10JiYocj1cIi9hcnJheS9cIi5jb25jYXQoZS5jb25maWcudG9rZW4sXCIvY29uZmlnLmpzXCIpKSxcInRvb2xiYXJcIj09PXQpe3ZhciBuPTNlNSxzPU1hdGguZmxvb3IoRGF0ZS5ub3coKS9uKSpuO3I9XCJcIi5jb25jYXQocixcIiZ0PVwiKS5jb25jYXQocyl9dmFyIG89ZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXNzZXRzXCIscik7aihlLG8saSl9LF8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmxvYWRTaXRlQXBwPShlLHQsaSk9Pnt2YXIgcj1lLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIix0KTtqKGUscixpKX07dmFyIEc9e307ZnVuY3Rpb24gSihlLHQsaSl7aWYoeChlKSlpZihuJiZlLmZvckVhY2g9PT1uKWUuZm9yRWFjaCh0LGkpO2Vsc2UgaWYoXCJsZW5ndGhcImluIGUmJmUubGVuZ3RoPT09K2UubGVuZ3RoKWZvcih2YXIgcj0wLHM9ZS5sZW5ndGg7cjxzO3IrKylpZihyIGluIGUmJnQuY2FsbChpLGVbcl0scik9PT1HKXJldHVybn1mdW5jdGlvbiBZKGUsdCxpKXtpZighTyhlKSl7aWYoeChlKSlyZXR1cm4gSihlLHQsaSk7aWYoTChlKSl7Zm9yKHZhciByIG9mIGUuZW50cmllcygpKWlmKHQuY2FsbChpLHJbMV0sclswXSk9PT1HKXJldHVybn1lbHNlIGZvcih2YXIgbiBpbiBlKWlmKGsuY2FsbChlLG4pJiZ0LmNhbGwoaSxlW25dLG4pPT09RylyZXR1cm59fXZhciBLPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspaVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gSihpLChmdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gdCl2b2lkIDAhPT10W2ldJiYoZVtpXT10W2ldKX0pKSxlfSxYPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspaVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gSihpLChmdW5jdGlvbih0KXtKKHQsKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKX0pKSxlfTtmdW5jdGlvbiBRKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxpPXQubGVuZ3RoLHI9bmV3IEFycmF5KGkpO2ktLTspcltpXT1bdFtpXSxlW3RbaV1dXTtyZXR1cm4gcn12YXIgWj1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUoKX1jYXRjaChlKXtyZXR1cm59fSxlZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07cmV0dXJuIGUuYXBwbHkodGhpcyxpKX1jYXRjaChlKXtOLmNyaXRpY2FsKFwiSW1wbGVtZW50YXRpb24gZXJyb3IuIFBsZWFzZSB0dXJuIG9uIGRlYnVnIG1vZGUgYW5kIG9wZW4gYSB0aWNrZXQgb24gaHR0cHM6Ly9hcHAucG9zdGhvZy5jb20vaG9tZSNwYW5lbD1zdXBwb3J0JTNBc3VwcG9ydCUzQS5cIiksTi5jcml0aWNhbChlKX19fSx0ZT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gWShlLChmdW5jdGlvbihlLGkpe1QoZSkmJmUubGVuZ3RoPjAmJih0W2ldPWUpfSkpLHR9O2Z1bmN0aW9uIGllKGUsdCl7cmV0dXJuIGk9ZSxyPWU9PlQoZSkmJiEkKHQpP2Uuc2xpY2UoMCx0KTplLG49bmV3IFNldCxmdW5jdGlvbiBlKHQsaSl7cmV0dXJuIHQhPT1PYmplY3QodCk/cj9yKHQsaSk6dDpuLmhhcyh0KT92b2lkIDA6KG4uYWRkKHQpLHgodCk/KHM9W10sSih0LCh0PT57cy5wdXNoKGUodCkpfSkpKToocz17fSxZKHQsKCh0LGkpPT57bi5oYXModCl8fChzW2ldPWUodCxpKSl9KSkpLHMpO3ZhciBzfShpKTt2YXIgaSxyLG59dmFyIHJlPVtcImhlcm9rdWFwcC5jb21cIixcInZlcmNlbC5hcHBcIixcIm5ldGxpZnkuYXBwXCJdO2Z1bmN0aW9uIG5lKGUpe3ZhciB0PW51bGw9PWU/dm9pZCAwOmUuaG9zdG5hbWU7aWYoIVQodCkpcmV0dXJuITE7dmFyIGk9dC5zcGxpdChcIi5cIikuc2xpY2UoLTIpLmpvaW4oXCIuXCIpO2Zvcih2YXIgciBvZiByZSlpZihpPT09cilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBzZShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHQoZVtpXSkpcmV0dXJuIGVbaV19ZnVuY3Rpb24gb2UoZSx0LGkscil7dmFye2NhcHR1cmU6bj0hMSxwYXNzaXZlOnM9ITB9PW51bGwhPXI/cjp7fTtudWxsPT1lfHxlLmFkZEV2ZW50TGlzdGVuZXIodCxpLHtjYXB0dXJlOm4scGFzc2l2ZTpzfSl9dmFyIGFlPVwiJHBlb3BsZV9kaXN0aW5jdF9pZFwiLGxlPVwiX19hbGlhc1wiLHVlPVwiX190aW1lcnNcIixjZT1cIiRhdXRvY2FwdHVyZV9kaXNhYmxlZF9zZXJ2ZXJfc2lkZVwiLGRlPVwiJGhlYXRtYXBzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixoZT1cIiRleGNlcHRpb25fY2FwdHVyZV9lbmFibGVkX3NlcnZlcl9zaWRlXCIsX2U9XCIkd2ViX3ZpdGFsc19lbmFibGVkX3NlcnZlcl9zaWRlXCIscGU9XCIkZGVhZF9jbGlja3NfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLHZlPVwiJHdlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzXCIsZ2U9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLGZlPVwiJGNvbnNvbGVfbG9nX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIsbWU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfbmV0d29ya19wYXlsb2FkX2NhcHR1cmVcIix5ZT1cIiRzZXNzaW9uX3JlY29yZGluZ19tYXNraW5nXCIsYmU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfY2FudmFzX3JlY29yZGluZ1wiLHdlPVwiJHJlcGxheV9zYW1wbGVfcmF0ZVwiLFNlPVwiJHJlcGxheV9taW5pbXVtX2R1cmF0aW9uXCIsa2U9XCIkcmVwbGF5X3NjcmlwdF9jb25maWdcIixFZT1cIiRzZXNpZFwiLHhlPVwiJHNlc3Npb25faXNfc2FtcGxlZFwiLEllPVwiJHNlc3Npb25fcmVjb3JkaW5nX3VybF90cmlnZ2VyX2FjdGl2YXRlZF9zZXNzaW9uXCIsUGU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfZXZlbnRfdHJpZ2dlcl9hY3RpdmF0ZWRfc2Vzc2lvblwiLENlPVwiJGVuYWJsZWRfZmVhdHVyZV9mbGFnc1wiLEZlPVwiJGVhcmx5X2FjY2Vzc19mZWF0dXJlc1wiLFRlPVwiJGZlYXR1cmVfZmxhZ19kZXRhaWxzXCIsUmU9XCIkc3RvcmVkX3BlcnNvbl9wcm9wZXJ0aWVzXCIsJGU9XCIkc3RvcmVkX2dyb3VwX3Byb3BlcnRpZXNcIixPZT1cIiRzdXJ2ZXlzXCIsTWU9XCIkc3VydmV5c19hY3RpdmF0ZWRcIixBZT1cIiRmbGFnX2NhbGxfcmVwb3J0ZWRcIixMZT1cIiR1c2VyX3N0YXRlXCIsRGU9XCIkY2xpZW50X3Nlc3Npb25fcHJvcHNcIixxZT1cIiRjYXB0dXJlX3JhdGVfbGltaXRcIixOZT1cIiRpbml0aWFsX2NhbXBhaWduX3BhcmFtc1wiLEJlPVwiJGluaXRpYWxfcmVmZXJyZXJfaW5mb1wiLEhlPVwiJGluaXRpYWxfcGVyc29uX2luZm9cIixqZT1cIiRlcHBcIixVZT1cIl9fUE9TVEhPR19UT09MQkFSX19cIix6ZT1cIiRwb3N0aG9nX2Nvb2tpZWxlc3NcIixXZT1bYWUsbGUsXCJfX2NtcG5zXCIsdWUsZ2UsZGUsRWUsQ2UsTGUsRmUsVGUsJGUsUmUsT2UsQWUsRGUscWUsTmUsQmUsamVdO2Z1bmN0aW9uIFZlKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgRWxlbWVudCYmKGUuaWQ9PT1VZXx8IShudWxsPT09KHQ9ZS5jbG9zZXN0KXx8dm9pZCAwPT09dHx8IXQuY2FsbChlLFwiLnRvb2xiYXItZ2xvYmFsLWZhZGUtY29udGFpbmVyXCIpKSl9ZnVuY3Rpb24gR2UoZSl7cmV0dXJuISFlJiYxPT09ZS5ub2RlVHlwZX1mdW5jdGlvbiBKZShlLHQpe3JldHVybiEhZSYmISFlLnRhZ05hbWUmJmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIFllKGUpe3JldHVybiEhZSYmMz09PWUubm9kZVR5cGV9ZnVuY3Rpb24gS2UoZSl7cmV0dXJuISFlJiYxMT09PWUubm9kZVR5cGV9ZnVuY3Rpb24gWGUoZSl7cmV0dXJuIGU/eShlKS5zcGxpdCgvXFxzKy8pOltdfWZ1bmN0aW9uIFFlKGUpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24uaHJlZjtyZXR1cm4hIShpJiZlJiZlLnNvbWUoKGU9PmkubWF0Y2goZSkpKSl9ZnVuY3Rpb24gWmUoZSl7dmFyIHQ9XCJcIjtzd2l0Y2godHlwZW9mIGUuY2xhc3NOYW1lKXtjYXNlXCJzdHJpbmdcIjp0PWUuY2xhc3NOYW1lO2JyZWFrO2Nhc2VcIm9iamVjdFwiOnQ9KGUuY2xhc3NOYW1lJiZcImJhc2VWYWxcImluIGUuY2xhc3NOYW1lP2UuY2xhc3NOYW1lLmJhc2VWYWw6bnVsbCl8fGUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCI7YnJlYWs7ZGVmYXVsdDp0PVwiXCJ9cmV0dXJuIFhlKHQpfWZ1bmN0aW9uIGV0KGUpe3JldHVybiBPKGUpP251bGw6eShlKS5zcGxpdCgvKFxccyspLykuZmlsdGVyKChlPT5wdChlKSkpLmpvaW4oXCJcIikucmVwbGFjZSgvW1xcclxcbl0vZyxcIiBcIikucmVwbGFjZSgvWyBdKy9nLFwiIFwiKS5zdWJzdHJpbmcoMCwyNTUpfWZ1bmN0aW9uIHR0KGUpe3ZhciB0PVwiXCI7cmV0dXJuIG90KGUpJiYhYXQoZSkmJmUuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aCYmWShlLmNoaWxkTm9kZXMsKGZ1bmN0aW9uKGUpe3ZhciBpO1llKGUpJiZlLnRleHRDb250ZW50JiYodCs9bnVsbCE9PShpPWV0KGUudGV4dENvbnRlbnQpKSYmdm9pZCAwIT09aT9pOlwiXCIpfSkpLHkodCl9ZnVuY3Rpb24gaXQoZSl7cmV0dXJuIEYoZS50YXJnZXQpP2Uuc3JjRWxlbWVudHx8bnVsbDpudWxsIT09KHQ9ZS50YXJnZXQpJiZ2b2lkIDAhPT10JiZ0LnNoYWRvd1Jvb3Q/ZS5jb21wb3NlZFBhdGgoKVswXXx8bnVsbDplLnRhcmdldHx8bnVsbDt2YXIgdH12YXIgcnQ9W1wiYVwiLFwiYnV0dG9uXCIsXCJmb3JtXCIsXCJpbnB1dFwiLFwic2VsZWN0XCIsXCJ0ZXh0YXJlYVwiLFwibGFiZWxcIl07ZnVuY3Rpb24gbnQoZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiEoIXR8fCFHZSh0KSkmJnR9ZnVuY3Rpb24gc3QoZSxpKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAscz1hcmd1bWVudHMubGVuZ3RoPjQ/YXJndW1lbnRzWzRdOnZvaWQgMDtpZighdHx8IWV8fEplKGUsXCJodG1sXCIpfHwhR2UoZSkpcmV0dXJuITE7aWYobnVsbCE9ciYmci51cmxfYWxsb3dsaXN0JiYhUWUoci51cmxfYWxsb3dsaXN0KSlyZXR1cm4hMTtpZihudWxsIT1yJiZyLnVybF9pZ25vcmVsaXN0JiZRZShyLnVybF9pZ25vcmVsaXN0KSlyZXR1cm4hMTtpZihudWxsIT1yJiZyLmRvbV9ldmVudF9hbGxvd2xpc3Qpe3ZhciBvPXIuZG9tX2V2ZW50X2FsbG93bGlzdDtpZihvJiYhby5zb21lKChlPT5pLnR5cGU9PT1lKSkpcmV0dXJuITF9Zm9yKHZhciBhPSExLGw9W2VdLHU9ITAsYz1lO2MucGFyZW50Tm9kZSYmIUplKGMsXCJib2R5XCIpOylpZihLZShjLnBhcmVudE5vZGUpKWwucHVzaChjLnBhcmVudE5vZGUuaG9zdCksYz1jLnBhcmVudE5vZGUuaG9zdDtlbHNle2lmKCEodT1udChjKSkpYnJlYWs7aWYobnx8cnQuaW5kZXhPZih1LnRhZ05hbWUudG9Mb3dlckNhc2UoKSk+LTEpYT0hMDtlbHNle3ZhciBkPXQuZ2V0Q29tcHV0ZWRTdHlsZSh1KTtkJiZcInBvaW50ZXJcIj09PWQuZ2V0UHJvcGVydHlWYWx1ZShcImN1cnNvclwiKSYmKGE9ITApfWwucHVzaCh1KSxjPXV9aWYoIWZ1bmN0aW9uKGUsdCl7dmFyIGk9bnVsbD09dD92b2lkIDA6dC5lbGVtZW50X2FsbG93bGlzdDtpZihGKGkpKXJldHVybiEwO3ZhciByPWZ1bmN0aW9uKGUpe2lmKGkuc29tZSgodD0+ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT10KSkpcmV0dXJue3Y6ITB9fTtmb3IodmFyIG4gb2YgZSl7dmFyIHM9cihuKTtpZihcIm9iamVjdFwiPT10eXBlb2YgcylyZXR1cm4gcy52fXJldHVybiExfShsLHIpKXJldHVybiExO2lmKCFmdW5jdGlvbihlLHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuY3NzX3NlbGVjdG9yX2FsbG93bGlzdDtpZihGKGkpKXJldHVybiEwO3ZhciByPWZ1bmN0aW9uKGUpe2lmKGkuc29tZSgodD0+ZS5tYXRjaGVzKHQpKSkpcmV0dXJue3Y6ITB9fTtmb3IodmFyIG4gb2YgZSl7dmFyIHM9cihuKTtpZihcIm9iamVjdFwiPT10eXBlb2YgcylyZXR1cm4gcy52fXJldHVybiExfShsLHIpKXJldHVybiExO3ZhciBoPXQuZ2V0Q29tcHV0ZWRTdHlsZShlKTtpZihoJiZcInBvaW50ZXJcIj09PWguZ2V0UHJvcGVydHlWYWx1ZShcImN1cnNvclwiKSYmXCJjbGlja1wiPT09aS50eXBlKXJldHVybiEwO3ZhciBfPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3N3aXRjaChfKXtjYXNlXCJodG1sXCI6cmV0dXJuITE7Y2FzZVwiZm9ybVwiOnJldHVybihzfHxbXCJzdWJtaXRcIl0pLmluZGV4T2YoaS50eXBlKT49MDtjYXNlXCJpbnB1dFwiOmNhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6cmV0dXJuKHN8fFtcImNoYW5nZVwiLFwiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MDtkZWZhdWx0OnJldHVybiBhPyhzfHxbXCJjbGlja1wiXSkuaW5kZXhPZihpLnR5cGUpPj0wOihzfHxbXCJjbGlja1wiXSkuaW5kZXhPZihpLnR5cGUpPj0wJiYocnQuaW5kZXhPZihfKT4tMXx8XCJ0cnVlXCI9PT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9fWZ1bmN0aW9uIG90KGUpe2Zvcih2YXIgdD1lO3QucGFyZW50Tm9kZSYmIUplKHQsXCJib2R5XCIpO3Q9dC5wYXJlbnROb2RlKXt2YXIgaT1aZSh0KTtpZihtKGksXCJwaC1zZW5zaXRpdmVcIil8fG0oaSxcInBoLW5vLWNhcHR1cmVcIikpcmV0dXJuITF9aWYobShaZShlKSxcInBoLWluY2x1ZGVcIikpcmV0dXJuITA7dmFyIHI9ZS50eXBlfHxcIlwiO2lmKFQocikpc3dpdGNoKHIudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGlkZGVuXCI6Y2FzZVwicGFzc3dvcmRcIjpyZXR1cm4hMX12YXIgbj1lLm5hbWV8fGUuaWR8fFwiXCI7aWYoVChuKSl7aWYoL15jY3xjYXJkbnVtfGNjbnVtfGNyZWRpdGNhcmR8Y3NjfGN2Y3xjdnZ8ZXhwfHBhc3N8cHdkfHJvdXRpbmd8c2VjY29kZXxzZWN1cml0eWNvZGV8c2VjdXJpdHludW18c29jaWFsc2VjfHNvY3NlY3xzc24vaS50ZXN0KG4ucmVwbGFjZSgvW15hLXpBLVowLTldL2csXCJcIikpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGF0KGUpe3JldHVybiEhKEplKGUsXCJpbnB1dFwiKSYmIVtcImJ1dHRvblwiLFwiY2hlY2tib3hcIixcInN1Ym1pdFwiLFwicmVzZXRcIl0uaW5jbHVkZXMoZS50eXBlKXx8SmUoZSxcInNlbGVjdFwiKXx8SmUoZSxcInRleHRhcmVhXCIpfHxcInRydWVcIj09PWUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX12YXIgbHQ9XCIoNFswLTldezEyfSg/OlswLTldezN9KT8pfCg1WzEtNV1bMC05XXsxNH0pfCg2KD86MDExfDVbMC05XXsyfSlbMC05XXsxMn0pfCgzWzQ3XVswLTldezEzfSl8KDMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfSl8KCg/OjIxMzF8MTgwMHwzNVswLTldezN9KVswLTldezExfSlcIix1dD1uZXcgUmVnRXhwKFwiXig/OlwiLmNvbmNhdChsdCxcIikkXCIpKSxjdD1uZXcgUmVnRXhwKGx0KSxkdD1cIlxcXFxkezN9LT9cXFxcZHsyfS0/XFxcXGR7NH1cIixodD1uZXcgUmVnRXhwKFwiXihcIi5jb25jYXQoZHQsXCIpJFwiKSksX3Q9bmV3IFJlZ0V4cChcIihcIi5jb25jYXQoZHQsXCIpXCIpKTtmdW5jdGlvbiBwdChlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2lmKE8oZSkpcmV0dXJuITE7aWYoVChlKSl7aWYoZT15KGUpLCh0P3V0OmN0KS50ZXN0KChlfHxcIlwiKS5yZXBsYWNlKC9bLSBdL2csXCJcIikpKXJldHVybiExO2lmKCh0P2h0Ol90KS50ZXN0KGUpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHZ0KGUpe3ZhciB0PXR0KGUpO3JldHVybiBwdCh0PVwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChndChlKSkudHJpbSgpKT90OlwiXCJ9ZnVuY3Rpb24gZ3QoZSl7dmFyIHQ9XCJcIjtyZXR1cm4gZSYmZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoJiZZKGUuY2hpbGROb2RlcywoZnVuY3Rpb24oZSl7dmFyIGk7aWYoZSYmXCJzcGFuXCI9PT0obnVsbD09PShpPWUudGFnTmFtZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudG9Mb3dlckNhc2UoKSkpdHJ5e3ZhciByPXR0KGUpO3Q9XCJcIi5jb25jYXQodCxcIiBcIikuY29uY2F0KHIpLnRyaW0oKSxlLmNoaWxkTm9kZXMmJmUuY2hpbGROb2Rlcy5sZW5ndGgmJih0PVwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChndChlKSkudHJpbSgpKX1jYXRjaChlKXtOLmVycm9yKFwiW0F1dG9DYXB0dXJlXVwiLGUpfX0pKSx0fWZ1bmN0aW9uIGZ0KGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm1hcCgoZT0+e3ZhciB0LGkscj1cIlwiO2lmKGUudGFnX25hbWUmJihyKz1lLnRhZ19uYW1lKSxlLmF0dHJfY2xhc3MpZm9yKHZhciBuIG9mKGUuYXR0cl9jbGFzcy5zb3J0KCksZS5hdHRyX2NsYXNzKSlyKz1cIi5cIi5jb25jYXQobi5yZXBsYWNlKC9cIi9nLFwiXCIpKTt2YXIgcz16KHooeih6KHt9LGUudGV4dD97dGV4dDplLnRleHR9Ont9KSx7fSx7XCJudGgtY2hpbGRcIjpudWxsIT09KHQ9ZS5udGhfY2hpbGQpJiZ2b2lkIDAhPT10P3Q6MCxcIm50aC1vZi10eXBlXCI6bnVsbCE9PShpPWUubnRoX29mX3R5cGUpJiZ2b2lkIDAhPT1pP2k6MH0sZS5ocmVmP3tocmVmOmUuaHJlZn06e30pLGUuYXR0cl9pZD97YXR0cl9pZDplLmF0dHJfaWR9Ont9KSxlLmF0dHJpYnV0ZXMpLG89e307cmV0dXJuIFEocykuc29ydCgoKGUsdCk9Pnt2YXJbaV09ZSxbcl09dDtyZXR1cm4gaS5sb2NhbGVDb21wYXJlKHIpfSkpLmZvckVhY2goKGU9Pnt2YXJbdCxpXT1lO3JldHVybiBvW210KHQudG9TdHJpbmcoKSldPW10KGkudG9TdHJpbmcoKSl9KSkscis9XCI6XCIscis9UShzKS5tYXAoKGU9Pnt2YXJbdCxpXT1lO3JldHVyblwiXCIuY29uY2F0KHQsJz1cIicpLmNvbmNhdChpLCdcIicpfSkpLmpvaW4oXCJcIil9KSk7cmV0dXJuIHQuam9pbihcIjtcIil9KGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0LGkscj17dGV4dDpudWxsPT09KHQ9ZS4kZWxfdGV4dCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2xpY2UoMCw0MDApLHRhZ19uYW1lOmUudGFnX25hbWUsaHJlZjpudWxsPT09KGk9ZS5hdHRyX19ocmVmKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zbGljZSgwLDIwNDgpLGF0dHJfY2xhc3M6eXQoZSksYXR0cl9pZDplLmF0dHJfX2lkLG50aF9jaGlsZDplLm50aF9jaGlsZCxudGhfb2ZfdHlwZTplLm50aF9vZl90eXBlLGF0dHJpYnV0ZXM6e319O3JldHVybiBRKGUpLmZpbHRlcigoZT0+e3Zhclt0XT1lO3JldHVybiAwPT09dC5pbmRleE9mKFwiYXR0cl9fXCIpfSkpLmZvckVhY2goKGU9Pnt2YXJbdCxpXT1lO3JldHVybiByLmF0dHJpYnV0ZXNbdF09aX0pKSxyfSkpfShlKSl9ZnVuY3Rpb24gbXQoZSl7cmV0dXJuIGUucmVwbGFjZSgvXCJ8XFxcXFwiL2csJ1xcXFxcIicpfWZ1bmN0aW9uIHl0KGUpe3ZhciB0PWUuYXR0cl9fY2xhc3M7cmV0dXJuIHQ/eCh0KT90OlhlKHQpOnZvaWQgMH1jbGFzcyBidHtjb25zdHJ1Y3Rvcigpe3RoaXMuY2xpY2tzPVtdfWlzUmFnZUNsaWNrKGUsdCxpKXt2YXIgcj10aGlzLmNsaWNrc1t0aGlzLmNsaWNrcy5sZW5ndGgtMV07aWYociYmTWF0aC5hYnMoZS1yLngpK01hdGguYWJzKHQtci55KTwzMCYmaS1yLnRpbWVzdGFtcDwxZTMpe2lmKHRoaXMuY2xpY2tzLnB1c2goe3g6ZSx5OnQsdGltZXN0YW1wOml9KSwzPT09dGhpcy5jbGlja3MubGVuZ3RoKXJldHVybiEwfWVsc2UgdGhpcy5jbGlja3M9W3t4OmUseTp0LHRpbWVzdGFtcDppfV07cmV0dXJuITF9fXZhciB3dD1bXCJsb2NhbGhvc3RcIixcIjEyNy4wLjAuMVwiXSxTdD1lPT57dmFyIHQ9bnVsbD09YT92b2lkIDA6YS5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gRih0KT9udWxsOih0LmhyZWY9ZSx0KX0sa3Q9ZnVuY3Rpb24oZSl7dmFyIHQsaSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIiZcIixuPVtdO3JldHVybiBZKGUsKGZ1bmN0aW9uKGUscil7RihlKXx8RihyKXx8XCJ1bmRlZmluZWRcIj09PXJ8fCh0PWVuY29kZVVSSUNvbXBvbmVudCgoZT0+ZSBpbnN0YW5jZW9mIEZpbGUpKGUpP2UubmFtZTplLnRvU3RyaW5nKCkpLGk9ZW5jb2RlVVJJQ29tcG9uZW50KHIpLG5bbi5sZW5ndGhdPWkrXCI9XCIrdCl9KSksbi5qb2luKHIpfSxFdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxyPSgoZS5zcGxpdChcIiNcIilbMF18fFwiXCIpLnNwbGl0KC9cXD8oLiopLylbMV18fFwiXCIpLnJlcGxhY2UoL15cXD8rL2csXCJcIikuc3BsaXQoXCImXCIpLG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIHM9cltuXS5zcGxpdChcIj1cIik7aWYoc1swXT09PXQpe2k9czticmVha319aWYoIXgoaSl8fGkubGVuZ3RoPDIpcmV0dXJuXCJcIjt2YXIgbz1pWzFdO3RyeXtvPWRlY29kZVVSSUNvbXBvbmVudChvKX1jYXRjaChlKXtOLmVycm9yKFwiU2tpcHBpbmcgZGVjb2RpbmcgZm9yIG1hbGZvcm1lZCBxdWVyeSBwYXJhbTogXCIrbyl9cmV0dXJuIG8ucmVwbGFjZSgvXFwrL2csXCIgXCIpfSx4dD1mdW5jdGlvbihlLHQsaSl7aWYoIWV8fCF0fHwhdC5sZW5ndGgpcmV0dXJuIGU7Zm9yKHZhciByPWUuc3BsaXQoXCIjXCIpLG49clswXXx8XCJcIixzPXJbMV0sbz1uLnNwbGl0KFwiP1wiKSxhPW9bMV0sbD1vWzBdLHU9KGF8fFwiXCIpLnNwbGl0KFwiJlwiKSxjPVtdLGQ9MDtkPHUubGVuZ3RoO2QrKyl7dmFyIGg9dVtkXS5zcGxpdChcIj1cIik7eChoKSYmKHQuaW5jbHVkZXMoaFswXSk/Yy5wdXNoKGhbMF0rXCI9XCIraSk6Yy5wdXNoKHVbZF0pKX12YXIgXz1sO3JldHVybiBudWxsIT1hJiYoXys9XCI/XCIrYy5qb2luKFwiJlwiKSksbnVsbCE9cyYmKF8rPVwiI1wiK3MpLF99LEl0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5tYXRjaChuZXcgUmVnRXhwKHQrXCI9KFteJl0qKVwiKSk7cmV0dXJuIGk/aVsxXTpudWxsfSxQdD1CKFwiW0F1dG9DYXB0dXJlXVwiKTtmdW5jdGlvbiBDdChlLHQpe3JldHVybiB0Lmxlbmd0aD5lP3Quc2xpY2UoMCxlKStcIi4uLlwiOnR9ZnVuY3Rpb24gRnQoZSl7aWYoZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKXJldHVybiBlLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7dmFyIHQ9ZTtkb3t0PXQucHJldmlvdXNTaWJsaW5nfXdoaWxlKHQmJiFHZSh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24gVHQoZSx0LGkscil7dmFyIG49ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkscz17dGFnX25hbWU6bn07cnQuaW5kZXhPZihuKT4tMSYmIWkmJihcImFcIj09PW4udG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PW4udG9Mb3dlckNhc2UoKT9zLiRlbF90ZXh0PUN0KDEwMjQsdnQoZSkpOnMuJGVsX3RleHQ9Q3QoMTAyNCx0dChlKSkpO3ZhciBvPVplKGUpO28ubGVuZ3RoPjAmJihzLmNsYXNzZXM9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiXCIhPT1lfSkpKSxZKGUuYXR0cmlidXRlcywoZnVuY3Rpb24oaSl7dmFyIG47aWYoKCFhdChlKXx8LTEhPT1bXCJuYW1lXCIsXCJpZFwiLFwiY2xhc3NcIixcImFyaWEtbGFiZWxcIl0uaW5kZXhPZihpLm5hbWUpKSYmKChudWxsPT1yfHwhci5pbmNsdWRlcyhpLm5hbWUpKSYmIXQmJnB0KGkudmFsdWUpJiYobj1pLm5hbWUsIVQobil8fFwiX25nY29udGVudFwiIT09bi5zdWJzdHJpbmcoMCwxMCkmJlwiX25naG9zdFwiIT09bi5zdWJzdHJpbmcoMCw3KSkpKXt2YXIgbz1pLnZhbHVlO1wiY2xhc3NcIj09PWkubmFtZSYmKG89WGUobykuam9pbihcIiBcIikpLHNbXCJhdHRyX19cIitpLm5hbWVdPUN0KDEwMjQsbyl9fSkpO2Zvcih2YXIgYT0xLGw9MSx1PWU7dT1GdCh1KTspYSsrLHUudGFnTmFtZT09PWUudGFnTmFtZSYmbCsrO3JldHVybiBzLm50aF9jaGlsZD1hLHMubnRoX29mX3R5cGU9bCxzfWZ1bmN0aW9uIFJ0KGUsaSl7Zm9yKHZhciByLG4se2U6cyxtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6byxtYXNrQWxsVGV4dDphLGVsZW1lbnRBdHRyaWJ1dGVJZ25vcmVMaXN0OmwsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnV9PWksYz1bZV0sZD1lO2QucGFyZW50Tm9kZSYmIUplKGQsXCJib2R5XCIpOylLZShkLnBhcmVudE5vZGUpPyhjLnB1c2goZC5wYXJlbnROb2RlLmhvc3QpLGQ9ZC5wYXJlbnROb2RlLmhvc3QpOihjLnB1c2goZC5wYXJlbnROb2RlKSxkPWQucGFyZW50Tm9kZSk7dmFyIGgsXz1bXSxwPXt9LHY9ITEsZz0hMTtpZihZKGMsKGU9Pnt2YXIgdD1vdChlKTtcImFcIj09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodj1lLmdldEF0dHJpYnV0ZShcImhyZWZcIiksdj10JiZ2JiZwdCh2KSYmdiksbShaZShlKSxcInBoLW5vLWNhcHR1cmVcIikmJihnPSEwKSxfLnB1c2goVHQoZSxvLGEsbCkpO3ZhciBpPWZ1bmN0aW9uKGUpe2lmKCFvdChlKSlyZXR1cm57fTt2YXIgdD17fTtyZXR1cm4gWShlLmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKGUpe2lmKGUubmFtZSYmMD09PWUubmFtZS5pbmRleE9mKFwiZGF0YS1waC1jYXB0dXJlLWF0dHJpYnV0ZVwiKSl7dmFyIGk9ZS5uYW1lLnJlcGxhY2UoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlLVwiLFwiXCIpLHI9ZS52YWx1ZTtpJiZyJiZwdChyKSYmKHRbaV09cil9fSkpLHR9KGUpO0socCxpKX0pKSxnKXJldHVybntwcm9wczp7fSxleHBsaWNpdE5vQ2FwdHVyZTpnfTtpZihhfHwoXCJhXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpP19bMF0uJGVsX3RleHQ9dnQoZSk6X1swXS4kZWxfdGV4dD10dChlKSksdil7dmFyIGYseTtfWzBdLmF0dHJfX2hyZWY9djt2YXIgYj1udWxsPT09KGY9U3QodikpfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLmhvc3Qsdz1udWxsPT10fHxudWxsPT09KHk9dC5sb2NhdGlvbil8fHZvaWQgMD09PXk/dm9pZCAwOnkuaG9zdDtiJiZ3JiZiIT09dyYmKGg9dil9cmV0dXJue3Byb3BzOksoeyRldmVudF90eXBlOnMudHlwZSwkY2VfdmVyc2lvbjoxfSx1P3t9OnskZWxlbWVudHM6X30seyRlbGVtZW50c19jaGFpbjpmdChfKX0sbnVsbCE9PShyPV9bMF0pJiZ2b2lkIDAhPT1yJiZyLiRlbF90ZXh0P3skZWxfdGV4dDpudWxsPT09KG49X1swXSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uJGVsX3RleHR9Ont9LGgmJlwiY2xpY2tcIj09PXMudHlwZT97JGV4dGVybmFsX2NsaWNrX3VybDpofTp7fSxwKX19Y2xhc3MgJHR7Y29uc3RydWN0b3IoZSl7Vyh0aGlzLFwiX2luaXRpYWxpemVkXCIsITEpLFcodGhpcyxcIl9pc0Rpc2FibGVkU2VydmVyU2lkZVwiLG51bGwpLFcodGhpcyxcInJhZ2VjbGlja3NcIixuZXcgYnQpLFcodGhpcyxcIl9lbGVtZW50c0NoYWluQXNTdHJpbmdcIiwhMSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX2VsZW1lbnRTZWxlY3RvcnM9bnVsbH1nZXQgY29uZmlnKCl7dmFyIGUsdCxpPVAodGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmUpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlOnt9O3JldHVybiBpLnVybF9hbGxvd2xpc3Q9bnVsbD09PShlPWkudXJsX2FsbG93bGlzdCl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWFwKChlPT5uZXcgUmVnRXhwKGUpKSksaS51cmxfaWdub3JlbGlzdD1udWxsPT09KHQ9aS51cmxfaWdub3JlbGlzdCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubWFwKChlPT5uZXcgUmVnRXhwKGUpKSksaX1fYWRkRG9tRXZlbnRIYW5kbGVycygpe2lmKHRoaXMuaXNCcm93c2VyU3VwcG9ydGVkKCkpe2lmKHQmJmEpe3ZhciBlPWU9PntlPWV8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KTt0cnl7dGhpcy5fY2FwdHVyZUV2ZW50KGUpfWNhdGNoKGUpe1B0LmVycm9yKFwiRmFpbGVkIHRvIGNhcHR1cmUgZXZlbnRcIixlKX19O2lmKG9lKGEsXCJzdWJtaXRcIixlLHtjYXB0dXJlOiEwfSksb2UoYSxcImNoYW5nZVwiLGUse2NhcHR1cmU6ITB9KSxvZShhLFwiY2xpY2tcIixlLHtjYXB0dXJlOiEwfSksdGhpcy5jb25maWcuY2FwdHVyZV9jb3BpZWRfdGV4dCl7dmFyIGk9ZT0+e2U9ZXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpLHRoaXMuX2NhcHR1cmVFdmVudChlLHYpfTtvZShhLFwiY29weVwiLGkse2NhcHR1cmU6ITB9KSxvZShhLFwiY3V0XCIsaSx7Y2FwdHVyZTohMH0pfX19ZWxzZSBQdC5pbmZvKFwiRGlzYWJsaW5nIEF1dG9tYXRpYyBFdmVudCBDb2xsZWN0aW9uIGJlY2F1c2UgdGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWRcIil9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuX2luaXRpYWxpemVkJiYodGhpcy5fYWRkRG9tRXZlbnRIYW5kbGVycygpLHRoaXMuX2luaXRpYWxpemVkPSEwKX1vblJlbW90ZUNvbmZpZyhlKXtlLmVsZW1lbnRzQ2hhaW5Bc1N0cmluZyYmKHRoaXMuX2VsZW1lbnRzQ2hhaW5Bc1N0cmluZz1lLmVsZW1lbnRzQ2hhaW5Bc1N0cmluZyksdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2NlXTohIWUuYXV0b2NhcHR1cmVfb3B0X291dH0pLHRoaXMuX2lzRGlzYWJsZWRTZXJ2ZXJTaWRlPSEhZS5hdXRvY2FwdHVyZV9vcHRfb3V0LHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1zZXRFbGVtZW50U2VsZWN0b3JzKGUpe3RoaXMuX2VsZW1lbnRTZWxlY3RvcnM9ZX1nZXRFbGVtZW50U2VsZWN0b3JzKGUpe3ZhciB0LGk9W107cmV0dXJuIG51bGw9PT0odD10aGlzLl9lbGVtZW50U2VsZWN0b3JzKXx8dm9pZCAwPT09dHx8dC5mb3JFYWNoKCh0PT57dmFyIHI9bnVsbD09YT92b2lkIDA6YS5xdWVyeVNlbGVjdG9yQWxsKHQpO251bGw9PXJ8fHIuZm9yRWFjaCgocj0+e2U9PT1yJiZpLnB1c2godCl9KSl9KSksaX1nZXQgaXNFbmFibGVkKCl7dmFyIGUsdCxpPW51bGw9PT0oZT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9wc1tjZV0scj10aGlzLl9pc0Rpc2FibGVkU2VydmVyU2lkZTtpZigkKHIpJiYhQShpKSYmIXRoaXMuaW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlKXJldHVybiExO3ZhciBuPW51bGwhPT0odD10aGlzLl9pc0Rpc2FibGVkU2VydmVyU2lkZSkmJnZvaWQgMCE9PXQ/dDohIWk7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZSYmIW59X2NhcHR1cmVFdmVudChlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCIkYXV0b2NhcHR1cmVcIjtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIHIsbj1pdChlKTtpZihZZShuKSYmKG49bi5wYXJlbnROb2RlfHxudWxsKSxcIiRhdXRvY2FwdHVyZVwiPT09aSYmXCJjbGlja1wiPT09ZS50eXBlJiZlIGluc3RhbmNlb2YgTW91c2VFdmVudCl0aGlzLmluc3RhbmNlLmNvbmZpZy5yYWdlY2xpY2smJm51bGwhPT0ocj10aGlzLnJhZ2VjbGlja3MpJiZ2b2lkIDAhPT1yJiZyLmlzUmFnZUNsaWNrKGUuY2xpZW50WCxlLmNsaWVudFksKG5ldyBEYXRlKS5nZXRUaW1lKCkpJiZ0aGlzLl9jYXB0dXJlRXZlbnQoZSxcIiRyYWdlY2xpY2tcIik7dmFyIHM9aT09PXY7aWYobiYmc3QobixlLHRoaXMuY29uZmlnLHMscz9bXCJjb3B5XCIsXCJjdXRcIl06dm9pZCAwKSl7dmFye3Byb3BzOm8sZXhwbGljaXROb0NhcHR1cmU6YX09UnQobix7ZTplLG1hc2tBbGxFbGVtZW50QXR0cmlidXRlczp0aGlzLmluc3RhbmNlLmNvbmZpZy5tYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXMsbWFza0FsbFRleHQ6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfdGV4dCxlbGVtZW50QXR0cmlidXRlSWdub3JlTGlzdDp0aGlzLmNvbmZpZy5lbGVtZW50X2F0dHJpYnV0ZV9pZ25vcmVsaXN0LGVsZW1lbnRzQ2hhaW5Bc1N0cmluZzp0aGlzLl9lbGVtZW50c0NoYWluQXNTdHJpbmd9KTtpZihhKXJldHVybiExO3ZhciBsPXRoaXMuZ2V0RWxlbWVudFNlbGVjdG9ycyhuKTtpZihsJiZsLmxlbmd0aD4wJiYoby4kZWxlbWVudF9zZWxlY3RvcnM9bCksaT09PXYpe3ZhciB1LGM9ZXQobnVsbD09dHx8bnVsbD09PSh1PXQuZ2V0U2VsZWN0aW9uKCkpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnRvU3RyaW5nKCkpLGQ9ZS50eXBlfHxcImNsaXBib2FyZFwiO2lmKCFjKXJldHVybiExO28uJHNlbGVjdGVkX2NvbnRlbnQ9YyxvLiRjb3B5X3R5cGU9ZH1yZXR1cm4gdGhpcy5pbnN0YW5jZS5jYXB0dXJlKGksbyksITB9fX1pc0Jyb3dzZXJTdXBwb3J0ZWQoKXtyZXR1cm4gSShudWxsPT1hP3ZvaWQgMDphLnF1ZXJ5U2VsZWN0b3JBbGwpfX1NYXRoLnRydW5jfHwoTWF0aC50cnVuYz1mdW5jdGlvbihlKXtyZXR1cm4gZTwwP01hdGguY2VpbChlKTpNYXRoLmZsb29yKGUpfSksTnVtYmVyLmlzSW50ZWdlcnx8KE51bWJlci5pc0ludGVnZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIE0oZSkmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX0pO3ZhciBPdD1cIjAxMjM0NTY3ODlhYmNkZWZcIjtjbGFzcyBNdHtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLmJ5dGVzPWUsMTYhPT1lLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IDEyOC1iaXQgbGVuZ3RoXCIpfXN0YXRpYyBmcm9tRmllbGRzVjcoZSx0LGkscil7aWYoIU51bWJlci5pc0ludGVnZXIoZSl8fCFOdW1iZXIuaXNJbnRlZ2VyKHQpfHwhTnVtYmVyLmlzSW50ZWdlcihpKXx8IU51bWJlci5pc0ludGVnZXIocil8fGU8MHx8dDwwfHxpPDB8fHI8MHx8ZT4weGZmZmZmZmZmZmZmZnx8dD40MDk1fHxpPjEwNzM3NDE4MjN8fHI+NDI5NDk2NzI5NSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImludmFsaWQgZmllbGQgdmFsdWVcIik7dmFyIG49bmV3IFVpbnQ4QXJyYXkoMTYpO3JldHVybiBuWzBdPWUvTWF0aC5wb3coMiw0MCksblsxXT1lL01hdGgucG93KDIsMzIpLG5bMl09ZS9NYXRoLnBvdygyLDI0KSxuWzNdPWUvTWF0aC5wb3coMiwxNiksbls0XT1lL01hdGgucG93KDIsOCksbls1XT1lLG5bNl09MTEyfHQ+Pj44LG5bN109dCxuWzhdPTEyOHxpPj4+MjQsbls5XT1pPj4+MTYsblsxMF09aT4+PjgsblsxMV09aSxuWzEyXT1yPj4+MjQsblsxM109cj4+PjE2LG5bMTRdPXI+Pj44LG5bMTVdPXIsbmV3IE10KG4pfXRvU3RyaW5nKCl7Zm9yKHZhciBlPVwiXCIsdD0wO3Q8dGhpcy5ieXRlcy5sZW5ndGg7dCsrKWU9ZStPdC5jaGFyQXQodGhpcy5ieXRlc1t0XT4+PjQpK090LmNoYXJBdCgxNSZ0aGlzLmJ5dGVzW3RdKSwzIT09dCYmNSE9PXQmJjchPT10JiY5IT09dHx8KGUrPVwiLVwiKTtpZigzNiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVVJRHY3IHdhcyBnZW5lcmF0ZWRcIik7cmV0dXJuIGV9Y2xvbmUoKXtyZXR1cm4gbmV3IE10KHRoaXMuYnl0ZXMuc2xpY2UoMCkpfWVxdWFscyhlKXtyZXR1cm4gMD09PXRoaXMuY29tcGFyZVRvKGUpfWNvbXBhcmVUbyhlKXtmb3IodmFyIHQ9MDt0PDE2O3QrKyl7dmFyIGk9dGhpcy5ieXRlc1t0XS1lLmJ5dGVzW3RdO2lmKDAhPT1pKXJldHVybiBNYXRoLnNpZ24oaSl9cmV0dXJuIDB9fWNsYXNzIEF0e2NvbnN0cnVjdG9yKCl7Vyh0aGlzLFwidGltZXN0YW1wXCIsMCksVyh0aGlzLFwiY291bnRlclwiLDApLFcodGhpcyxcInJhbmRvbVwiLG5ldyBxdCl9Z2VuZXJhdGUoKXt2YXIgZT10aGlzLmdlbmVyYXRlT3JBYm9ydCgpO2lmKEYoZSkpe3RoaXMudGltZXN0YW1wPTA7dmFyIHQ9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZihGKHQpKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBnZW5lcmF0ZSBVVUlEIGFmdGVyIHRpbWVzdGFtcCByZXNldFwiKTtyZXR1cm4gdH1yZXR1cm4gZX1nZW5lcmF0ZU9yQWJvcnQoKXt2YXIgZT1EYXRlLm5vdygpO2lmKGU+dGhpcy50aW1lc3RhbXApdGhpcy50aW1lc3RhbXA9ZSx0aGlzLnJlc2V0Q291bnRlcigpO2Vsc2V7aWYoIShlKzFlND50aGlzLnRpbWVzdGFtcCkpcmV0dXJuO3RoaXMuY291bnRlcisrLHRoaXMuY291bnRlcj40Mzk4MDQ2NTExMTAzJiYodGhpcy50aW1lc3RhbXArKyx0aGlzLnJlc2V0Q291bnRlcigpKX1yZXR1cm4gTXQuZnJvbUZpZWxkc1Y3KHRoaXMudGltZXN0YW1wLE1hdGgudHJ1bmModGhpcy5jb3VudGVyL01hdGgucG93KDIsMzApKSx0aGlzLmNvdW50ZXImTWF0aC5wb3coMiwzMCktMSx0aGlzLnJhbmRvbS5uZXh0VWludDMyKCkpfXJlc2V0Q291bnRlcigpe3RoaXMuY291bnRlcj0xMDI0KnRoaXMucmFuZG9tLm5leHRVaW50MzIoKSsoMTAyMyZ0aGlzLnJhbmRvbS5uZXh0VWludDMyKCkpfX12YXIgTHQsRHQ9ZT0+e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVVUlEVjdfREVOWV9XRUFLX1JORyYmVVVJRFY3X0RFTllfV0VBS19STkcpdGhyb3cgbmV3IEVycm9yKFwibm8gY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nIFJORyBhdmFpbGFibGVcIik7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT02NTUzNipNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpK01hdGgudHJ1bmMoNjU1MzYqTWF0aC5yYW5kb20oKSk7cmV0dXJuIGV9O3QmJiFGKHQuY3J5cHRvKSYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmKER0PWU9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZSkpO2NsYXNzIHF0e2NvbnN0cnVjdG9yKCl7Vyh0aGlzLFwiYnVmZmVyXCIsbmV3IFVpbnQzMkFycmF5KDgpKSxXKHRoaXMsXCJjdXJzb3JcIiwxLzApfW5leHRVaW50MzIoKXtyZXR1cm4gdGhpcy5jdXJzb3I+PXRoaXMuYnVmZmVyLmxlbmd0aCYmKER0KHRoaXMuYnVmZmVyKSx0aGlzLmN1cnNvcj0wKSx0aGlzLmJ1ZmZlclt0aGlzLmN1cnNvcisrXX19dmFyIE50PSgpPT5CdCgpLnRvU3RyaW5nKCksQnQ9KCk9PihMdHx8KEx0PW5ldyBBdCkpLmdlbmVyYXRlKCksSHQ9XCJUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiLGp0PVwiXCI7dmFyIFV0PS9bYS16MC05XVthLXowLTktXStcXC5bYS16XXsyLH0kL2k7ZnVuY3Rpb24genQoZSx0KXtpZih0KXt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06YTtpZihqdClyZXR1cm4ganQ7aWYoIXQpcmV0dXJuXCJcIjtpZihbXCJsb2NhbGhvc3RcIixcIjEyNy4wLjAuMVwiXS5pbmNsdWRlcyhlKSlyZXR1cm5cIlwiO2Zvcih2YXIgaT1lLnNwbGl0KFwiLlwiKSxyPU1hdGgubWluKGkubGVuZ3RoLDgpLG49XCJkbW5fY2hrX1wiK050KCkscz1uZXcgUmVnRXhwKFwiKF58OylcXFxccypcIituK1wiPTFcIik7IWp0JiZyLS07KXt2YXIgbz1pLnNsaWNlKHIpLmpvaW4oXCIuXCIpLGw9bitcIj0xO2RvbWFpbj0uXCIrbzt0LmNvb2tpZT1sLHMudGVzdCh0LmNvb2tpZSkmJih0LmNvb2tpZT1sK1wiO2V4cGlyZXM9XCIrSHQsanQ9byl9cmV0dXJuIGp0fShlKTtpZighaSl7dmFyIHI9KGU9Pnt2YXIgdD1lLm1hdGNoKFV0KTtyZXR1cm4gdD90WzBdOlwiXCJ9KShlKTtyIT09aSYmTi5pbmZvKFwiV2FybmluZzogY29va2llIHN1YmRvbWFpbiBkaXNjb3ZlcnkgbWlzbWF0Y2hcIixyLGkpLGk9cn1yZXR1cm4gaT9cIjsgZG9tYWluPS5cIitpOlwiXCJ9cmV0dXJuXCJcIn12YXIgV3QsVnQ9e2lzX3N1cHBvcnRlZDooKT0+ISFhLGVycm9yOmZ1bmN0aW9uKGUpe04uZXJyb3IoXCJjb29raWVTdG9yZSBlcnJvcjogXCIrZSl9LGdldDpmdW5jdGlvbihlKXtpZihhKXt0cnl7Zm9yKHZhciB0PWUrXCI9XCIsaT1hLmNvb2tpZS5zcGxpdChcIjtcIikuZmlsdGVyKChlPT5lLmxlbmd0aCkpLHI9MDtyPGkubGVuZ3RoO3IrKyl7Zm9yKHZhciBuPWlbcl07XCIgXCI9PW4uY2hhckF0KDApOyluPW4uc3Vic3RyaW5nKDEsbi5sZW5ndGgpO2lmKDA9PT1uLmluZGV4T2YodCkpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChuLnN1YnN0cmluZyh0Lmxlbmd0aCxuLmxlbmd0aCkpfX1jYXRjaChlKXt9cmV0dXJuIG51bGx9fSxwYXJzZTpmdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1KU09OLnBhcnNlKFZ0LmdldChlKSl8fHt9fWNhdGNoKGUpe31yZXR1cm4gdH0sc2V0OmZ1bmN0aW9uKGUsdCxpLHIsbil7aWYoYSl0cnl7dmFyIHM9XCJcIixvPVwiXCIsbD16dChhLmxvY2F0aW9uLmhvc3RuYW1lLHIpO2lmKGkpe3ZhciB1PW5ldyBEYXRlO3Uuc2V0VGltZSh1LmdldFRpbWUoKSsyNCppKjYwKjYwKjFlMykscz1cIjsgZXhwaXJlcz1cIit1LnRvVVRDU3RyaW5nKCl9biYmKG89XCI7IHNlY3VyZVwiKTt2YXIgYz1lK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh0KSkrcytcIjsgU2FtZVNpdGU9TGF4OyBwYXRoPS9cIitsK287cmV0dXJuIGMubGVuZ3RoPjM2ODYuNCYmTi53YXJuKFwiY29va2llU3RvcmUgd2FybmluZzogbGFyZ2UgY29va2llLCBsZW49XCIrYy5sZW5ndGgpLGEuY29va2llPWMsY31jYXRjaChlKXtyZXR1cm59fSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt0cnl7VnQuc2V0KGUsXCJcIiwtMSx0KX1jYXRjaChlKXtyZXR1cm59fX0sR3Q9bnVsbCxKdD17aXNfc3VwcG9ydGVkOmZ1bmN0aW9uKCl7aWYoISQoR3QpKXJldHVybiBHdDt2YXIgZT0hMDtpZihGKHQpKWU9ITE7ZWxzZSB0cnl7dmFyIGk9XCJfX21wbHNzdXBwb3J0X19cIjtKdC5zZXQoaSxcInh5elwiKSwnXCJ4eXpcIichPT1KdC5nZXQoaSkmJihlPSExKSxKdC5yZW1vdmUoaSl9Y2F0Y2godCl7ZT0hMX1yZXR1cm4gZXx8Ti5lcnJvcihcImxvY2FsU3RvcmFnZSB1bnN1cHBvcnRlZDsgZmFsbGluZyBiYWNrIHRvIGNvb2tpZSBzdG9yZVwiKSxHdD1lLGV9LGVycm9yOmZ1bmN0aW9uKGUpe04uZXJyb3IoXCJsb2NhbFN0b3JhZ2UgZXJyb3I6IFwiK2UpfSxnZXQ6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBudWxsPT10P3ZvaWQgMDp0LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpfWNhdGNoKGUpe0p0LmVycm9yKGUpfXJldHVybiBudWxsfSxwYXJzZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoSnQuZ2V0KGUpKXx8e319Y2F0Y2goZSl7fXJldHVybiBudWxsfSxzZXQ6ZnVuY3Rpb24oZSxpKXt0cnl7bnVsbD09dHx8dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLEpTT04uc3RyaW5naWZ5KGkpKX1jYXRjaChlKXtKdC5lcnJvcihlKX19LHJlbW92ZTpmdW5jdGlvbihlKXt0cnl7bnVsbD09dHx8dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX1jYXRjaChlKXtKdC5lcnJvcihlKX19fSxZdD1bXCJkaXN0aW5jdF9pZFwiLEVlLHhlLGplLEhlXSxLdD16KHooe30sSnQpLHt9LHtwYXJzZTpmdW5jdGlvbihlKXt0cnl7dmFyIHQ9e307dHJ5e3Q9VnQucGFyc2UoZSl8fHt9fWNhdGNoKGUpe312YXIgaT1LKHQsSlNPTi5wYXJzZShKdC5nZXQoZSl8fFwie31cIikpO3JldHVybiBKdC5zZXQoZSxpKSxpfWNhdGNoKGUpe31yZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGUsdCxpLHIsbixzKXt0cnl7SnQuc2V0KGUsdCx2b2lkIDAsdm9pZCAwLHMpO3ZhciBvPXt9O1l0LmZvckVhY2goKGU9Pnt0W2VdJiYob1tlXT10W2VdKX0pKSxPYmplY3Qua2V5cyhvKS5sZW5ndGgmJlZ0LnNldChlLG8saSxyLG4scyl9Y2F0Y2goZSl7SnQuZXJyb3IoZSl9fSxyZW1vdmU6ZnVuY3Rpb24oZSxpKXt0cnl7bnVsbD09dHx8dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKSxWdC5yZW1vdmUoZSxpKX1jYXRjaChlKXtKdC5lcnJvcihlKX19fSksWHQ9e30sUXQ9e2lzX3N1cHBvcnRlZDpmdW5jdGlvbigpe3JldHVybiEwfSxlcnJvcjpmdW5jdGlvbihlKXtOLmVycm9yKFwibWVtb3J5U3RvcmFnZSBlcnJvcjogXCIrZSl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gWHRbZV18fG51bGx9LHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBYdFtlXXx8bnVsbH0sc2V0OmZ1bmN0aW9uKGUsdCl7WHRbZV09dH0scmVtb3ZlOmZ1bmN0aW9uKGUpe2RlbGV0ZSBYdFtlXX19LFp0PW51bGwsZWk9e2lzX3N1cHBvcnRlZDpmdW5jdGlvbigpe2lmKCEkKFp0KSlyZXR1cm4gWnQ7aWYoWnQ9ITAsRih0KSladD0hMTtlbHNlIHRyeXt2YXIgZT1cIl9fc3VwcG9ydF9fXCI7ZWkuc2V0KGUsXCJ4eXpcIiksJ1wieHl6XCInIT09ZWkuZ2V0KGUpJiYoWnQ9ITEpLGVpLnJlbW92ZShlKX1jYXRjaChlKXtadD0hMX1yZXR1cm4gWnR9LGVycm9yOmZ1bmN0aW9uKGUpe04uZXJyb3IoXCJzZXNzaW9uU3RvcmFnZSBlcnJvcjogXCIsZSl9LGdldDpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShlKX1jYXRjaChlKXtlaS5lcnJvcihlKX1yZXR1cm4gbnVsbH0scGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGVpLmdldChlKSl8fG51bGx9Y2F0Y2goZSl7fXJldHVybiBudWxsfSxzZXQ6ZnVuY3Rpb24oZSxpKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGUsSlNPTi5zdHJpbmdpZnkoaSkpfWNhdGNoKGUpe2VpLmVycm9yKGUpfX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3RyeXtudWxsPT10fHx0LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oZSl9Y2F0Y2goZSl7ZWkuZXJyb3IoZSl9fX07IWZ1bmN0aW9uKGUpe2VbZS5QRU5ESU5HPS0xXT1cIlBFTkRJTkdcIixlW2UuREVOSUVEPTBdPVwiREVOSUVEXCIsZVtlLkdSQU5URUQ9MV09XCJHUkFOVEVEXCJ9KFd0fHwoV3Q9e30pKTtjbGFzcyB0aXtjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9Z2V0IGNvbmZpZygpe3JldHVybiB0aGlzLmluc3RhbmNlLmNvbmZpZ31nZXQgY29uc2VudCgpe3JldHVybiB0aGlzLmdldERudCgpP1d0LkRFTklFRDp0aGlzLnN0b3JlZENvbnNlbnR9aXNPcHRlZE91dCgpe3JldHVybiB0aGlzLmNvbnNlbnQ9PT1XdC5ERU5JRUR8fHRoaXMuY29uc2VudD09PVd0LlBFTkRJTkcmJnRoaXMuY29uZmlnLm9wdF9vdXRfY2FwdHVyaW5nX2J5X2RlZmF1bHR9aXNPcHRlZEluKCl7cmV0dXJuIXRoaXMuaXNPcHRlZE91dCgpfW9wdEluT3V0KGUpe3RoaXMuc3RvcmFnZS5zZXQodGhpcy5zdG9yYWdlS2V5LGU/MTowLHRoaXMuY29uZmlnLmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuY29uZmlnLmNyb3NzX3N1YmRvbWFpbl9jb29raWUsdGhpcy5jb25maWcuc2VjdXJlX2Nvb2tpZSl9cmVzZXQoKXt0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMuc3RvcmFnZUtleSx0aGlzLmNvbmZpZy5jcm9zc19zdWJkb21haW5fY29va2llKX1nZXQgc3RvcmFnZUtleSgpe3Zhcnt0b2tlbjplLG9wdF9vdXRfY2FwdHVyaW5nX2Nvb2tpZV9wcmVmaXg6dH09dGhpcy5pbnN0YW5jZS5jb25maWc7cmV0dXJuKHR8fFwiX19waF9vcHRfaW5fb3V0X1wiKStlfWdldCBzdG9yZWRDb25zZW50KCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JhZ2VLZXkpO3JldHVyblwiMVwiPT09ZT9XdC5HUkFOVEVEOlwiMFwiPT09ZT9XdC5ERU5JRUQ6V3QuUEVORElOR31nZXQgc3RvcmFnZSgpe2lmKCF0aGlzLl9zdG9yYWdlKXt2YXIgZT10aGlzLmNvbmZpZy5vcHRfb3V0X2NhcHR1cmluZ19wZXJzaXN0ZW5jZV90eXBlO3RoaXMuX3N0b3JhZ2U9XCJsb2NhbFN0b3JhZ2VcIj09PWU/SnQ6VnQ7dmFyIHQ9XCJsb2NhbFN0b3JhZ2VcIj09PWU/VnQ6SnQ7dC5nZXQodGhpcy5zdG9yYWdlS2V5KSYmKHRoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMuc3RvcmFnZUtleSl8fHRoaXMub3B0SW5PdXQoXCIxXCI9PT10LmdldCh0aGlzLnN0b3JhZ2VLZXkpKSx0LnJlbW92ZSh0aGlzLnN0b3JhZ2VLZXksdGhpcy5jb25maWcuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSkpfXJldHVybiB0aGlzLl9zdG9yYWdlfWdldERudCgpe3JldHVybiEhdGhpcy5jb25maWcucmVzcGVjdF9kbnQmJiEhc2UoW251bGw9PW8/dm9pZCAwOm8uZG9Ob3RUcmFjayxudWxsPT1vP3ZvaWQgMDpvLm1zRG9Ob3RUcmFjayxfLmRvTm90VHJhY2tdLChlPT5tKFshMCwxLFwiMVwiLFwieWVzXCJdLGUpKSl9fXZhciBpaT1CKFwiW0RlYWQgQ2xpY2tzXVwiKSxyaT0oKT0+ITAsbmk9ZT0+e3ZhciB0LGk9IShudWxsPT09KHQ9ZS5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fCF0LmdldF9wcm9wZXJ0eShwZSkpLHI9ZS5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9kZWFkX2NsaWNrcztyZXR1cm4gQShyKT9yOml9O2NsYXNzIHNpe2dldCBsYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlKCl7cmV0dXJuIHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmV9Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmlzRW5hYmxlZD10LHRoaXMub25DYXB0dXJlPWksdGhpcy5zdGFydElmRW5hYmxlZCgpfW9uUmVtb3RlQ29uZmlnKGUpe3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1twZV06bnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlRGVhZENsaWNrc30pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkKHRoaXMpJiZ0aGlzLmxvYWRTY3JpcHQoKCgpPT57dGhpcy5zdGFydCgpfSkpfWxvYWRTY3JpcHQoZSl7dmFyIHQsaSxyO251bGwhPT0odD1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnZvaWQgMCE9PXQmJnQuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSYmZSgpLG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1yfHxyLmNhbGwoaSx0aGlzLmluc3RhbmNlLFwiZGVhZC1jbGlja3MtYXV0b2NhcHR1cmVcIiwodD0+e3Q/aWkuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTplKCl9KSl9c3RhcnQoKXt2YXIgZTtpZihhKXtpZighdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSYmbnVsbCE9PShlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09ZSYmZS5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKXt2YXIgdD1QKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3MpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M6e307dC5fX29uQ2FwdHVyZT10aGlzLm9uQ2FwdHVyZSx0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUodGhpcy5pbnN0YW5jZSx0KSx0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlLnN0YXJ0KGEpLGlpLmluZm8oXCJzdGFydGluZy4uLlwiKX19ZWxzZSBpaS5lcnJvcihcImBkb2N1bWVudGAgbm90IGZvdW5kLiBDYW5ub3Qgc3RhcnQuXCIpfXN0b3AoKXt0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlJiYodGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZS5zdG9wKCksdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZT12b2lkIDAsaWkuaW5mbyhcInN0b3BwaW5nLi4uXCIpKX19dmFyIG9pPUIoXCJbRXhjZXB0aW9uQXV0b2NhcHR1cmVdXCIpO2NsYXNzIGFpe2NvbnN0cnVjdG9yKGUpe3ZhciBpO1codGhpcyxcInN0YXJ0Q2FwdHVyaW5nXCIsKCgpPT57dmFyIGU7aWYodCYmdGhpcy5pc0VuYWJsZWQmJm51bGwhPT0oZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnZvaWQgMCE9PWUmJmUuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyl7dmFyIGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18uZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucy53cmFwT25FcnJvcixyPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcFVuaGFuZGxlZFJlamVjdGlvbixuPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcENvbnNvbGVFcnJvcjt0cnl7IXRoaXMudW53cmFwT25FcnJvciYmdGhpcy5jb25maWcuY2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzJiYodGhpcy51bndyYXBPbkVycm9yPWkodGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpKSwhdGhpcy51bndyYXBVbmhhbmRsZWRSZWplY3Rpb24mJnRoaXMuY29uZmlnLmNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnMmJih0aGlzLnVud3JhcFVuaGFuZGxlZFJlamVjdGlvbj1yKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSksIXRoaXMudW53cmFwQ29uc29sZUVycm9yJiZ0aGlzLmNvbmZpZy5jYXB0dXJlX2NvbnNvbGVfZXJyb3JzJiYodGhpcy51bndyYXBDb25zb2xlRXJyb3I9bih0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSkpfWNhdGNoKGUpe29pLmVycm9yKFwiZmFpbGVkIHRvIHN0YXJ0XCIsZSksdGhpcy5zdG9wQ2FwdHVyaW5nKCl9fX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5yZW1vdGVFbmFibGVkPSEobnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHwhaS5wcm9wc1toZV0pLHRoaXMuY29uZmlnPXRoaXMucmVxdWlyZWRDb25maWcoKSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9cmVxdWlyZWRDb25maWcoKXt2YXIgZT10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2V4Y2VwdGlvbnMsdD17Y2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzOiExLGNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnM6ITEsY2FwdHVyZV9jb25zb2xlX2Vycm9yczohMX07cmV0dXJuIFAoZSk/dD16KHooe30sdCksZSk6KEYoZSk/dGhpcy5yZW1vdGVFbmFibGVkOmUpJiYodD16KHooe30sdCkse30se2NhcHR1cmVfdW5oYW5kbGVkX2Vycm9yczohMCxjYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zOiEwfSkpLHR9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB0aGlzLmNvbmZpZy5jYXB0dXJlX2NvbnNvbGVfZXJyb3JzfHx0aGlzLmNvbmZpZy5jYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnN8fHRoaXMuY29uZmlnLmNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnN9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmKG9pLmluZm8oXCJlbmFibGVkXCIpLHRoaXMubG9hZFNjcmlwdCh0aGlzLnN0YXJ0Q2FwdHVyaW5nKSl9bG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC5lcnJvcldyYXBwaW5nRnVuY3Rpb25zJiZlKCksbnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJleGNlcHRpb24tYXV0b2NhcHR1cmVcIiwodD0+e2lmKHQpcmV0dXJuIG9pLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk7ZSgpfSkpfXN0b3BDYXB0dXJpbmcoKXt2YXIgZSx0LGk7bnVsbD09PShlPXRoaXMudW53cmFwT25FcnJvcil8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKSx0aGlzLnVud3JhcE9uRXJyb3I9dm9pZCAwLG51bGw9PT0odD10aGlzLnVud3JhcFVuaGFuZGxlZFJlamVjdGlvbil8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzKSx0aGlzLnVud3JhcFVuaGFuZGxlZFJlamVjdGlvbj12b2lkIDAsbnVsbD09PShpPXRoaXMudW53cmFwQ29uc29sZUVycm9yKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMpLHRoaXMudW53cmFwQ29uc29sZUVycm9yPXZvaWQgMH1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD1lLmF1dG9jYXB0dXJlRXhjZXB0aW9uczt0aGlzLnJlbW90ZUVuYWJsZWQ9ISF0fHwhMSx0aGlzLmNvbmZpZz10aGlzLnJlcXVpcmVkQ29uZmlnKCksdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2hlXTp0aGlzLnJlbW90ZUVuYWJsZWR9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Y2FwdHVyZUV4Y2VwdGlvbihlKXt2YXIgdD10aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiKTtlLiRleGNlcHRpb25fcGVyc29uVVJMPVwiXCIuY29uY2F0KHQsXCIvcHJvamVjdC9cIikuY29uY2F0KHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuLFwiL3BlcnNvbi9cIikuY29uY2F0KHRoaXMuaW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCkpLHRoaXMuaW5zdGFuY2UuZXhjZXB0aW9ucy5zZW5kRXhjZXB0aW9uRXZlbnQoZSl9fWZ1bmN0aW9uIGxpKGUpe3JldHVybiFGKEV2ZW50KSYmdWkoZSxFdmVudCl9ZnVuY3Rpb24gdWkoZSx0KXt0cnl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBjaShlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk9PT1cIltvYmplY3QgXCIuY29uY2F0KHQsXCJdXCIpfWZ1bmN0aW9uIGRpKGUpe3JldHVybiBjaShlLFwiRE9NRXJyb3JcIil9dmFyIGhpPS9cXChlcnJvcjogKC4qKVxcKS8sX2k9NTAscGk9XCI/XCI7ZnVuY3Rpb24gdmkoZSx0LGkscil7dmFyIG49e3BsYXRmb3JtOlwid2ViOmphdmFzY3JpcHRcIixmaWxlbmFtZTplLGZ1bmN0aW9uOlwiPGFub255bW91cz5cIj09PXQ/cGk6dCxpbl9hcHA6ITB9O3JldHVybiBGKGkpfHwobi5saW5lbm89aSksRihyKXx8KG4uY29sbm89ciksbn12YXIgZ2k9L15cXHMqYXQgKFxcUys/KSg/OjooXFxkKykpKD86OihcXGQrKSlcXHMqJC9pLGZpPS9eXFxzKmF0ICg/OiguKz9cXCkoPzogXFxbLitcXF0pP3wuKj8pID9cXCgoPzphZGRyZXNzIGF0ICk/KT8oPzphc3luYyApPygoPzo8YW5vbnltb3VzPnxbLWEtel0rOnwuKmJ1bmRsZXxcXC8pPy4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxtaT0vXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS8seWk9L15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/KD86XnxAKT8oKD86Wy1hLXpdKyk/OlxcLy4qP3xcXFtuYXRpdmUgY29kZVxcXXxbXkBdKig/OmJ1bmRsZXxcXGQrXFwuanMpfFxcL1tcXHdcXC0uIC89XSspKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFxzKiQvaSxiaT0vKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaSx3aT1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3ZhciByPXQuc29ydCgoKGUsdCk9PmVbMF0tdFswXSkpLm1hcCgoZT0+ZVsxXSkpO3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsaT1bXSxuPWUuc3BsaXQoXCJcXG5cIikscz10O3M8bi5sZW5ndGg7cysrKXt2YXIgbz1uW3NdO2lmKCEoby5sZW5ndGg+MTAyNCkpe3ZhciBhPWhpLnRlc3Qobyk/by5yZXBsYWNlKGhpLFwiJDFcIik6bztpZighYS5tYXRjaCgvXFxTKkVycm9yOiAvKSl7Zm9yKHZhciBsIG9mIHIpe3ZhciB1PWwoYSk7aWYodSl7aS5wdXNoKHUpO2JyZWFrfX1pZihpLmxlbmd0aD49X2kpYnJlYWt9fX1yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKXJldHVybltdO3ZhciB0PUFycmF5LmZyb20oZSk7cmV0dXJuIHQucmV2ZXJzZSgpLHQuc2xpY2UoMCxfaSkubWFwKChlPT56KHooe30sZSkse30se2ZpbGVuYW1lOmUuZmlsZW5hbWV8fFNpKHQpLmZpbGVuYW1lLGZ1bmN0aW9uOmUuZnVuY3Rpb258fHBpfSkpKX0oaSl9fSguLi5bWzMwLGU9Pnt2YXIgdD1naS5leGVjKGUpO2lmKHQpe3ZhclssaSxyLG5dPXQ7cmV0dXJuIHZpKGkscGksK3IsK24pfXZhciBzPWZpLmV4ZWMoZSk7aWYocyl7aWYoc1syXSYmMD09PXNbMl0uaW5kZXhPZihcImV2YWxcIikpe3ZhciBvPW1pLmV4ZWMoc1syXSk7byYmKHNbMl09b1sxXSxzWzNdPW9bMl0sc1s0XT1vWzNdKX12YXJbYSxsXT1JaShzWzFdfHxwaSxzWzJdKTtyZXR1cm4gdmkobCxhLHNbM10/K3NbM106dm9pZCAwLHNbNF0/K3NbNF06dm9pZCAwKX19XSxbNTAsZT0+e3ZhciB0PXlpLmV4ZWMoZSk7aWYodCl7aWYodFszXSYmdFszXS5pbmRleE9mKFwiID4gZXZhbFwiKT4tMSl7dmFyIGk9YmkuZXhlYyh0WzNdKTtpJiYodFsxXT10WzFdfHxcImV2YWxcIix0WzNdPWlbMV0sdFs0XT1pWzJdLHRbNV09XCJcIil9dmFyIHI9dFszXSxuPXRbMV18fHBpO3JldHVybltuLHJdPUlpKG4sciksdmkocixuLHRbNF0/K3RbNF06dm9pZCAwLHRbNV0/K3RbNV06dm9pZCAwKX19XV0pO2Z1bmN0aW9uIFNpKGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfHx7fX12YXIga2ksRWkseGksSWk9KGUsdCk9Pnt2YXIgaT0tMSE9PWUuaW5kZXhPZihcInNhZmFyaS1leHRlbnNpb25cIikscj0tMSE9PWUuaW5kZXhPZihcInNhZmFyaS13ZWItZXh0ZW5zaW9uXCIpO3JldHVybiBpfHxyP1stMSE9PWUuaW5kZXhPZihcIkBcIik/ZS5zcGxpdChcIkBcIilbMF06cGksaT9cInNhZmFyaS1leHRlbnNpb246XCIuY29uY2F0KHQpOlwic2FmYXJpLXdlYi1leHRlbnNpb246XCIuY29uY2F0KHQpXTpbZSx0XX07dmFyIFBpPS9eKD86W1V1XW5jYXVnaHQgKD86ZXhjZXB0aW9uOiApPyk/KD86KCg/OkV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSXwpRXJyb3IpOiApPyguKikkL2k7ZnVuY3Rpb24gQ2koZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsaT1lLnN0YWNrdHJhY2V8fGUuc3RhY2t8fFwiXCIscj1mdW5jdGlvbihlKXtpZihlJiZGaS50ZXN0KGUubWVzc2FnZSkpcmV0dXJuIDE7cmV0dXJuIDB9KGUpO3RyeXt2YXIgbj13aSxzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9Z2xvYmFsVGhpcy5fcG9zdGhvZ0NodW5rSWRzO2lmKCF0KXJldHVybnt9O3ZhciBpPU9iamVjdC5rZXlzKHQpO3JldHVybiB4aSYmaS5sZW5ndGg9PT1FaXx8KEVpPWkubGVuZ3RoLHhpPWkucmVkdWNlKCgoaSxyKT0+e2tpfHwoa2k9e30pO3ZhciBuPWtpW3JdO2lmKG4paVtuWzBdXT1uWzFdO2Vsc2UgZm9yKHZhciBzPWUociksbz1zLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT1zW29dLGw9bnVsbD09YT92b2lkIDA6YS5maWxlbmFtZSx1PXRbcl07aWYobCYmdSl7aVtsXT11LGtpW3JdPVtsLHVdO2JyZWFrfX1yZXR1cm4gaX0pLHt9KSkseGl9KHQpO3JldHVybiBlLmZvckVhY2goKGU9PntlLmZpbGVuYW1lJiYoZS5jaHVua19pZD1pW2UuZmlsZW5hbWVdKX0pKSxlfShuKGksciksbik7cmV0dXJuIHMuc2xpY2UoMCxzLmxlbmd0aC10KX1jYXRjaChlKXt9cmV0dXJuW119dmFyIEZpPS9NaW5pZmllZCBSZWFjdCBlcnJvciAjXFxkKzsvaTtmdW5jdGlvbiBUaShlLHQpe3ZhciBpLHIsbj1DaShlKSxzPW51bGw9PT0oaT1udWxsPT10P3ZvaWQgMDp0LmhhbmRsZWQpfHx2b2lkIDA9PT1pfHxpLG89bnVsbCE9PShyPW51bGw9PXQ/dm9pZCAwOnQuc3ludGhldGljKSYmdm9pZCAwIT09ciYmcjtyZXR1cm57JGV4Y2VwdGlvbl9saXN0Olt7dHlwZTpudWxsIT10JiZ0Lm92ZXJyaWRlRXhjZXB0aW9uVHlwZT90Lm92ZXJyaWRlRXhjZXB0aW9uVHlwZTplLm5hbWUsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZXNzYWdlO2lmKHQuZXJyb3ImJlwic3RyaW5nXCI9PXR5cGVvZiB0LmVycm9yLm1lc3NhZ2UpcmV0dXJuIFN0cmluZyh0LmVycm9yLm1lc3NhZ2UpO3JldHVybiBTdHJpbmcodCl9KGUpLHN0YWNrdHJhY2U6e2ZyYW1lczpuLHR5cGU6XCJyYXdcIn0sbWVjaGFuaXNtOntoYW5kbGVkOnMsc3ludGhldGljOm99fV0sJGV4Y2VwdGlvbl9sZXZlbDpcImVycm9yXCJ9fWZ1bmN0aW9uIFJpKGUsdCl7dmFyIGkscixuLHM9bnVsbD09PShpPW51bGw9PXQ/dm9pZCAwOnQuaGFuZGxlZCl8fHZvaWQgMD09PWl8fGksbz1udWxsPT09KHI9bnVsbD09dD92b2lkIDA6dC5zeW50aGV0aWMpfHx2b2lkIDA9PT1yfHxyLGE9e3R5cGU6bnVsbCE9dCYmdC5vdmVycmlkZUV4Y2VwdGlvblR5cGU/dC5vdmVycmlkZUV4Y2VwdGlvblR5cGU6bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQuZGVmYXVsdEV4Y2VwdGlvblR5cGUpJiZ2b2lkIDAhPT1uP246XCJFcnJvclwiLHZhbHVlOmV8fChudWxsPT10P3ZvaWQgMDp0LmRlZmF1bHRFeGNlcHRpb25NZXNzYWdlKSxtZWNoYW5pc206e2hhbmRsZWQ6cyxzeW50aGV0aWM6b319O2lmKG51bGwhPXQmJnQuc3ludGhldGljRXhjZXB0aW9uKXt2YXIgbD1DaSh0LnN5bnRoZXRpY0V4Y2VwdGlvbiwxKTtsLmxlbmd0aCYmKGEuc3RhY2t0cmFjZT17ZnJhbWVzOmwsdHlwZTpcInJhd1wifSl9cmV0dXJueyRleGNlcHRpb25fbGlzdDpbYV0sJGV4Y2VwdGlvbl9sZXZlbDpcImVycm9yXCJ9fWZ1bmN0aW9uICRpKGUpe3JldHVybiBUKGUpJiYhUihlKSYmZi5pbmRleE9mKGUpPj0wfWZ1bmN0aW9uIE9pKGUsdCl7dmFyIGkscixuPW51bGw9PT0oaT1udWxsPT10P3ZvaWQgMDp0LmhhbmRsZWQpfHx2b2lkIDA9PT1pfHxpLHM9bnVsbD09PShyPW51bGw9PXQ/dm9pZCAwOnQuc3ludGhldGljKXx8dm9pZCAwPT09cnx8cixvPW51bGwhPXQmJnQub3ZlcnJpZGVFeGNlcHRpb25UeXBlP3Qub3ZlcnJpZGVFeGNlcHRpb25UeXBlOmxpKGUpP2UuY29uc3RydWN0b3IubmFtZTpcIkVycm9yXCIsYT1cIk5vbi1FcnJvciAnZXhjZXB0aW9uJyBjYXB0dXJlZCB3aXRoIGtleXM6IFwiLmNvbmNhdChmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NDAsaT1PYmplY3Qua2V5cyhlKTtpZihpLnNvcnQoKSwhaS5sZW5ndGgpcmV0dXJuXCJbb2JqZWN0IGhhcyBubyBrZXlzXVwiO2Zvcih2YXIgcj1pLmxlbmd0aDtyPjA7ci0tKXt2YXIgbj1pLnNsaWNlKDAscikuam9pbihcIiwgXCIpO2lmKCEobi5sZW5ndGg+dCkpcmV0dXJuIHI9PT1pLmxlbmd0aHx8bi5sZW5ndGg8PXQ/bjpcIlwiLmNvbmNhdChuLnNsaWNlKDAsdCksXCIuLi5cIil9cmV0dXJuXCJcIn0oZSkpLGw9e3R5cGU6byx2YWx1ZTphLG1lY2hhbmlzbTp7aGFuZGxlZDpuLHN5bnRoZXRpYzpzfX07aWYobnVsbCE9dCYmdC5zeW50aGV0aWNFeGNlcHRpb24pe3ZhciB1PUNpKG51bGw9PXQ/dm9pZCAwOnQuc3ludGhldGljRXhjZXB0aW9uLDEpO3UubGVuZ3RoJiYobC5zdGFja3RyYWNlPXtmcmFtZXM6dSx0eXBlOlwicmF3XCJ9KX1yZXR1cm57JGV4Y2VwdGlvbl9saXN0OltsXSwkZXhjZXB0aW9uX2xldmVsOiRpKGUubGV2ZWwpP2UubGV2ZWw6XCJlcnJvclwifX1mdW5jdGlvbiBNaShlLHQpe3ZhcntlcnJvcjppLGV2ZW50OnJ9PWUsbj17JGV4Y2VwdGlvbl9saXN0OltdfSxzPWl8fHI7aWYoZGkocyl8fGZ1bmN0aW9uKGUpe3JldHVybiBjaShlLFwiRE9NRXhjZXB0aW9uXCIpfShzKSl7dmFyIG89cztpZihmdW5jdGlvbihlKXtyZXR1cm5cInN0YWNrXCJpbiBlfShzKSluPVRpKHMsdCk7ZWxzZXt2YXIgYT1vLm5hbWV8fChkaShvKT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIiksbD1vLm1lc3NhZ2U/XCJcIi5jb25jYXQoYSxcIjogXCIpLmNvbmNhdChvLm1lc3NhZ2UpOmEsdT1kaShvKT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIjtuPVJpKGwseih6KHt9LHQpLHt9LHtvdmVycmlkZUV4Y2VwdGlvblR5cGU6dSxkZWZhdWx0RXhjZXB0aW9uTWVzc2FnZTpsfSkpfXJldHVyblwiY29kZVwiaW4gbyYmKG4uJGV4Y2VwdGlvbl9ET01FeGNlcHRpb25fY29kZT1cIlwiLmNvbmNhdChvLmNvZGUpKSxufWlmKGZ1bmN0aW9uKGUpe3JldHVybiBjaShlLFwiRXJyb3JFdmVudFwiKX0ocykmJnMuZXJyb3IpcmV0dXJuIFRpKHMuZXJyb3IsdCk7aWYoZnVuY3Rpb24oZSl7c3dpdGNoKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7Y2FzZVwiW29iamVjdCBFcnJvcl1cIjpjYXNlXCJbb2JqZWN0IEV4Y2VwdGlvbl1cIjpjYXNlXCJbb2JqZWN0IERPTUV4Y2VwdGlvbl1cIjpjYXNlXCJbb2JqZWN0IERPTUVycm9yXVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuIHVpKGUsRXJyb3IpfX0ocykpcmV0dXJuIFRpKHMsdCk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGNpKGUsXCJPYmplY3RcIil9KHMpfHxsaShzKSlyZXR1cm4gT2kocyx0KTtpZihGKGkpJiZUKHIpKXt2YXIgYz1cIkVycm9yXCIsZD1yLGg9ci5tYXRjaChQaSk7cmV0dXJuIGgmJihjPWhbMV0sZD1oWzJdKSxSaShkLHooeih7fSx0KSx7fSx7b3ZlcnJpZGVFeGNlcHRpb25UeXBlOmMsZGVmYXVsdEV4Y2VwdGlvbk1lc3NhZ2U6ZH0pKX1yZXR1cm4gUmkocyx0KX1mdW5jdGlvbiBBaShlKXt2YXIgdCxpO3JldHVybihudWxsPT09KHQ9SlNPTi5zdHJpbmdpZnkoZSwoaT1bXSxmdW5jdGlvbihlLHQpe2lmKFAodCkpe2Zvcig7aS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSE9PXRoaXM7KWkucG9wKCk7cmV0dXJuIGkuaW5jbHVkZXModCk/XCJbQ2lyY3VsYXJdXCI6KGkucHVzaCh0KSx0KX1yZXR1cm4gdH0pKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGVuZ3RoKXx8MH1mdW5jdGlvbiBMaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NjYwNjAyOC44O2lmKGUuc2l6ZT49dCYmZS5kYXRhLmxlbmd0aD4xKXt2YXIgaT1NYXRoLmZsb29yKGUuZGF0YS5sZW5ndGgvMikscj1lLmRhdGEuc2xpY2UoMCxpKSxuPWUuZGF0YS5zbGljZShpKTtyZXR1cm5bTGkoe3NpemU6QWkociksZGF0YTpyLHNlc3Npb25JZDplLnNlc3Npb25JZCx3aW5kb3dJZDplLndpbmRvd0lkfSksTGkoe3NpemU6QWkobiksZGF0YTpuLHNlc3Npb25JZDplLnNlc3Npb25JZCx3aW5kb3dJZDplLndpbmRvd0lkfSldLmZsYXRNYXAoKGU9PmUpKX1yZXR1cm5bZV19dmFyIERpPShlPT4oZVtlLkRvbUNvbnRlbnRMb2FkZWQ9MF09XCJEb21Db250ZW50TG9hZGVkXCIsZVtlLkxvYWQ9MV09XCJMb2FkXCIsZVtlLkZ1bGxTbmFwc2hvdD0yXT1cIkZ1bGxTbmFwc2hvdFwiLGVbZS5JbmNyZW1lbnRhbFNuYXBzaG90PTNdPVwiSW5jcmVtZW50YWxTbmFwc2hvdFwiLGVbZS5NZXRhPTRdPVwiTWV0YVwiLGVbZS5DdXN0b209NV09XCJDdXN0b21cIixlW2UuUGx1Z2luPTZdPVwiUGx1Z2luXCIsZSkpKERpfHx7fSkscWk9KGU9PihlW2UuTXV0YXRpb249MF09XCJNdXRhdGlvblwiLGVbZS5Nb3VzZU1vdmU9MV09XCJNb3VzZU1vdmVcIixlW2UuTW91c2VJbnRlcmFjdGlvbj0yXT1cIk1vdXNlSW50ZXJhY3Rpb25cIixlW2UuU2Nyb2xsPTNdPVwiU2Nyb2xsXCIsZVtlLlZpZXdwb3J0UmVzaXplPTRdPVwiVmlld3BvcnRSZXNpemVcIixlW2UuSW5wdXQ9NV09XCJJbnB1dFwiLGVbZS5Ub3VjaE1vdmU9Nl09XCJUb3VjaE1vdmVcIixlW2UuTWVkaWFJbnRlcmFjdGlvbj03XT1cIk1lZGlhSW50ZXJhY3Rpb25cIixlW2UuU3R5bGVTaGVldFJ1bGU9OF09XCJTdHlsZVNoZWV0UnVsZVwiLGVbZS5DYW52YXNNdXRhdGlvbj05XT1cIkNhbnZhc011dGF0aW9uXCIsZVtlLkZvbnQ9MTBdPVwiRm9udFwiLGVbZS5Mb2c9MTFdPVwiTG9nXCIsZVtlLkRyYWc9MTJdPVwiRHJhZ1wiLGVbZS5TdHlsZURlY2xhcmF0aW9uPTEzXT1cIlN0eWxlRGVjbGFyYXRpb25cIixlW2UuU2VsZWN0aW9uPTE0XT1cIlNlbGVjdGlvblwiLGVbZS5BZG9wdGVkU3R5bGVTaGVldD0xNV09XCJBZG9wdGVkU3R5bGVTaGVldFwiLGVbZS5DdXN0b21FbGVtZW50PTE2XT1cIkN1c3RvbUVsZW1lbnRcIixlKSkocWl8fHt9KSxOaT1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLEJpPVwicmVkYWN0ZWRcIixIaT17aW5pdGlhdG9yVHlwZXM6W1wiYXVkaW9cIixcImJlYWNvblwiLFwiYm9keVwiLFwiY3NzXCIsXCJlYXJseS1oaW50XCIsXCJlbWJlZFwiLFwiZmV0Y2hcIixcImZyYW1lXCIsXCJpZnJhbWVcIixcImljb25cIixcImltYWdlXCIsXCJpbWdcIixcImlucHV0XCIsXCJsaW5rXCIsXCJuYXZpZ2F0aW9uXCIsXCJvYmplY3RcIixcInBpbmdcIixcInNjcmlwdFwiLFwidHJhY2tcIixcInZpZGVvXCIsXCJ4bWxodHRwcmVxdWVzdFwiXSxtYXNrUmVxdWVzdEZuOmU9PmUscmVjb3JkSGVhZGVyczohMSxyZWNvcmRCb2R5OiExLHJlY29yZEluaXRpYWxSZXF1ZXN0czohMSxyZWNvcmRQZXJmb3JtYW5jZTohMSxwZXJmb3JtYW5jZUVudHJ5VHlwZVRvT2JzZXJ2ZTpbXCJmaXJzdC1pbnB1dFwiLFwibmF2aWdhdGlvblwiLFwicGFpbnRcIixcInJlc291cmNlXCJdLHBheWxvYWRTaXplTGltaXRCeXRlczoxZTYscGF5bG9hZEhvc3REZW55TGlzdDpbXCIubHItaW5nZXN0LmlvXCIsXCIuaW5nZXN0LnNlbnRyeS5pb1wiLFwiLmNsYXJpdHkubXNcIixcImFuYWx5dGljcy5nb29nbGUuY29tXCJdfSxqaT1bXCJhdXRob3JpemF0aW9uXCIsXCJ4LWZvcndhcmRlZC1mb3JcIixcImF1dGhvcml6YXRpb25cIixcImNvb2tpZVwiLFwic2V0LWNvb2tpZVwiLFwieC1hcGkta2V5XCIsXCJ4LXJlYWwtaXBcIixcInJlbW90ZS1hZGRyXCIsXCJmb3J3YXJkZWRcIixcInByb3h5LWF1dGhvcml6YXRpb25cIixcIngtY3NyZi10b2tlblwiLFwieC1jc3JmdG9rZW5cIixcIngteHNyZi10b2tlblwiXSxVaT1bXCJwYXNzd29yZFwiLFwic2VjcmV0XCIsXCJwYXNzd2RcIixcImFwaV9rZXlcIixcImFwaWtleVwiLFwiYXV0aFwiLFwiY3JlZGVudGlhbHNcIixcIm15c3FsX3B3ZFwiLFwicHJpdmF0ZWtleVwiLFwicHJpdmF0ZV9rZXlcIixcInRva2VuXCJdLHppPVtcIi9zL1wiLFwiL2UvXCIsXCIvaS9cIl07ZnVuY3Rpb24gV2koZSx0LGkscil7aWYoTyhlKSlyZXR1cm4gZTt2YXIgbj0obnVsbD09dD92b2lkIDA6dFtcImNvbnRlbnQtbGVuZ3RoXCJdKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBCbG9iKFtlXSkuc2l6ZX0oZSk7cmV0dXJuIFQobikmJihuPXBhcnNlSW50KG4pKSxuPmk/TmkrXCIgXCIuY29uY2F0KHIsXCIgYm9keSB0b28gbGFyZ2UgdG8gcmVjb3JkIChcIikuY29uY2F0KG4sXCIgYnl0ZXMpXCIpOmV9ZnVuY3Rpb24gVmkoZSx0KXtpZihPKGUpKXJldHVybiBlO3ZhciBpPWU7cmV0dXJuIHB0KGksITEpfHwoaT1OaStcIiBcIit0K1wiIGJvZHkgXCIrQmkpLFkoVWksKGU9Pnt2YXIgcixuO251bGwhPT0ocj1pKSYmdm9pZCAwIT09ciYmci5sZW5ndGgmJi0xIT09KG51bGw9PT0obj1pKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pbmRleE9mKGUpKSYmKGk9TmkrXCIgXCIrdCtcIiBib2R5IFwiK0JpK1wiIGFzIG1pZ2h0IGNvbnRhaW46IFwiK2UpfSkpLGl9dmFyIEdpPShlLHQpPT57dmFyIGkscixuLHM9e3BheWxvYWRTaXplTGltaXRCeXRlczpIaS5wYXlsb2FkU2l6ZUxpbWl0Qnl0ZXMscGVyZm9ybWFuY2VFbnRyeVR5cGVUb09ic2VydmU6Wy4uLkhpLnBlcmZvcm1hbmNlRW50cnlUeXBlVG9PYnNlcnZlXSxwYXlsb2FkSG9zdERlbnlMaXN0OlsuLi50LnBheWxvYWRIb3N0RGVueUxpc3R8fFtdLC4uLkhpLnBheWxvYWRIb3N0RGVueUxpc3RdfSxvPSExIT09ZS5zZXNzaW9uX3JlY29yZGluZy5yZWNvcmRIZWFkZXJzJiZ0LnJlY29yZEhlYWRlcnMsYT0hMSE9PWUuc2Vzc2lvbl9yZWNvcmRpbmcucmVjb3JkQm9keSYmdC5yZWNvcmRCb2R5LGw9ITEhPT1lLmNhcHR1cmVfcGVyZm9ybWFuY2UmJnQucmVjb3JkUGVyZm9ybWFuY2UsdT0oaT1zLG49TWF0aC5taW4oMWU2LG51bGwhPT0ocj1pLnBheWxvYWRTaXplTGltaXRCeXRlcykmJnZvaWQgMCE9PXI/cjoxZTYpLGU9PihudWxsIT1lJiZlLnJlcXVlc3RCb2R5JiYoZS5yZXF1ZXN0Qm9keT1XaShlLnJlcXVlc3RCb2R5LGUucmVxdWVzdEhlYWRlcnMsbixcIlJlcXVlc3RcIikpLG51bGwhPWUmJmUucmVzcG9uc2VCb2R5JiYoZS5yZXNwb25zZUJvZHk9V2koZS5yZXNwb25zZUJvZHksZS5yZXNwb25zZUhlYWRlcnMsbixcIlJlc3BvbnNlXCIpKSxlKSksYz10PT57cmV0dXJuIHUoKChlLHQpPT57dmFyIGkscj1TdChlLm5hbWUpLG49MD09PXQuaW5kZXhPZihcImh0dHBcIik/bnVsbD09PShpPVN0KHQpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXRobmFtZTp0O1wiL1wiPT09biYmKG49XCJcIik7dmFyIHM9bnVsbD09cj92b2lkIDA6ci5wYXRobmFtZS5yZXBsYWNlKG58fFwiXCIsXCJcIik7aWYoIShyJiZzJiZ6aS5zb21lKChlPT4wPT09cy5pbmRleE9mKGUpKSkpKXJldHVybiBlfSkoKHI9KGk9dCkucmVxdWVzdEhlYWRlcnMsTyhyKXx8WShPYmplY3Qua2V5cyhudWxsIT1yP3I6e30pLChlPT57amkuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSYmKHJbZV09QmkpfSkpLGkpLGUuYXBpX2hvc3QpKTt2YXIgaSxyfSxkPUkoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrTmV0d29ya1JlcXVlc3RGbik7cmV0dXJuIGQmJkkoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKSYmTi53YXJuKFwiQm90aCBgbWFza05ldHdvcmtSZXF1ZXN0Rm5gIGFuZCBgbWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbmAgYXJlIGRlZmluZWQuIGBtYXNrTmV0d29ya1JlcXVlc3RGbmAgd2lsbCBiZSBpZ25vcmVkLlwiKSxkJiYoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuPXQ9Pnt2YXIgaT1lLnNlc3Npb25fcmVjb3JkaW5nLm1hc2tOZXR3b3JrUmVxdWVzdEZuKHt1cmw6dC5uYW1lfSk7cmV0dXJuIHooeih7fSx0KSx7fSx7bmFtZTpudWxsPT1pP3ZvaWQgMDppLnVybH0pfSkscy5tYXNrUmVxdWVzdEZuPUkoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKT90PT57dmFyIGkscixuLHM9Yyh0KTtyZXR1cm4gcyYmbnVsbCE9PShpPW51bGw9PT0ocj0obj1lLnNlc3Npb25fcmVjb3JkaW5nKS5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKXx8dm9pZCAwPT09cj92b2lkIDA6ci5jYWxsKG4scykpJiZ2b2lkIDAhPT1pP2k6dm9pZCAwfTplPT5mdW5jdGlvbihlKXtpZighRihlKSlyZXR1cm4gZS5yZXF1ZXN0Qm9keT1WaShlLnJlcXVlc3RCb2R5LFwiUmVxdWVzdFwiKSxlLnJlc3BvbnNlQm9keT1WaShlLnJlc3BvbnNlQm9keSxcIlJlc3BvbnNlXCIpLGV9KGMoZSkpLHooeih6KHt9LEhpKSxzKSx7fSx7cmVjb3JkSGVhZGVyczpvLHJlY29yZEJvZHk6YSxyZWNvcmRQZXJmb3JtYW5jZTpsLHJlY29yZEluaXRpYWxSZXF1ZXN0czpsfSl9O2Z1bmN0aW9uIEppKGUsdCxpLHIsbil7cmV0dXJuIHQ+aSYmKE4ud2FybihcIm1pbiBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIG1heC5cIiksdD1pKSxNKGUpP2U+aT8ociYmTi53YXJuKHIrXCIgY2Fubm90IGJlICBncmVhdGVyIHRoYW4gbWF4OiBcIitpK1wiLiBVc2luZyBtYXggdmFsdWUgaW5zdGVhZC5cIiksaSk6ZTx0PyhyJiZOLndhcm4ocitcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbjogXCIrdCtcIi4gVXNpbmcgbWluIHZhbHVlIGluc3RlYWQuXCIpLHQpOmU6KHImJk4ud2FybihyK1wiIG11c3QgYmUgYSBudW1iZXIuIHVzaW5nIG1heCBvciBmYWxsYmFjay4gbWF4OiBcIitpK1wiLCBmYWxsYmFjazogXCIrbiksSmkobnx8aSx0LGkscikpfWNsYXNzIFlpe2NvbnN0cnVjdG9yKGUpe3ZhciB0LGkscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307Vyh0aGlzLFwiYnVja2V0U2l6ZVwiLDEwMCksVyh0aGlzLFwicmVmaWxsUmF0ZVwiLDEwKSxXKHRoaXMsXCJtdXRhdGlvbkJ1Y2tldHNcIix7fSksVyh0aGlzLFwibG9nZ2VkVHJhY2tlclwiLHt9KSxXKHRoaXMsXCJyZWZpbGxCdWNrZXRzXCIsKCgpPT57T2JqZWN0LmtleXModGhpcy5tdXRhdGlvbkJ1Y2tldHMpLmZvckVhY2goKGU9Pnt0aGlzLm11dGF0aW9uQnVja2V0c1tlXT10aGlzLm11dGF0aW9uQnVja2V0c1tlXSt0aGlzLnJlZmlsbFJhdGUsdGhpcy5tdXRhdGlvbkJ1Y2tldHNbZV0+PXRoaXMuYnVja2V0U2l6ZSYmZGVsZXRlIHRoaXMubXV0YXRpb25CdWNrZXRzW2VdfSkpfSkpLFcodGhpcyxcImdldE5vZGVPclJlbGV2YW50UGFyZW50XCIsKGU9Pnt2YXIgdD10aGlzLnJyd2ViLm1pcnJvci5nZXROb2RlKGUpO2lmKFwic3ZnXCIhPT0obnVsbD09dD92b2lkIDA6dC5ub2RlTmFtZSkmJnQgaW5zdGFuY2VvZiBFbGVtZW50KXt2YXIgaT10LmNsb3Nlc3QoXCJzdmdcIik7aWYoaSlyZXR1cm5bdGhpcy5ycndlYi5taXJyb3IuZ2V0SWQoaSksaV19cmV0dXJuW2UsdF19KSksVyh0aGlzLFwibnVtYmVyT2ZDaGFuZ2VzXCIsKGU9Pnt2YXIgdCxpLHIsbixzLG8sYSxsO3JldHVybihudWxsIT09KHQ9bnVsbD09PShpPWUucmVtb3Zlcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkubGVuZ3RoKSYmdm9pZCAwIT09dD90OjApKyhudWxsIT09KHI9bnVsbD09PShuPWUuYXR0cmlidXRlcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubGVuZ3RoKSYmdm9pZCAwIT09cj9yOjApKyhudWxsIT09KHM9bnVsbD09PShvPWUudGV4dHMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCkmJnZvaWQgMCE9PXM/czowKSsobnVsbCE9PShhPW51bGw9PT0obD1lLmFkZHMpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmxlbmd0aCkmJnZvaWQgMCE9PWE/YTowKX0pKSxXKHRoaXMsXCJ0aHJvdHRsZU11dGF0aW9uc1wiLChlPT57aWYoMyE9PWUudHlwZXx8MCE9PWUuZGF0YS5zb3VyY2UpcmV0dXJuIGU7dmFyIHQ9ZS5kYXRhLGk9dGhpcy5udW1iZXJPZkNoYW5nZXModCk7dC5hdHRyaWJ1dGVzJiYodC5hdHRyaWJ1dGVzPXQuYXR0cmlidXRlcy5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIsW24sc109dGhpcy5nZXROb2RlT3JSZWxldmFudFBhcmVudChlLmlkKTtpZigwPT09dGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl0pcmV0dXJuITE7KHRoaXMubXV0YXRpb25CdWNrZXRzW25dPW51bGwhPT0odD10aGlzLm11dGF0aW9uQnVja2V0c1tuXSkmJnZvaWQgMCE9PXQ/dDp0aGlzLmJ1Y2tldFNpemUsdGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl09TWF0aC5tYXgodGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl0tMSwwKSwwPT09dGhpcy5tdXRhdGlvbkJ1Y2tldHNbbl0pJiYodGhpcy5sb2dnZWRUcmFja2VyW25dfHwodGhpcy5sb2dnZWRUcmFja2VyW25dPSEwLG51bGw9PT0oaT0ocj10aGlzLm9wdGlvbnMpLm9uQmxvY2tlZE5vZGUpfHx2b2lkIDA9PT1pfHxpLmNhbGwocixuLHMpKSk7cmV0dXJuIGV9KSkpO3ZhciByPXRoaXMubnVtYmVyT2ZDaGFuZ2VzKHQpO3JldHVybiAwIT09cnx8aT09PXI/ZTp2b2lkIDB9KSksdGhpcy5ycndlYj1lLHRoaXMub3B0aW9ucz1yLHRoaXMucmVmaWxsUmF0ZT1KaShudWxsIT09KHQ9dGhpcy5vcHRpb25zLnJlZmlsbFJhdGUpJiZ2b2lkIDAhPT10P3Q6dGhpcy5yZWZpbGxSYXRlLDAsMTAwLFwibXV0YXRpb24gdGhyb3R0bGluZyByZWZpbGwgcmF0ZVwiKSx0aGlzLmJ1Y2tldFNpemU9SmkobnVsbCE9PShpPXRoaXMub3B0aW9ucy5idWNrZXRTaXplKSYmdm9pZCAwIT09aT9pOnRoaXMuYnVja2V0U2l6ZSwwLDEwMCxcIm11dGF0aW9uIHRocm90dGxpbmcgYnVja2V0IHNpemVcIiksc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5yZWZpbGxCdWNrZXRzKCl9KSwxZTMpfX12YXIgS2k9VWludDhBcnJheSxYaT1VaW50MTZBcnJheSxRaT1VaW50MzJBcnJheSxaaT1uZXcgS2koWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLGVyPW5ldyBLaShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSx0cj1uZXcgS2koWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxpcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1uZXcgWGkoMzEpLHI9MDtyPDMxOysrcilpW3JdPXQrPTE8PGVbci0xXTt2YXIgbj1uZXcgUWkoaVszMF0pO2ZvcihyPTE7cjwzMDsrK3IpZm9yKHZhciBzPWlbcl07czxpW3IrMV07KytzKW5bc109cy1pW3JdPDw1fHI7cmV0dXJuW2ksbl19LHJyPWlyKFppLDIpLG5yPXJyWzBdLHNyPXJyWzFdO25yWzI4XT0yNTgsc3JbMjU4XT0yODtmb3IodmFyIG9yPWlyKGVyLDApWzFdLGFyPW5ldyBYaSgzMjc2OCksbHI9MDtscjwzMjc2ODsrK2xyKXt2YXIgdXI9KDQzNjkwJmxyKT4+PjF8KDIxODQ1JmxyKTw8MTt1cj0oNjE2ODAmKHVyPSg1MjQyOCZ1cik+Pj4yfCgxMzEwNyZ1cik8PDIpKT4+PjR8KDM4NTUmdXIpPDw0LGFyW2xyXT0oKDY1MjgwJnVyKT4+Pjh8KDI1NSZ1cik8PDgpPj4+MX12YXIgY3I9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxuPTAscz1uZXcgWGkodCk7bjxyOysrbikrK3NbZVtuXS0xXTt2YXIgbyxhPW5ldyBYaSh0KTtmb3Iobj0wO248dDsrK24pYVtuXT1hW24tMV0rc1tuLTFdPDwxO2lmKGkpe289bmV3IFhpKDE8PHQpO3ZhciBsPTE1LXQ7Zm9yKG49MDtuPHI7KytuKWlmKGVbbl0pZm9yKHZhciB1PW48PDR8ZVtuXSxjPXQtZVtuXSxkPWFbZVtuXS0xXSsrPDxjLGg9ZHwoMTw8YyktMTtkPD1oOysrZClvW2FyW2RdPj4+bF09dX1lbHNlIGZvcihvPW5ldyBYaShyKSxuPTA7bjxyOysrbilvW25dPWFyW2FbZVtuXS0xXSsrXT4+PjE1LWVbbl07cmV0dXJuIG99LGRyPW5ldyBLaSgyODgpO2Zvcihscj0wO2xyPDE0NDsrK2xyKWRyW2xyXT04O2Zvcihscj0xNDQ7bHI8MjU2OysrbHIpZHJbbHJdPTk7Zm9yKGxyPTI1NjtscjwyODA7Kytscilkcltscl09Nztmb3IobHI9MjgwO2xyPDI4ODsrK2xyKWRyW2xyXT04O3ZhciBocj1uZXcgS2koMzIpO2Zvcihscj0wO2xyPDMyOysrbHIpaHJbbHJdPTU7dmFyIF9yPWNyKGRyLDksMCkscHI9Y3IoaHIsNSwwKSx2cj1mdW5jdGlvbihlKXtyZXR1cm4oZS84Pj4wKSsoNyZlJiYxKX0sZ3I9ZnVuY3Rpb24oZSx0LGkpeyhudWxsPT1pfHxpPmUubGVuZ3RoKSYmKGk9ZS5sZW5ndGgpO3ZhciByPW5ldyhlIGluc3RhbmNlb2YgWGk/WGk6ZSBpbnN0YW5jZW9mIFFpP1FpOktpKShpLXQpO3JldHVybiByLnNldChlLnN1YmFycmF5KHQsaSkpLHJ9LGZyPWZ1bmN0aW9uKGUsdCxpKXtpPDw9NyZ0O3ZhciByPXQvOD4+MDtlW3JdfD1pLGVbcisxXXw9aT4+Pjh9LG1yPWZ1bmN0aW9uKGUsdCxpKXtpPDw9NyZ0O3ZhciByPXQvOD4+MDtlW3JdfD1pLGVbcisxXXw9aT4+PjgsZVtyKzJdfD1pPj4+MTZ9LHlyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLHI9MDtyPGUubGVuZ3RoOysrcillW3JdJiZpLnB1c2goe3M6cixmOmVbcl19KTt2YXIgbj1pLmxlbmd0aCxzPWkuc2xpY2UoKTtpZighbilyZXR1cm5bbmV3IEtpKDApLDBdO2lmKDE9PW4pe3ZhciBvPW5ldyBLaShpWzBdLnMrMSk7cmV0dXJuIG9baVswXS5zXT0xLFtvLDFdfWkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mLXQuZn0pKSxpLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciBhPWlbMF0sbD1pWzFdLHU9MCxjPTEsZD0yO2ZvcihpWzBdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTtjIT1uLTE7KWE9aVtpW3VdLmY8aVtkXS5mP3UrKzpkKytdLGw9aVt1IT1jJiZpW3VdLmY8aVtkXS5mP3UrKzpkKytdLGlbYysrXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07dmFyIGg9c1swXS5zO2ZvcihyPTE7cjxuOysrcilzW3JdLnM+aCYmKGg9c1tyXS5zKTt2YXIgXz1uZXcgWGkoaCsxKSxwPWJyKGlbYy0xXSxfLDApO2lmKHA+dCl7cj0wO3ZhciB2PTAsZz1wLXQsZj0xPDxnO2ZvcihzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9bdC5zXS1fW2Uuc118fGUuZi10LmZ9KSk7cjxuOysrcil7dmFyIG09c1tyXS5zO2lmKCEoX1ttXT50KSlicmVhazt2Kz1mLSgxPDxwLV9bbV0pLF9bbV09dH1mb3Iodj4+Pj1nO3Y+MDspe3ZhciB5PXNbcl0ucztfW3ldPHQ/di09MTw8dC1fW3ldKystMTorK3J9Zm9yKDtyPj0wJiZ2Oy0tcil7dmFyIGI9c1tyXS5zO19bYl09PXQmJigtLV9bYl0sKyt2KX1wPXR9cmV0dXJuW25ldyBLaShfKSxwXX0sYnI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybi0xPT1lLnM/TWF0aC5tYXgoYnIoZS5sLHQsaSsxKSxicihlLnIsdCxpKzEpKTp0W2Uuc109aX0sd3I9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QmJiFlWy0tdF07KTtmb3IodmFyIGk9bmV3IFhpKCsrdCkscj0wLG49ZVswXSxzPTEsbz1mdW5jdGlvbihlKXtpW3IrK109ZX0sYT0xO2E8PXQ7KythKWlmKGVbYV09PW4mJmEhPXQpKytzO2Vsc2V7aWYoIW4mJnM+Mil7Zm9yKDtzPjEzODtzLT0xMzgpbygzMjc1NCk7cz4yJiYobyhzPjEwP3MtMTE8PDV8Mjg2OTA6cy0zPDw1fDEyMzA1KSxzPTApfWVsc2UgaWYocz4zKXtmb3IobyhuKSwtLXM7cz42O3MtPTYpbyg4MzA0KTtzPjImJihvKHMtMzw8NXw4MjA4KSxzPTApfWZvcig7cy0tOylvKG4pO3M9MSxuPWVbYV19cmV0dXJuW2kuc3ViYXJyYXkoMCxyKSx0XX0sU3I9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MCxyPTA7cjx0Lmxlbmd0aDsrK3IpaSs9ZVtyXSp0W3JdO3JldHVybiBpfSxrcj1mdW5jdGlvbihlLHQsaSl7dmFyIHI9aS5sZW5ndGgsbj12cih0KzIpO2Vbbl09MjU1JnIsZVtuKzFdPXI+Pj44LGVbbisyXT0yNTVeZVtuXSxlW24rM109MjU1XmVbbisxXTtmb3IodmFyIHM9MDtzPHI7KytzKWVbbitzKzRdPWlbc107cmV0dXJuIDgqKG4rNCtyKX0sRXI9ZnVuY3Rpb24oZSx0LGkscixuLHMsbyxhLGwsdSxjKXtmcih0LGMrKyxpKSwrK25bMjU2XTtmb3IodmFyIGQ9eXIobiwxNSksaD1kWzBdLF89ZFsxXSxwPXlyKHMsMTUpLHY9cFswXSxnPXBbMV0sZj13cihoKSxtPWZbMF0seT1mWzFdLGI9d3Iodiksdz1iWzBdLFM9YlsxXSxrPW5ldyBYaSgxOSksRT0wO0U8bS5sZW5ndGg7KytFKWtbMzEmbVtFXV0rKztmb3IoRT0wO0U8dy5sZW5ndGg7KytFKWtbMzEmd1tFXV0rKztmb3IodmFyIHg9eXIoayw3KSxJPXhbMF0sUD14WzFdLEM9MTk7Qz40JiYhSVt0cltDLTFdXTstLUMpO3ZhciBGLFQsUiwkLE89dSs1PDwzLE09U3IobixkcikrU3IocyxocikrbyxBPVNyKG4saCkrU3Iocyx2KStvKzE0KzMqQytTcihrLEkpKygyKmtbMTZdKzMqa1sxN10rNyprWzE4XSk7aWYoTzw9TSYmTzw9QSlyZXR1cm4ga3IodCxjLGUuc3ViYXJyYXkobCxsK3UpKTtpZihmcih0LGMsMSsoQTxNKSksYys9MixBPE0pe0Y9Y3IoaCxfLDApLFQ9aCxSPWNyKHYsZywwKSwkPXY7dmFyIEw9Y3IoSSxQLDApO2ZyKHQsYyx5LTI1NyksZnIodCxjKzUsUy0xKSxmcih0LGMrMTAsQy00KSxjKz0xNDtmb3IoRT0wO0U8QzsrK0UpZnIodCxjKzMqRSxJW3RyW0VdXSk7Yys9MypDO2Zvcih2YXIgRD1bbSx3XSxxPTA7cTwyOysrcSl7dmFyIE49RFtxXTtmb3IoRT0wO0U8Ti5sZW5ndGg7KytFKXt2YXIgQj0zMSZOW0VdO2ZyKHQsYyxMW0JdKSxjKz1JW0JdLEI+MTUmJihmcih0LGMsTltFXT4+PjUmMTI3KSxjKz1OW0VdPj4+MTIpfX19ZWxzZSBGPV9yLFQ9ZHIsUj1wciwkPWhyO2ZvcihFPTA7RTxhOysrRSlpZihyW0VdPjI1NSl7Qj1yW0VdPj4+MTgmMzE7bXIodCxjLEZbQisyNTddKSxjKz1UW0IrMjU3XSxCPjcmJihmcih0LGMscltFXT4+PjIzJjMxKSxjKz1aaVtCXSk7dmFyIEg9MzEmcltFXTttcih0LGMsUltIXSksYys9JFtIXSxIPjMmJihtcih0LGMscltFXT4+PjUmODE5MSksYys9ZXJbSF0pfWVsc2UgbXIodCxjLEZbcltFXV0pLGMrPVRbcltFXV07cmV0dXJuIG1yKHQsYyxGWzI1Nl0pLGMrVFsyNTZdfSx4cj1uZXcgUWkoWzY1NTQwLDEzMTA4MCwxMzEwODgsMTMxMTA0LDI2MjE3NiwxMDQ4NzA0LDEwNDg4MzIsMjExNDU2MCwyMTE3NjMyXSksSXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IFFpKDI1NiksdD0wO3Q8MjU2OysrdCl7Zm9yKHZhciBpPXQscj05Oy0tcjspaT0oMSZpJiYzOTg4MjkyMzg0KV5pPj4+MTtlW3RdPWl9cmV0dXJuIGV9KCksUHI9ZnVuY3Rpb24oKXt2YXIgZT00Mjk0OTY3Mjk1O3JldHVybntwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1lLHI9MDtyPHQubGVuZ3RoOysrcilpPUlyWzI1NSZpXnRbcl1dXmk+Pj44O2U9aX0sZDpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk1XmV9fX0sQ3I9ZnVuY3Rpb24oZSx0LGkscixuKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGkscixuLHMpe3ZhciBvPWUubGVuZ3RoLGE9bmV3IEtpKHIrbys1KigxK01hdGguZmxvb3Ioby83ZTMpKStuKSxsPWEuc3ViYXJyYXkocixhLmxlbmd0aC1uKSx1PTA7aWYoIXR8fG88OClmb3IodmFyIGM9MDtjPD1vO2MrPTY1NTM1KXt2YXIgZD1jKzY1NTM1O2Q8bz91PWtyKGwsdSxlLnN1YmFycmF5KGMsZCkpOihsW2NdPXMsdT1rcihsLHUsZS5zdWJhcnJheShjLG8pKSl9ZWxzZXtmb3IodmFyIGg9eHJbdC0xXSxfPWg+Pj4xMyxwPTgxOTEmaCx2PSgxPDxpKS0xLGc9bmV3IFhpKDMyNzY4KSxmPW5ldyBYaSh2KzEpLG09TWF0aC5jZWlsKGkvMykseT0yKm0sYj1mdW5jdGlvbih0KXtyZXR1cm4oZVt0XV5lW3QrMV08PG1eZVt0KzJdPDx5KSZ2fSx3PW5ldyBRaSgyNWUzKSxTPW5ldyBYaSgyODgpLGs9bmV3IFhpKDMyKSxFPTAseD0wLEk9KGM9MCwwKSxQPTAsQz0wO2M8bzsrK2Mpe3ZhciBGPWIoYyksVD0zMjc2NyZjLFI9ZltGXTtpZihnW1RdPVIsZltGXT1ULFA8PWMpe3ZhciAkPW8tYztpZigoRT43ZTN8fEk+MjQ1NzYpJiYkPjQyMyl7dT1FcihlLGwsMCx3LFMsayx4LEksQyxjLUMsdSksST1FPXg9MCxDPWM7Zm9yKHZhciBPPTA7TzwyODY7KytPKVNbT109MDtmb3IoTz0wO088MzA7KytPKWtbT109MH12YXIgTT0yLEE9MCxMPXAsRD1ULVImMzI3Njc7aWYoJD4yJiZGPT1iKGMtRCkpZm9yKHZhciBxPU1hdGgubWluKF8sJCktMSxOPU1hdGgubWluKDMyNzY3LGMpLEI9TWF0aC5taW4oMjU4LCQpO0Q8PU4mJi0tTCYmVCE9Ujspe2lmKGVbYytNXT09ZVtjK00tRF0pe2Zvcih2YXIgSD0wO0g8QiYmZVtjK0hdPT1lW2MrSC1EXTsrK0gpO2lmKEg+TSl7aWYoTT1ILEE9RCxIPnEpYnJlYWs7dmFyIGo9TWF0aC5taW4oRCxILTIpLFU9MDtmb3IoTz0wO088ajsrK08pe3ZhciB6PWMtRCtPKzMyNzY4JjMyNzY3LFc9ei1nW3pdKzMyNzY4JjMyNzY3O1c+VSYmKFU9VyxSPXopfX19RCs9KFQ9UiktKFI9Z1tUXSkrMzI3NjgmMzI3Njd9aWYoQSl7d1tJKytdPTI2ODQzNTQ1NnxzcltNXTw8MTh8b3JbQV07dmFyIFY9MzEmc3JbTV0sRz0zMSZvcltBXTt4Kz1aaVtWXStlcltHXSwrK1NbMjU3K1ZdLCsra1tHXSxQPWMrTSwrK0V9ZWxzZSB3W0krK109ZVtjXSwrK1NbZVtjXV19fXU9RXIoZSxsLHMsdyxTLGsseCxJLEMsYy1DLHUpfXJldHVybiBncihhLDAscit2cih1KStuKX0oZSxudWxsPT10LmxldmVsPzY6dC5sZXZlbCxudWxsPT10Lm1lbT9NYXRoLmNlaWwoMS41Kk1hdGgubWF4KDgsTWF0aC5taW4oMTMsTWF0aC5sb2coZS5sZW5ndGgpKSkpOjEyK3QubWVtLGksciwhbil9LEZyPWZ1bmN0aW9uKGUsdCxpKXtmb3IoO2k7Kyt0KWVbdF09aSxpPj4+PTh9LFRyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dC5maWxlbmFtZTtpZihlWzBdPTMxLGVbMV09MTM5LGVbMl09OCxlWzhdPXQubGV2ZWw8Mj80Ojk9PXQubGV2ZWw/MjowLGVbOV09MywwIT10Lm10aW1lJiZGcihlLDQsTWF0aC5mbG9vcihuZXcgRGF0ZSh0Lm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxpKXtlWzNdPTg7Zm9yKHZhciByPTA7cjw9aS5sZW5ndGg7KytyKWVbcisxMF09aS5jaGFyQ29kZUF0KHIpfX0sUnI9ZnVuY3Rpb24oZSl7cmV0dXJuIDEwKyhlLmZpbGVuYW1lJiZlLmZpbGVuYW1lLmxlbmd0aCsxfHwwKX07ZnVuY3Rpb24gJHIoZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGk9UHIoKSxyPWUubGVuZ3RoO2kucChlKTt2YXIgbj1DcihlLHQsUnIodCksOCkscz1uLmxlbmd0aDtyZXR1cm4gVHIobix0KSxGcihuLHMtOCxpLmQoKSksRnIobixzLTQsciksbn1mdW5jdGlvbiBPcihlLHQpe3ZhciBpPWUubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RW5jb2RlcilyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7Zm9yKHZhciByPW5ldyBLaShlLmxlbmd0aCsoZS5sZW5ndGg+Pj4xKSksbj0wLHM9ZnVuY3Rpb24oZSl7cltuKytdPWV9LG89MDtvPGk7KytvKXtpZihuKzU+ci5sZW5ndGgpe3ZhciBhPW5ldyBLaShuKzgrKGktbzw8MSkpO2Euc2V0KHIpLHI9YX12YXIgbD1lLmNoYXJDb2RlQXQobyk7bDwxMjh8fHQ/cyhsKTpsPDIwNDg/KHMoMTkyfGw+Pj42KSxzKDEyOHw2MyZsKSk6bD41NTI5NSYmbDw1NzM0ND8ocygyNDB8KGw9NjU1MzYrKDEwNDc1NTImbCl8MTAyMyZlLmNoYXJDb2RlQXQoKytvKSk+Pj4xOCkscygxMjh8bD4+PjEyJjYzKSxzKDEyOHxsPj4+NiY2MykscygxMjh8NjMmbCkpOihzKDIyNHxsPj4+MTIpLHMoMTI4fGw+Pj42JjYzKSxzKDEyOHw2MyZsKSl9cmV0dXJuIGdyKHIsMCxuKX1mdW5jdGlvbiBNcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPTA7aTxlLmxlbmd0aDtpKyspdD0odDw8NSktdCtlLmNoYXJDb2RlQXQoaSksdHw9MDtyZXR1cm4gTWF0aC5hYnModCl9KGUpJTEwMDxKaSgxMDAqdCwwLDEwMCl9dmFyIEFyPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsTHI9QihBcik7ZnVuY3Rpb24gRHIoKXt2YXIgZSx0O3JldHVybiBudWxsPT1ffHxudWxsPT09KGU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5ycndlYil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVjb3JkfXZhciBxcj0zZTUsTnI9W3FpLk1vdXNlTW92ZSxxaS5Nb3VzZUludGVyYWN0aW9uLHFpLlNjcm9sbCxxaS5WaWV3cG9ydFJlc2l6ZSxxaS5JbnB1dCxxaS5Ub3VjaE1vdmUscWkuTWVkaWFJbnRlcmFjdGlvbixxaS5EcmFnXSxCcj1lPT4oe3Jyd2ViTWV0aG9kOmUsZW5xdWV1ZWRBdDpEYXRlLm5vdygpLGF0dGVtcHQ6MX0pO2Z1bmN0aW9uIEhyKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1cIlwiLHI9MDtyPGUubGVuZ3RoOyl7dmFyIG49ZVtyKytdO248MTI4fHx0P2krPVN0cmluZy5mcm9tQ2hhckNvZGUobik6bjwyMjQ/aSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmbik8PDZ8NjMmZVtyKytdKTpuPDI0MD9pKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZuKTw8MTJ8KDYzJmVbcisrXSk8PDZ8NjMmZVtyKytdKToobj0oKDE1Jm4pPDwxOHwoNjMmZVtyKytdKTw8MTJ8KDYzJmVbcisrXSk8PDZ8NjMmZVtyKytdKS02NTUzNixpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fG4+PjEwLDU2MzIwfDEwMjMmbikpfXJldHVybiBpfSgkcihPcihKU09OLnN0cmluZ2lmeShlKSkpLCEwKX1mdW5jdGlvbiBqcihlKXtyZXR1cm4gZS50eXBlPT09RGkuQ3VzdG9tJiZcInNlc3Npb25JZGxlXCI9PT1lLmRhdGEudGFnfWZ1bmN0aW9uIFVyKGUsdCl7cmV0dXJuIHQuc29tZSgodD0+XCJyZWdleFwiPT09dC5tYXRjaGluZyYmbmV3IFJlZ0V4cCh0LnVybCkudGVzdChlKSkpfWNsYXNzIHpye2dldCBzZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcygpe3JldHVybiB0aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5zZXNzaW9uX2lkbGVfdGhyZXNob2xkX21zfHwzZTV9Z2V0IHN0YXJ0ZWQoKXtyZXR1cm4gdGhpcy5fY2FwdHVyZVN0YXJ0ZWR9Z2V0IHNlc3Npb25NYW5hZ2VyKCl7aWYoIXRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKEFyK1wiIG11c3QgYmUgc3RhcnRlZCB3aXRoIGEgdmFsaWQgc2Vzc2lvbk1hbmFnZXIuXCIpO3JldHVybiB0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyfWdldCBmdWxsU25hcHNob3RJbnRlcnZhbE1pbGxpcygpe3ZhciBlLHQ7cmV0dXJuXCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cz82ZTQ6bnVsbCE9PShlPW51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZnVsbF9zbmFwc2hvdF9pbnRlcnZhbF9taWxsaXMpJiZ2b2lkIDAhPT1lP2U6cXJ9Z2V0IGlzU2FtcGxlZCgpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHhlKTtyZXR1cm4gQShlKT9lOm51bGx9Z2V0IHNlc3Npb25EdXJhdGlvbigpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5idWZmZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmRhdGFbKG51bGw9PT0odD10aGlzLmJ1ZmZlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGF0YS5sZW5ndGgpLTFdLHtzZXNzaW9uU3RhcnRUaW1lc3RhbXA6cn09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCk7cmV0dXJuIGk/aS50aW1lc3RhbXAtcjpudWxsfWdldCBpc1JlY29yZGluZ0VuYWJsZWQoKXt2YXIgZT0hIXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGdlKSxpPSF0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nO3JldHVybiB0JiZlJiZpfWdldCBpc0NvbnNvbGVMb2dDYXB0dXJlRW5hYmxlZCgpe3ZhciBlPSEhdGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoZmUpLHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZztyZXR1cm4gbnVsbCE9dD90OmV9Z2V0IGNhbnZhc1JlY29yZGluZygpe3ZhciBlLHQsaSxyLG4scyxvPXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLmNhcHR1cmVDYW52YXMsYT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShiZSksbD1udWxsIT09KGU9bnVsbCE9PSh0PW51bGw9PW8/dm9pZCAwOm8ucmVjb3JkQ2FudmFzKSYmdm9pZCAwIT09dD90Om51bGw9PWE/dm9pZCAwOmEuZW5hYmxlZCkmJnZvaWQgMCE9PWUmJmUsdT1udWxsIT09KGk9bnVsbCE9PShyPW51bGw9PW8/dm9pZCAwOm8uY2FudmFzRnBzKSYmdm9pZCAwIT09cj9yOm51bGw9PWE/dm9pZCAwOmEuZnBzKSYmdm9pZCAwIT09aT9pOjQsYz1udWxsIT09KG49bnVsbCE9PShzPW51bGw9PW8/dm9pZCAwOm8uY2FudmFzUXVhbGl0eSkmJnZvaWQgMCE9PXM/czpudWxsPT1hP3ZvaWQgMDphLnF1YWxpdHkpJiZ2b2lkIDAhPT1uP246LjQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGMpe3ZhciBkPXBhcnNlRmxvYXQoYyk7Yz1pc05hTihkKT8uNDpkfXJldHVybntlbmFibGVkOmwsZnBzOkppKHUsMCwxMixcImNhbnZhcyByZWNvcmRpbmcgZnBzXCIsNCkscXVhbGl0eTpKaShjLDAsMSxcImNhbnZhcyByZWNvcmRpbmcgcXVhbGl0eVwiLC40KX19Z2V0IG5ldHdvcmtQYXlsb2FkQ2FwdHVyZSgpe3ZhciBlLHQsaT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShtZSkscj17cmVjb3JkSGVhZGVyczpudWxsPT09KGU9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnJlY29yZEhlYWRlcnMscmVjb3JkQm9keTpudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlY29yZEJvZHl9LG49KG51bGw9PXI/dm9pZCAwOnIucmVjb3JkSGVhZGVycyl8fChudWxsPT1pP3ZvaWQgMDppLnJlY29yZEhlYWRlcnMpLHM9KG51bGw9PXI/dm9pZCAwOnIucmVjb3JkQm9keSl8fChudWxsPT1pP3ZvaWQgMDppLnJlY29yZEJvZHkpLG89UCh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLm5ldHdvcmtfdGltaW5nOnRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UsYT0hIShBKG8pP286bnVsbD09aT92b2lkIDA6aS5jYXB0dXJlUGVyZm9ybWFuY2UpO3JldHVybiBufHxzfHxhP3tyZWNvcmRIZWFkZXJzOm4scmVjb3JkQm9keTpzLHJlY29yZFBlcmZvcm1hbmNlOmF9OnZvaWQgMH1nZXQgbWFza2luZygpe3ZhciBlLHQsaSxyLG4scyxvPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHllKSxhPXttYXNrQWxsSW5wdXRzOm51bGw9PT0oZT10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWFza0FsbElucHV0cyxtYXNrVGV4dFNlbGVjdG9yOm51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubWFza1RleHRTZWxlY3RvcixibG9ja1NlbGVjdG9yOm51bGw9PT0oaT10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYmxvY2tTZWxlY3Rvcn0sbD1udWxsIT09KHI9bnVsbD09YT92b2lkIDA6YS5tYXNrQWxsSW5wdXRzKSYmdm9pZCAwIT09cj9yOm51bGw9PW8/dm9pZCAwOm8ubWFza0FsbElucHV0cyx1PW51bGwhPT0obj1udWxsPT1hP3ZvaWQgMDphLm1hc2tUZXh0U2VsZWN0b3IpJiZ2b2lkIDAhPT1uP246bnVsbD09bz92b2lkIDA6by5tYXNrVGV4dFNlbGVjdG9yLGM9bnVsbCE9PShzPW51bGw9PWE/dm9pZCAwOmEuYmxvY2tTZWxlY3RvcikmJnZvaWQgMCE9PXM/czpudWxsPT1vP3ZvaWQgMDpvLmJsb2NrU2VsZWN0b3I7cmV0dXJuIEYobCkmJkYodSkmJkYoYyk/dm9pZCAwOnttYXNrQWxsSW5wdXRzOm51bGw9PWx8fGwsbWFza1RleHRTZWxlY3Rvcjp1LGJsb2NrU2VsZWN0b3I6Y319Z2V0IHNhbXBsZVJhdGUoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSh3ZSk7cmV0dXJuIE0oZSk/ZTpudWxsfWdldCBtaW5pbXVtRHVyYXRpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShTZSk7cmV0dXJuIE0oZSk/ZTpudWxsfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5yZWNlaXZlZERlY2lkZT90aGlzLmlzUmVjb3JkaW5nRW5hYmxlZD8hMT09PXRoaXMuaXNTYW1wbGVkP1wiZGlzYWJsZWRcIjp0aGlzLl91cmxCbG9ja2VkP1wicGF1c2VkXCI6Tyh0aGlzLl9saW5rZWRGbGFnKXx8dGhpcy5fbGlua2VkRmxhZ1NlZW4/XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cz9cImJ1ZmZlcmluZ1wiOkEodGhpcy5pc1NhbXBsZWQpP3RoaXMuaXNTYW1wbGVkP1wic2FtcGxlZFwiOlwiZGlzYWJsZWRcIjpcImFjdGl2ZVwiOlwiYnVmZmVyaW5nXCI6XCJkaXNhYmxlZFwiOlwiYnVmZmVyaW5nXCJ9Z2V0IHVybFRyaWdnZXJTdGF0dXMoKXt2YXIgZTtyZXR1cm4gMD09PXRoaXMuX3VybFRyaWdnZXJzLmxlbmd0aD9cInRyaWdnZXJfZGlzYWJsZWRcIjoobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShJZSkpPT09dGhpcy5zZXNzaW9uSWQ/XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiOlwidHJpZ2dlcl9wZW5kaW5nXCJ9Z2V0IGV2ZW50VHJpZ2dlclN0YXR1cygpe3ZhciBlO3JldHVybiAwPT09dGhpcy5fZXZlbnRUcmlnZ2Vycy5sZW5ndGg/XCJ0cmlnZ2VyX2Rpc2FibGVkXCI6KG51bGw9PT0oZT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoUGUpKT09PXRoaXMuc2Vzc2lvbklkP1widHJpZ2dlcl9hY3RpdmF0ZWRcIjpcInRyaWdnZXJfcGVuZGluZ1wifWdldCB0cmlnZ2VyU3RhdHVzKCl7dmFyIGU9XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiPT09dGhpcy5ldmVudFRyaWdnZXJTdGF0dXN8fFwidHJpZ2dlcl9hY3RpdmF0ZWRcIj09PXRoaXMudXJsVHJpZ2dlclN0YXR1cyx0PVwidHJpZ2dlcl9wZW5kaW5nXCI9PT10aGlzLmV2ZW50VHJpZ2dlclN0YXR1c3x8XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudXJsVHJpZ2dlclN0YXR1cztyZXR1cm4gZT9cInRyaWdnZXJfYWN0aXZhdGVkXCI6dD9cInRyaWdnZXJfcGVuZGluZ1wiOlwidHJpZ2dlcl9kaXNhYmxlZFwifWNvbnN0cnVjdG9yKGUpe2lmKFcodGhpcyxcInF1ZXVlZFJSV2ViRXZlbnRzXCIsW10pLFcodGhpcyxcImlzSWRsZVwiLFwidW5rbm93blwiKSxXKHRoaXMsXCJfbGlua2VkRmxhZ1NlZW5cIiwhMSksVyh0aGlzLFwiX2xhc3RBY3Rpdml0eVRpbWVzdGFtcFwiLERhdGUubm93KCkpLFcodGhpcyxcIl9saW5rZWRGbGFnXCIsbnVsbCksVyh0aGlzLFwiX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2tcIix2b2lkIDApLFcodGhpcyxcIl9vblNlc3Npb25JZExpc3RlbmVyXCIsdm9pZCAwKSxXKHRoaXMsXCJfcGVyc2lzdERlY2lkZU9uU2Vzc2lvbkxpc3RlbmVyXCIsdm9pZCAwKSxXKHRoaXMsXCJfc2FtcGxpbmdTZXNzaW9uTGlzdGVuZXJcIix2b2lkIDApLFcodGhpcyxcIl91cmxUcmlnZ2Vyc1wiLFtdKSxXKHRoaXMsXCJfdXJsQmxvY2tsaXN0XCIsW10pLFcodGhpcyxcIl91cmxCbG9ja2VkXCIsITEpLFcodGhpcyxcIl9ldmVudFRyaWdnZXJzXCIsW10pLFcodGhpcyxcIl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9va1wiLHZvaWQgMCksVyh0aGlzLFwiX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZVwiLCExKSxXKHRoaXMsXCJfb25CZWZvcmVVbmxvYWRcIiwoKCk9Pnt0aGlzLl9mbHVzaEJ1ZmZlcigpfSkpLFcodGhpcyxcIl9vbk9mZmxpbmVcIiwoKCk9Pnt0aGlzLl90cnlBZGRDdXN0b21FdmVudChcImJyb3dzZXIgb2ZmbGluZVwiLHt9KX0pKSxXKHRoaXMsXCJfb25PbmxpbmVcIiwoKCk9Pnt0aGlzLl90cnlBZGRDdXN0b21FdmVudChcImJyb3dzZXIgb25saW5lXCIse30pfSkpLFcodGhpcyxcIl9vblZpc2liaWxpdHlDaGFuZ2VcIiwoKCk9PntpZihudWxsIT1hJiZhLnZpc2liaWxpdHlTdGF0ZSl7dmFyIGU9XCJ3aW5kb3cgXCIrYS52aXNpYmlsaXR5U3RhdGU7dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoZSx7fSl9fSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9jYXB0dXJlU3RhcnRlZD0hMSx0aGlzLl9lbmRwb2ludD1cIi9zL1wiLHRoaXMuc3RvcFJyd2ViPXZvaWQgMCx0aGlzLnJlY2VpdmVkRGVjaWRlPSExLCF0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXRocm93IExyLmVycm9yKFwic3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyXCIpLG5ldyBFcnJvcihBcitcIiBzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXIuIFRoaXMgaXMgYSBidWcuXCIpO2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcihBcitcIiBjYW5ub3QgYmUgdXNlZCB3aXRoIF9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlLlwiKTt2YXJ7c2Vzc2lvbklkOnQsd2luZG93SWQ6aX09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpO3RoaXMuc2Vzc2lvbklkPXQsdGhpcy53aW5kb3dJZD1pLHRoaXMuYnVmZmVyPXRoaXMuY2xlYXJCdWZmZXIoKSx0aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzPj10aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25UaW1lb3V0TXMmJkxyLndhcm4oXCJzZXNzaW9uX2lkbGVfdGhyZXNob2xkX21zIChcIi5jb25jYXQodGhpcy5zZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcyxcIikgaXMgZ3JlYXRlciB0aGFuIHRoZSBzZXNzaW9uIHRpbWVvdXQgKFwiKS5jb25jYXQodGhpcy5zZXNzaW9uTWFuYWdlci5zZXNzaW9uVGltZW91dE1zLFwiKS4gU2Vzc2lvbiB3aWxsIG5ldmVyIGJlIGRldGVjdGVkIGFzIGlkbGVcIikpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKGUpe3RoaXMuaXNSZWNvcmRpbmdFbmFibGVkPyh0aGlzLl9zdGFydENhcHR1cmUoZSksb2UodCxcImJlZm9yZXVubG9hZFwiLHRoaXMuX29uQmVmb3JlVW5sb2FkKSxvZSh0LFwib2ZmbGluZVwiLHRoaXMuX29uT2ZmbGluZSksb2UodCxcIm9ubGluZVwiLHRoaXMuX29uT25saW5lKSxvZSh0LFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSksdGhpcy5fc2V0dXBTYW1wbGluZygpLHRoaXMuX2FkZEV2ZW50VHJpZ2dlckxpc3RlbmVyKCksTyh0aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rKSYmKHRoaXMuX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2s9dGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+e3RyeXtpZihcIiRwYWdldmlld1wiPT09ZS5ldmVudCl7dmFyIHQ9bnVsbCE9ZSYmZS5wcm9wZXJ0aWVzLiRjdXJyZW50X3VybD90aGlzLl9tYXNrVXJsKG51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kY3VycmVudF91cmwpOlwiXCI7aWYoIXQpcmV0dXJuO3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHBhZ2V2aWV3XCIse2hyZWY6dH0pfX1jYXRjaChlKXtMci5lcnJvcihcIkNvdWxkIG5vdCBhZGQgJHBhZ2V2aWV3IHRvIHJyd2ViIHNlc3Npb25cIixlKX19KSkpLHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXJ8fCh0aGlzLl9vblNlc3Npb25JZExpc3RlbmVyPXRoaXMuc2Vzc2lvbk1hbmFnZXIub25TZXNzaW9uSWQoKChlLHQsaSk9Pnt2YXIgcixuLHMsbztpJiYodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkc2Vzc2lvbl9pZF9jaGFuZ2VcIix7c2Vzc2lvbklkOmUsd2luZG93SWQ6dCxjaGFuZ2VSZWFzb246aX0pLG51bGw9PT0ocj10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09cnx8bnVsbD09PShuPXIucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1ufHxuLnVucmVnaXN0ZXIoUGUpLG51bGw9PT0ocz10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1vfHxvLnVucmVnaXN0ZXIoSWUpKX0pKSkpOnRoaXMuc3RvcFJlY29yZGluZygpfXN0b3BSZWNvcmRpbmcoKXt2YXIgZSxpLHIsbjt0aGlzLl9jYXB0dXJlU3RhcnRlZCYmdGhpcy5zdG9wUnJ3ZWImJih0aGlzLnN0b3BScndlYigpLHRoaXMuc3RvcFJyd2ViPXZvaWQgMCx0aGlzLl9jYXB0dXJlU3RhcnRlZD0hMSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLl9vbkJlZm9yZVVubG9hZCksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLHRoaXMuX29uT2ZmbGluZSksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25PbmxpbmUpLG51bGw9PXR8fHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpLHRoaXMuY2xlYXJCdWZmZXIoKSxjbGVhckludGVydmFsKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyKSxudWxsPT09KGU9dGhpcy5fcmVtb3ZlUGFnZVZpZXdDYXB0dXJlSG9vayl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKSx0aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rPXZvaWQgMCxudWxsPT09KGk9dGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2spfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksdGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2s9dm9pZCAwLG51bGw9PT0ocj10aGlzLl9vblNlc3Npb25JZExpc3RlbmVyKXx8dm9pZCAwPT09cnx8ci5jYWxsKHRoaXMpLHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXI9dm9pZCAwLG51bGw9PT0obj10aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcil8fHZvaWQgMD09PW58fG4uY2FsbCh0aGlzKSx0aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcj12b2lkIDAsTHIuaW5mbyhcInN0b3BwZWRcIikpfV9yZXNldFNhbXBsaW5nKCl7dmFyIGU7bnVsbD09PShlPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lfHxlLnVucmVnaXN0ZXIoeGUpfW1ha2VTYW1wbGluZ0RlY2lzaW9uKGUpe3ZhciB0LGk9dGhpcy5zZXNzaW9uSWQhPT1lLHI9dGhpcy5zYW1wbGVSYXRlO2lmKE0ocikpe3ZhciBuPXRoaXMuaXNTYW1wbGVkLHM9aXx8IUEobiksbz1zP01yKGUscik6bjtzJiYobz90aGlzLl9yZXBvcnRTdGFydGVkKFwic2FtcGxlZFwiKTpMci53YXJuKFwiU2FtcGxlIHJhdGUgKFwiLmNvbmNhdChyLFwiKSBoYXMgZGV0ZXJtaW5lZCB0aGF0IHRoaXMgc2Vzc2lvbklkIChcIikuY29uY2F0KGUsXCIpIHdpbGwgbm90IGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cIikpLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwic2FtcGxpbmdEZWNpc2lvbk1hZGVcIix7c2FtcGxlUmF0ZTpyLGlzU2FtcGxlZDpvfSkpLG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC5yZWdpc3Rlcih7W3hlXTpvfSl9ZWxzZSB0aGlzLl9yZXNldFNhbXBsaW5nKCl9b25SZW1vdGVDb25maWcoZSl7dmFyIHQsaSxyLG4scyxvOyh0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiRyZW1vdGVfY29uZmlnX3JlY2VpdmVkXCIsZSksdGhpcy5fcGVyc2lzdFJlbW90ZUNvbmZpZyhlKSx0aGlzLl9saW5rZWRGbGFnPShudWxsPT09KHQ9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5saW5rZWRGbGFnKXx8bnVsbCxudWxsIT09KGk9ZS5zZXNzaW9uUmVjb3JkaW5nKSYmdm9pZCAwIT09aSYmaS5lbmRwb2ludCkmJih0aGlzLl9lbmRwb2ludD1udWxsPT09KG89ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bz92b2lkIDA6by5lbmRwb2ludCk7aWYodGhpcy5fc2V0dXBTYW1wbGluZygpLCFPKHRoaXMuX2xpbmtlZEZsYWcpJiYhdGhpcy5fbGlua2VkRmxhZ1NlZW4pe3ZhciBhPVQodGhpcy5fbGlua2VkRmxhZyk/dGhpcy5fbGlua2VkRmxhZzp0aGlzLl9saW5rZWRGbGFnLmZsYWcsbD1UKHRoaXMuX2xpbmtlZEZsYWcpP251bGw6dGhpcy5fbGlua2VkRmxhZy52YXJpYW50O3RoaXMuaW5zdGFuY2Uub25GZWF0dXJlRmxhZ3MoKChlLHQpPT57dmFyIGk9UCh0KSYmYSBpbiB0LHI9bD90W2FdPT09bDppO3ImJnRoaXMuX3JlcG9ydFN0YXJ0ZWQoXCJsaW5rZWRfZmxhZ19tYXRjaGVkXCIse2xpbmtlZEZsYWc6YSxsaW5rZWRWYXJpYW50Omx9KSx0aGlzLl9saW5rZWRGbGFnU2Vlbj1yfSkpfW51bGwhPT0ocj1lLnNlc3Npb25SZWNvcmRpbmcpJiZ2b2lkIDAhPT1yJiZyLnVybFRyaWdnZXJzJiYodGhpcy5fdXJsVHJpZ2dlcnM9ZS5zZXNzaW9uUmVjb3JkaW5nLnVybFRyaWdnZXJzKSxudWxsIT09KG49ZS5zZXNzaW9uUmVjb3JkaW5nKSYmdm9pZCAwIT09biYmbi51cmxCbG9ja2xpc3QmJih0aGlzLl91cmxCbG9ja2xpc3Q9ZS5zZXNzaW9uUmVjb3JkaW5nLnVybEJsb2NrbGlzdCksbnVsbCE9PShzPWUuc2Vzc2lvblJlY29yZGluZykmJnZvaWQgMCE9PXMmJnMuZXZlbnRUcmlnZ2VycyYmKHRoaXMuX2V2ZW50VHJpZ2dlcnM9ZS5zZXNzaW9uUmVjb3JkaW5nLmV2ZW50VHJpZ2dlcnMpLHRoaXMucmVjZWl2ZWREZWNpZGU9ITAsdGhpcy5zdGFydElmRW5hYmxlZE9yU3RvcCgpfV9zZXR1cFNhbXBsaW5nKCl7TSh0aGlzLnNhbXBsZVJhdGUpJiZPKHRoaXMuX3NhbXBsaW5nU2Vzc2lvbkxpc3RlbmVyKSYmKHRoaXMuX3NhbXBsaW5nU2Vzc2lvbkxpc3RlbmVyPXRoaXMuc2Vzc2lvbk1hbmFnZXIub25TZXNzaW9uSWQoKGU9Pnt0aGlzLm1ha2VTYW1wbGluZ0RlY2lzaW9uKGUpfSkpKX1fcGVyc2lzdFJlbW90ZUNvbmZpZyhlKXtpZih0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXt2YXIgdCxpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2Uscj0oKT0+e3ZhciB0LHIsbixzLG8sYSxsLHUsYyxkPW51bGw9PT0odD1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNhbXBsZVJhdGUsaD1PKGQpP251bGw6cGFyc2VGbG9hdChkKTtPKGgpJiZ0aGlzLl9yZXNldFNhbXBsaW5nKCk7dmFyIF89bnVsbD09PShyPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIubWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzO2kucmVnaXN0ZXIoe1tnZV06ISFlLnNlc3Npb25SZWNvcmRpbmcsW2ZlXTpudWxsPT09KG49ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb25zb2xlTG9nUmVjb3JkaW5nRW5hYmxlZCxbbWVdOnooe2NhcHR1cmVQZXJmb3JtYW5jZTplLmNhcHR1cmVQZXJmb3JtYW5jZX0sbnVsbD09PShzPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXM/dm9pZCAwOnMubmV0d29ya1BheWxvYWRDYXB0dXJlKSxbeWVdOm51bGw9PT0obz1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm1hc2tpbmcsW2JlXTp7ZW5hYmxlZDpudWxsPT09KGE9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09YT92b2lkIDA6YS5yZWNvcmRDYW52YXMsZnBzOm51bGw9PT0obD1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmNhbnZhc0ZwcyxxdWFsaXR5Om51bGw9PT0odT1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LmNhbnZhc1F1YWxpdHl9LFt3ZV06aCxbU2VdOkYoXyk/bnVsbDpfLFtrZV06bnVsbD09PShjPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuc2NyaXB0Q29uZmlnfSl9O3IoKSxudWxsPT09KHQ9dGhpcy5fcGVyc2lzdERlY2lkZU9uU2Vzc2lvbkxpc3RlbmVyKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMuX3BlcnNpc3REZWNpZGVPblNlc3Npb25MaXN0ZW5lcj10aGlzLnNlc3Npb25NYW5hZ2VyLm9uU2Vzc2lvbklkKHIpfX1sb2coZSl7dmFyIHQsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJsb2dcIjtudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09dHx8dC5vblJSd2ViRW1pdCh7dHlwZTo2LGRhdGE6e3BsdWdpbjpcInJyd2ViL2NvbnNvbGVAMVwiLHBheWxvYWQ6e2xldmVsOmksdHJhY2U6W10scGF5bG9hZDpbSlNPTi5zdHJpbmdpZnkoZSldfX0sdGltZXN0YW1wOkRhdGUubm93KCl9KX1fc3RhcnRDYXB0dXJlKGUpe2lmKCFGKE9iamVjdC5hc3NpZ24pJiYhRihBcnJheS5mcm9tKSYmISh0aGlzLl9jYXB0dXJlU3RhcnRlZHx8dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZ3x8dGhpcy5pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKSkpe3ZhciB0LGk7aWYodGhpcy5fY2FwdHVyZVN0YXJ0ZWQ9ITAsdGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLERyKCkpdGhpcy5fb25TY3JpcHRMb2FkZWQoKTtlbHNlIG51bGw9PT0odD1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1pfHxpLmNhbGwodCx0aGlzLmluc3RhbmNlLHRoaXMuc2NyaXB0TmFtZSwoZT0+e2lmKGUpcmV0dXJuIExyLmVycm9yKFwiY291bGQgbm90IGxvYWQgcmVjb3JkZXJcIixlKTt0aGlzLl9vblNjcmlwdExvYWRlZCgpfSkpO0xyLmluZm8oXCJzdGFydGluZ1wiKSxcImFjdGl2ZVwiPT09dGhpcy5zdGF0dXMmJnRoaXMuX3JlcG9ydFN0YXJ0ZWQoZXx8XCJyZWNvcmRpbmdfaW5pdGlhbGl6ZWRcIil9fWdldCBzY3JpcHROYW1lKCl7dmFyIGUsdCxpO3JldHVybihudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQuZ2V0X3Byb3BlcnR5KGtlKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2NyaXB0KXx8XCJyZWNvcmRlclwifWlzSW50ZXJhY3RpdmVFdmVudChlKXt2YXIgdDtyZXR1cm4gMz09PWUudHlwZSYmLTEhPT1Oci5pbmRleE9mKG51bGw9PT0odD1lLmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNvdXJjZSl9X3VwZGF0ZVdpbmRvd0FuZFNlc3Npb25JZHMoZSl7dmFyIHQ9dGhpcy5pc0ludGVyYWN0aXZlRXZlbnQoZSk7dHx8dGhpcy5pc0lkbGV8fGUudGltZXN0YW1wLXRoaXMuX2xhc3RBY3Rpdml0eVRpbWVzdGFtcD50aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzJiYodGhpcy5pc0lkbGU9ITAsY2xlYXJJbnRlcnZhbCh0aGlzLl9mdWxsU25hcHNob3RUaW1lciksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzZXNzaW9uSWRsZVwiLHtldmVudFRpbWVzdGFtcDplLnRpbWVzdGFtcCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6dGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wLHRocmVzaG9sZDp0aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzLGJ1ZmZlckxlbmd0aDp0aGlzLmJ1ZmZlci5kYXRhLmxlbmd0aCxidWZmZXJTaXplOnRoaXMuYnVmZmVyLnNpemV9KSx0aGlzLl9mbHVzaEJ1ZmZlcigpKTt2YXIgaT0hMTtpZih0JiYodGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wPWUudGltZXN0YW1wLHRoaXMuaXNJZGxlKSl7dmFyIHI9XCJ1bmtub3duXCI9PT10aGlzLmlzSWRsZTt0aGlzLmlzSWRsZT0hMSxyfHwodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzZXNzaW9uTm9Mb25nZXJJZGxlXCIse3JlYXNvbjpcInVzZXIgYWN0aXZpdHlcIix0eXBlOmUudHlwZX0pLGk9ITApfWlmKCF0aGlzLmlzSWRsZSl7dmFye3dpbmRvd0lkOm4sc2Vzc2lvbklkOnN9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoIXQsZS50aW1lc3RhbXApLG89dGhpcy5zZXNzaW9uSWQhPT1zLGE9dGhpcy53aW5kb3dJZCE9PW47dGhpcy53aW5kb3dJZD1uLHRoaXMuc2Vzc2lvbklkPXMsb3x8YT8odGhpcy5zdG9wUmVjb3JkaW5nKCksdGhpcy5zdGFydElmRW5hYmxlZE9yU3RvcChcInNlc3Npb25faWRfY2hhbmdlZFwiKSk6aSYmdGhpcy5fc2NoZWR1bGVGdWxsU25hcHNob3QoKX19X3RyeVJSV2ViTWV0aG9kKGUpe3RyeXtyZXR1cm4gZS5ycndlYk1ldGhvZCgpLCEwfWNhdGNoKHQpe3JldHVybiB0aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLmxlbmd0aDwxMD90aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLnB1c2goe2VucXVldWVkQXQ6ZS5lbnF1ZXVlZEF0fHxEYXRlLm5vdygpLGF0dGVtcHQ6ZS5hdHRlbXB0KysscnJ3ZWJNZXRob2Q6ZS5ycndlYk1ldGhvZH0pOkxyLndhcm4oXCJjb3VsZCBub3QgZW1pdCBxdWV1ZWQgcnJ3ZWIgZXZlbnQuXCIsdCxlKSwhMX19X3RyeUFkZEN1c3RvbUV2ZW50KGUsdCl7cmV0dXJuIHRoaXMuX3RyeVJSV2ViTWV0aG9kKEJyKCgoKT0+RHIoKS5hZGRDdXN0b21FdmVudChlLHQpKSkpfV90cnlUYWtlRnVsbFNuYXBzaG90KCl7cmV0dXJuIHRoaXMuX3RyeVJSV2ViTWV0aG9kKEJyKCgoKT0+RHIoKS50YWtlRnVsbFNuYXBzaG90KCkpKSl9X29uU2NyaXB0TG9hZGVkKCl7dmFyIGUsdCxpLHIsbj17YmxvY2tDbGFzczpcInBoLW5vLWNhcHR1cmVcIixibG9ja1NlbGVjdG9yOnZvaWQgMCxpZ25vcmVDbGFzczpcInBoLWlnbm9yZS1pbnB1dFwiLG1hc2tUZXh0Q2xhc3M6XCJwaC1tYXNrXCIsbWFza1RleHRTZWxlY3Rvcjp2b2lkIDAsbWFza1RleHRGbjp2b2lkIDAsbWFza0FsbElucHV0czohMCxtYXNrSW5wdXRPcHRpb25zOntwYXNzd29yZDohMH0sbWFza0lucHV0Rm46dm9pZCAwLHNsaW1ET01PcHRpb25zOnt9LGNvbGxlY3RGb250czohMSxpbmxpbmVTdHlsZXNoZWV0OiEwLHJlY29yZENyb3NzT3JpZ2luSWZyYW1lczohMX0scz10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZztmb3IodmFyW28sYV1vZiBPYmplY3QuZW50cmllcyhzfHx7fSkpbyBpbiBuJiYoXCJtYXNrSW5wdXRPcHRpb25zXCI9PT1vP24ubWFza0lucHV0T3B0aW9ucz16KHtwYXNzd29yZDohMH0sYSk6bltvXT1hKTsodGhpcy5jYW52YXNSZWNvcmRpbmcmJnRoaXMuY2FudmFzUmVjb3JkaW5nLmVuYWJsZWQmJihuLnJlY29yZENhbnZhcz0hMCxuLnNhbXBsaW5nPXtjYW52YXM6dGhpcy5jYW52YXNSZWNvcmRpbmcuZnBzfSxuLmRhdGFVUkxPcHRpb25zPXt0eXBlOlwiaW1hZ2Uvd2VicFwiLHF1YWxpdHk6dGhpcy5jYW52YXNSZWNvcmRpbmcucXVhbGl0eX0pLHRoaXMubWFza2luZykmJihuLm1hc2tBbGxJbnB1dHM9bnVsbD09PSh0PXRoaXMubWFza2luZy5tYXNrQWxsSW5wdXRzKXx8dm9pZCAwPT09dHx8dCxuLm1hc2tUZXh0U2VsZWN0b3I9bnVsbCE9PShpPXRoaXMubWFza2luZy5tYXNrVGV4dFNlbGVjdG9yKSYmdm9pZCAwIT09aT9pOnZvaWQgMCxuLmJsb2NrU2VsZWN0b3I9bnVsbCE9PShyPXRoaXMubWFza2luZy5ibG9ja1NlbGVjdG9yKSYmdm9pZCAwIT09cj9yOnZvaWQgMCk7dmFyIGw9RHIoKTtpZihsKXt0aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXI9bnVsbCE9PShlPXRoaXMubXV0YXRpb25SYXRlTGltaXRlcikmJnZvaWQgMCE9PWU/ZTpuZXcgWWkobCx7cmVmaWxsUmF0ZTp0aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5fX211dGF0aW9uUmF0ZUxpbWl0ZXJSZWZpbGxSYXRlLGJ1Y2tldFNpemU6dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuX19tdXRhdGlvblJhdGVMaW1pdGVyQnVja2V0U2l6ZSxvbkJsb2NrZWROb2RlOihlLHQpPT57dmFyIGk9XCJUb28gbWFueSBtdXRhdGlvbnMgb24gbm9kZSAnXCIuY29uY2F0KGUsXCInLiBSYXRlIGxpbWl0aW5nLiBUaGlzIGNvdWxkIGJlIGR1ZSB0byBTVkcgYW5pbWF0aW9ucyBvciBzb21ldGhpbmcgc2ltaWxhclwiKTtMci5pbmZvKGkse25vZGU6dH0pLHRoaXMubG9nKEFyK1wiIFwiK2ksXCJ3YXJuXCIpfX0pO3ZhciB1PXRoaXMuX2dhdGhlclJSV2ViUGx1Z2lucygpO3RoaXMuc3RvcFJyd2ViPWwoeih7ZW1pdDplPT57dGhpcy5vblJSd2ViRW1pdChlKX0scGx1Z2luczp1fSxuKSksdGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wPURhdGUubm93KCksdGhpcy5pc0lkbGU9QSh0aGlzLmlzSWRsZSk/dGhpcy5pc0lkbGU6XCJ1bmtub3duXCIsdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkc2Vzc2lvbl9vcHRpb25zXCIse3Nlc3Npb25SZWNvcmRpbmdPcHRpb25zOm4sYWN0aXZlUGx1Z2luczp1Lm1hcCgoZT0+bnVsbD09ZT92b2lkIDA6ZS5uYW1lKSl9KSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiRwb3N0aG9nX2NvbmZpZ1wiLHtjb25maWc6dGhpcy5pbnN0YW5jZS5jb25maWd9KX1lbHNlIExyLmVycm9yKFwib25TY3JpcHRMb2FkZWQgd2FzIGNhbGxlZCBidXQgcnJ3ZWJSZWNvcmQgaXMgbm90IGF2YWlsYWJsZS4gVGhpcyBpbmRpY2F0ZXMgc29tZXRoaW5nIGhhcyBnb25lIHdyb25nLlwiKX1fc2NoZWR1bGVGdWxsU25hcHNob3QoKXtpZih0aGlzLl9mdWxsU25hcHNob3RUaW1lciYmY2xlYXJJbnRlcnZhbCh0aGlzLl9mdWxsU25hcHNob3RUaW1lciksITAhPT10aGlzLmlzSWRsZSl7dmFyIGU9dGhpcy5mdWxsU25hcHNob3RJbnRlcnZhbE1pbGxpcztlJiYodGhpcy5fZnVsbFNuYXBzaG90VGltZXI9c2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpfSksZSkpfX1fZ2F0aGVyUlJXZWJQbHVnaW5zKCl7dmFyIGUsdCxpLHIsbj1bXSxzPW51bGw9PT0oZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnJyd2ViUGx1Z2lucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVjb3JkQ29uc29sZVBsdWdpbjtzJiZ0aGlzLmlzQ29uc29sZUxvZ0NhcHR1cmVFbmFibGVkJiZuLnB1c2gocygpKTt2YXIgbz1udWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ycndlYlBsdWdpbnMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFJlY29yZE5ldHdvcmtQbHVnaW47dGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUmJkkobykmJighd3QuaW5jbHVkZXMobG9jYXRpb24uaG9zdG5hbWUpfHx0aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU/bi5wdXNoKG8oR2kodGhpcy5pbnN0YW5jZS5jb25maWcsdGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUpKSk6THIuaW5mbyhcIk5ldHdvcmtDYXB0dXJlIG5vdCBzdGFydGVkIGJlY2F1c2Ugd2UgYXJlIG9uIGxvY2FsaG9zdC5cIikpO3JldHVybiBufW9uUlJ3ZWJFbWl0KGUpe3ZhciB0O2lmKHRoaXMuX3Byb2Nlc3NRdWV1ZWRFdmVudHMoKSxlJiZQKGUpKXtpZihlLnR5cGU9PT1EaS5NZXRhKXt2YXIgaT10aGlzLl9tYXNrVXJsKGUuZGF0YS5ocmVmKTtpZih0aGlzLl9sYXN0SHJlZj1pLCFpKXJldHVybjtlLmRhdGEuaHJlZj1pfWVsc2UgdGhpcy5fcGFnZVZpZXdGYWxsQmFjaygpO2lmKHRoaXMuX2NoZWNrVXJsVHJpZ2dlckNvbmRpdGlvbnMoKSwhdGhpcy5fdXJsQmxvY2tlZHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PURpLkN1c3RvbSYmXCJyZWNvcmRpbmcgcGF1c2VkXCI9PT1lLmRhdGEudGFnfShlKSl7ZS50eXBlPT09RGkuRnVsbFNuYXBzaG90JiZ0aGlzLl9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpLGUudHlwZT09PURpLkZ1bGxTbmFwc2hvdCYmXCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cyYmdGhpcy5jbGVhckJ1ZmZlcigpO3ZhciByPXRoaXMubXV0YXRpb25SYXRlTGltaXRlcj90aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXIudGhyb3R0bGVNdXRhdGlvbnMoZSk6ZTtpZihyKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1lO2lmKHQmJlAodCkmJjY9PT10LnR5cGUmJlAodC5kYXRhKSYmXCJycndlYi9jb25zb2xlQDFcIj09PXQuZGF0YS5wbHVnaW4pe3QuZGF0YS5wYXlsb2FkLnBheWxvYWQubGVuZ3RoPjEwJiYodC5kYXRhLnBheWxvYWQucGF5bG9hZD10LmRhdGEucGF5bG9hZC5wYXlsb2FkLnNsaWNlKDAsMTApLHQuZGF0YS5wYXlsb2FkLnBheWxvYWQucHVzaChcIi4uLlt0cnVuY2F0ZWRdXCIpKTtmb3IodmFyIGk9W10scj0wO3I8dC5kYXRhLnBheWxvYWQucGF5bG9hZC5sZW5ndGg7cisrKXQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0mJnQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0ubGVuZ3RoPjJlMz9pLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtyXS5zbGljZSgwLDJlMykrXCIuLi5bdHJ1bmNhdGVkXVwiKTppLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtyXSk7cmV0dXJuIHQuZGF0YS5wYXlsb2FkLnBheWxvYWQ9aSxlfXJldHVybiBlfShyKTtpZih0aGlzLl91cGRhdGVXaW5kb3dBbmRTZXNzaW9uSWRzKG4pLCEwIT09dGhpcy5pc0lkbGV8fGpyKG4pKXtpZihqcihuKSl7dmFyIHM9bi5kYXRhLnBheWxvYWQ7aWYocyl7dmFyIG89cy5sYXN0QWN0aXZpdHlUaW1lc3RhbXAsYT1zLnRocmVzaG9sZDtuLnRpbWVzdGFtcD1vK2F9fXZhciBsPW51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5jb21wcmVzc19ldmVudHMpfHx2b2lkIDA9PT10fHx0P2Z1bmN0aW9uKGUpe2lmKEFpKGUpPDEwMjQpcmV0dXJuIGU7dHJ5e2lmKGUudHlwZT09PURpLkZ1bGxTbmFwc2hvdClyZXR1cm4geih6KHt9LGUpLHt9LHtkYXRhOkhyKGUuZGF0YSksY3Y6XCIyMDI0LTEwXCJ9KTtpZihlLnR5cGU9PT1EaS5JbmNyZW1lbnRhbFNuYXBzaG90JiZlLmRhdGEuc291cmNlPT09cWkuTXV0YXRpb24pcmV0dXJuIHooeih7fSxlKSx7fSx7Y3Y6XCIyMDI0LTEwXCIsZGF0YTp6KHooe30sZS5kYXRhKSx7fSx7dGV4dHM6SHIoZS5kYXRhLnRleHRzKSxhdHRyaWJ1dGVzOkhyKGUuZGF0YS5hdHRyaWJ1dGVzKSxyZW1vdmVzOkhyKGUuZGF0YS5yZW1vdmVzKSxhZGRzOkhyKGUuZGF0YS5hZGRzKX0pfSk7aWYoZS50eXBlPT09RGkuSW5jcmVtZW50YWxTbmFwc2hvdCYmZS5kYXRhLnNvdXJjZT09PXFpLlN0eWxlU2hlZXRSdWxlKXJldHVybiB6KHooe30sZSkse30se2N2OlwiMjAyNC0xMFwiLGRhdGE6eih6KHt9LGUuZGF0YSkse30se2FkZHM6ZS5kYXRhLmFkZHM/SHIoZS5kYXRhLmFkZHMpOnZvaWQgMCxyZW1vdmVzOmUuZGF0YS5yZW1vdmVzP0hyKGUuZGF0YS5yZW1vdmVzKTp2b2lkIDB9KX0pfWNhdGNoKGUpe0xyLmVycm9yKFwiY291bGQgbm90IGNvbXByZXNzIGV2ZW50IC0gd2lsbCB1c2UgdW5jb21wcmVzc2VkIGV2ZW50XCIsZSl9cmV0dXJuIGV9KG4pOm4sdT17JHNuYXBzaG90X2J5dGVzOkFpKGwpLCRzbmFwc2hvdF9kYXRhOmwsJHNlc3Npb25faWQ6dGhpcy5zZXNzaW9uSWQsJHdpbmRvd19pZDp0aGlzLndpbmRvd0lkfTtcImRpc2FibGVkXCIhPT10aGlzLnN0YXR1cz90aGlzLl9jYXB0dXJlU25hcHNob3RCdWZmZXJlZCh1KTp0aGlzLmNsZWFyQnVmZmVyKCl9fX19fV9wYWdlVmlld0ZhbGxCYWNrKCl7aWYoIXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnQpe3ZhciBlPXRoaXMuX21hc2tVcmwodC5sb2NhdGlvbi5ocmVmKTt0aGlzLl9sYXN0SHJlZiE9PWUmJih0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiR1cmxfY2hhbmdlZFwiLHtocmVmOmV9KSx0aGlzLl9sYXN0SHJlZj1lKX19X3Byb2Nlc3NRdWV1ZWRFdmVudHMoKXtpZih0aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLmxlbmd0aCl7dmFyIGU9Wy4uLnRoaXMucXVldWVkUlJXZWJFdmVudHNdO3RoaXMucXVldWVkUlJXZWJFdmVudHM9W10sZS5mb3JFYWNoKChlPT57RGF0ZS5ub3coKS1lLmVucXVldWVkQXQ8PTJlMyYmdGhpcy5fdHJ5UlJXZWJNZXRob2QoZSl9KSl9fV9tYXNrVXJsKGUpe3ZhciB0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nO2lmKHQubWFza05ldHdvcmtSZXF1ZXN0Rm4pe3ZhciBpLHI9e3VybDplfTtyZXR1cm4gbnVsbD09PShpPXI9dC5tYXNrTmV0d29ya1JlcXVlc3RGbihyKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudXJsfXJldHVybiBlfWNsZWFyQnVmZmVyKCl7cmV0dXJuIHRoaXMuYnVmZmVyPXtzaXplOjAsZGF0YTpbXSxzZXNzaW9uSWQ6dGhpcy5zZXNzaW9uSWQsd2luZG93SWQ6dGhpcy53aW5kb3dJZH0sdGhpcy5idWZmZXJ9X2ZsdXNoQnVmZmVyKCl7dGhpcy5mbHVzaEJ1ZmZlclRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuZmx1c2hCdWZmZXJUaW1lciksdGhpcy5mbHVzaEJ1ZmZlclRpbWVyPXZvaWQgMCk7dmFyIGU9dGhpcy5taW5pbXVtRHVyYXRpb24sdD10aGlzLnNlc3Npb25EdXJhdGlvbixpPU0odCkmJnQ+PTAscj1NKGUpJiZpJiZ0PGU7aWYoXCJidWZmZXJpbmdcIj09PXRoaXMuc3RhdHVzfHxcInBhdXNlZFwiPT09dGhpcy5zdGF0dXN8fFwiZGlzYWJsZWRcIj09PXRoaXMuc3RhdHVzfHxyKXJldHVybiB0aGlzLmZsdXNoQnVmZmVyVGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9mbHVzaEJ1ZmZlcigpfSksMmUzKSx0aGlzLmJ1ZmZlcjt0aGlzLmJ1ZmZlci5kYXRhLmxlbmd0aD4wJiZMaSh0aGlzLmJ1ZmZlcikuZm9yRWFjaCgoZT0+e3RoaXMuX2NhcHR1cmVTbmFwc2hvdCh7JHNuYXBzaG90X2J5dGVzOmUuc2l6ZSwkc25hcHNob3RfZGF0YTplLmRhdGEsJHNlc3Npb25faWQ6ZS5zZXNzaW9uSWQsJHdpbmRvd19pZDplLndpbmRvd0lkLCRsaWI6XCJ3ZWJcIiwkbGliX3ZlcnNpb246cC5MSUJfVkVSU0lPTn0pfSkpO3JldHVybiB0aGlzLmNsZWFyQnVmZmVyKCl9X2NhcHR1cmVTbmFwc2hvdEJ1ZmZlcmVkKGUpe3ZhciB0LGk9MisoKG51bGw9PT0odD10aGlzLmJ1ZmZlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGF0YS5sZW5ndGgpfHwwKTshdGhpcy5pc0lkbGUmJih0aGlzLmJ1ZmZlci5zaXplK2UuJHNuYXBzaG90X2J5dGVzK2k+OTQzNzE4LjR8fHRoaXMuYnVmZmVyLnNlc3Npb25JZCE9PXRoaXMuc2Vzc2lvbklkKSYmKHRoaXMuYnVmZmVyPXRoaXMuX2ZsdXNoQnVmZmVyKCkpLHRoaXMuYnVmZmVyLnNpemUrPWUuJHNuYXBzaG90X2J5dGVzLHRoaXMuYnVmZmVyLmRhdGEucHVzaChlLiRzbmFwc2hvdF9kYXRhKSx0aGlzLmZsdXNoQnVmZmVyVGltZXJ8fHRoaXMuaXNJZGxlfHwodGhpcy5mbHVzaEJ1ZmZlclRpbWVyPXNldFRpbWVvdXQoKCgpPT57dGhpcy5fZmx1c2hCdWZmZXIoKX0pLDJlMykpfV9jYXB0dXJlU25hcHNob3QoZSl7dGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJHNuYXBzaG90XCIsZSx7X3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIix0aGlzLl9lbmRwb2ludCksX25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwicmVjb3JkaW5nc1wiLHNraXBfY2xpZW50X3JhdGVfbGltaXRpbmc6ITB9KX1fY2hlY2tVcmxUcmlnZ2VyQ29uZGl0aW9ucygpe2lmKHZvaWQgMCE9PXQmJnQubG9jYXRpb24uaHJlZil7dmFyIGU9dC5sb2NhdGlvbi5ocmVmLGk9dGhpcy5fdXJsQmxvY2tlZCxyPVVyKGUsdGhpcy5fdXJsQmxvY2tsaXN0KTtyJiYhaT90aGlzLl9wYXVzZVJlY29yZGluZygpOiFyJiZpJiZ0aGlzLl9yZXN1bWVSZWNvcmRpbmcoKSxVcihlLHRoaXMuX3VybFRyaWdnZXJzKSYmdGhpcy5fYWN0aXZhdGVUcmlnZ2VyKFwidXJsXCIpfX1fYWN0aXZhdGVUcmlnZ2VyKGUpe3ZhciB0LGk7XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cyYmKG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbXCJ1cmxcIj09PWU/SWU6UGVdOnRoaXMuc2Vzc2lvbklkfSksdGhpcy5fZmx1c2hCdWZmZXIoKSx0aGlzLl9yZXBvcnRTdGFydGVkKGUrXCJfdHJpZ2dlcl9tYXRjaGVkXCIpKX1fcGF1c2VSZWNvcmRpbmcoKXt0aGlzLl91cmxCbG9ja2VkfHwodGhpcy5fdXJsQmxvY2tlZD0hMCxjbGVhckludGVydmFsKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyKSxMci5pbmZvKFwicmVjb3JkaW5nIHBhdXNlZCBkdWUgdG8gVVJMIGJsb2NrZXJcIiksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJyZWNvcmRpbmcgcGF1c2VkXCIse3JlYXNvbjpcInVybCBibG9ja2VyXCJ9KSl9X3Jlc3VtZVJlY29yZGluZygpe3RoaXMuX3VybEJsb2NrZWQmJih0aGlzLl91cmxCbG9ja2VkPSExLHRoaXMuX3RyeVRha2VGdWxsU25hcHNob3QoKSx0aGlzLl9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwicmVjb3JkaW5nIHJlc3VtZWRcIix7cmVhc29uOlwibGVmdCBibG9ja2VkIHVybFwifSksTHIuaW5mbyhcInJlY29yZGluZyByZXN1bWVkXCIpKX1fYWRkRXZlbnRUcmlnZ2VyTGlzdGVuZXIoKXswIT09dGhpcy5fZXZlbnRUcmlnZ2Vycy5sZW5ndGgmJk8odGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2spJiYodGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2s9dGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+e3RyeXt0aGlzLl9ldmVudFRyaWdnZXJzLmluY2x1ZGVzKGUuZXZlbnQpJiZ0aGlzLl9hY3RpdmF0ZVRyaWdnZXIoXCJldmVudFwiKX1jYXRjaChlKXtMci5lcnJvcihcIkNvdWxkIG5vdCBhY3RpdmF0ZSBldmVudCB0cmlnZ2VyXCIsZSl9fSkpKX1vdmVycmlkZUxpbmtlZEZsYWcoKXt0aGlzLl9saW5rZWRGbGFnU2Vlbj0hMCx0aGlzLl90cnlUYWtlRnVsbFNuYXBzaG90KCksdGhpcy5fcmVwb3J0U3RhcnRlZChcImxpbmtlZF9mbGFnX292ZXJyaWRkZW5cIil9b3ZlcnJpZGVTYW1wbGluZygpe3ZhciBlO251bGw9PT0oZT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09ZXx8ZS5yZWdpc3Rlcih7W3hlXTohMH0pLHRoaXMuX3RyeVRha2VGdWxsU25hcHNob3QoKSx0aGlzLl9yZXBvcnRTdGFydGVkKFwic2FtcGxpbmdfb3ZlcnJpZGRlblwiKX1vdmVycmlkZVRyaWdnZXIoZSl7dGhpcy5fYWN0aXZhdGVUcmlnZ2VyKGUpfV9yZXBvcnRTdGFydGVkKGUsdCl7dGhpcy5pbnN0YW5jZS5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih7JHNlc3Npb25fcmVjb3JkaW5nX3N0YXJ0X3JlYXNvbjplfSksTHIuaW5mbyhlLnJlcGxhY2UoXCJfXCIsXCIgXCIpLHQpLG0oW1wicmVjb3JkaW5nX2luaXRpYWxpemVkXCIsXCJzZXNzaW9uX2lkX2NoYW5nZWRcIl0sZSl8fHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KGUsdCl9Z2V0IHNka0RlYnVnUHJvcGVydGllcygpe3ZhcntzZXNzaW9uU3RhcnRUaW1lc3RhbXA6ZX09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCk7cmV0dXJueyRyZWNvcmRpbmdfc3RhdHVzOnRoaXMuc3RhdHVzLCRzZGtfZGVidWdfcmVwbGF5X2ludGVybmFsX2J1ZmZlcl9sZW5ndGg6dGhpcy5idWZmZXIuZGF0YS5sZW5ndGgsJHNka19kZWJ1Z19yZXBsYXlfaW50ZXJuYWxfYnVmZmVyX3NpemU6dGhpcy5idWZmZXIuc2l6ZSwkc2RrX2RlYnVnX2N1cnJlbnRfc2Vzc2lvbl9kdXJhdGlvbjp0aGlzLnNlc3Npb25EdXJhdGlvbiwkc2RrX2RlYnVnX3Nlc3Npb25fc3RhcnQ6ZX19fXZhciBXcj1CKFwiW1NlZ21lbnRJbnRlZ3JhdGlvbl1cIik7ZnVuY3Rpb24gVnIoZSx0KXt2YXIgaT1lLmNvbmZpZy5zZWdtZW50O2lmKCFpKXJldHVybiB0KCk7IWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5jb25maWcuc2VnbWVudDtpZighaSlyZXR1cm4gdCgpO3ZhciByPWk9Pnt2YXIgcj0oKT0+aS5hbm9ueW1vdXNJZCgpfHxOdCgpO2UuY29uZmlnLmdldF9kZXZpY2VfaWQ9cixpLmlkKCkmJihlLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDppLmlkKCksJGRldmljZV9pZDpyKCl9KSxlLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShMZSxcImlkZW50aWZpZWRcIikpLHQoKX0sbj1pLnVzZXIoKTtcInRoZW5cImluIG4mJkkobi50aGVuKT9uLnRoZW4oKGU9PnIoZSkpKTpyKG4pfShlLCgoKT0+e2kucmVnaXN0ZXIoKGU9PntQcm9taXNlJiZQcm9taXNlLnJlc29sdmV8fFdyLndhcm4oXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBQcm9taXNlIHN1cHBvcnQsIGFuZCBjYW4gbm90IHVzZSB0aGUgc2VnbWVudCBpbnRlZ3JhdGlvblwiKTt2YXIgdD0odCxpKT0+e3ZhciByO2lmKCFpKXJldHVybiB0O3QuZXZlbnQudXNlcklkfHx0LmV2ZW50LmFub255bW91c0lkPT09ZS5nZXRfZGlzdGluY3RfaWQoKXx8KFdyLmluZm8oXCJObyB1c2VySWQgc2V0LCByZXNldHRpbmcgUG9zdEhvZ1wiKSxlLnJlc2V0KCkpLHQuZXZlbnQudXNlcklkJiZ0LmV2ZW50LnVzZXJJZCE9PWUuZ2V0X2Rpc3RpbmN0X2lkKCkmJihXci5pbmZvKFwiVXNlcklkIHNldCwgaWRlbnRpZnlpbmcgd2l0aCBQb3N0SG9nXCIpLGUuaWRlbnRpZnkodC5ldmVudC51c2VySWQpKTt2YXIgbj1lLl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcyhpLG51bGwhPT0ocj10LmV2ZW50LnByb3BlcnRpZXMpJiZ2b2lkIDAhPT1yP3I6e30sbmV3IERhdGUpO3JldHVybiB0LmV2ZW50LnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbih7fSxuLHQuZXZlbnQucHJvcGVydGllcyksdH07cmV0dXJue25hbWU6XCJQb3N0SG9nIEpTXCIsdHlwZTpcImVucmljaG1lbnRcIix2ZXJzaW9uOlwiMS4wLjBcIixpc0xvYWRlZDooKT0+ITAsbG9hZDooKT0+UHJvbWlzZS5yZXNvbHZlKCksdHJhY2s6ZT0+dChlLGUuZXZlbnQuZXZlbnQpLHBhZ2U6ZT0+dChlLFwiJHBhZ2V2aWV3XCIpLGlkZW50aWZ5OmU9PnQoZSxcIiRpZGVudGlmeVwiKSxzY3JlZW46ZT0+dChlLFwiJHNjcmVlblwiKX19KShlKSkudGhlbigoKCk9Pnt0KCl9KSl9KSl9dmFyIEdyPVwicG9zdGhvZy1qc1wiO2Z1bmN0aW9uIEpyKGUpe3Zhcntvcmdhbml6YXRpb246dCxwcm9qZWN0SWQ6aSxwcmVmaXg6cixzZXZlcml0eUFsbG93TGlzdDpuPVtcImVycm9yXCJdfT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIHM9Pnt2YXIgbyxhLGwsdSxjO2lmKCEoXCIqXCI9PT1ufHxuLmluY2x1ZGVzKHMubGV2ZWwpKXx8IWUuX19sb2FkZWQpcmV0dXJuIHM7cy50YWdzfHwocy50YWdzPXt9KTt2YXIgZD1lLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIuY29uY2F0KGUuY29uZmlnLnRva2VuLFwiL3BlcnNvbi9cIikuY29uY2F0KGUuZ2V0X2Rpc3RpbmN0X2lkKCkpKTtzLnRhZ3NbXCJQb3N0SG9nIFBlcnNvbiBVUkxcIl09ZCxlLnNlc3Npb25SZWNvcmRpbmdTdGFydGVkKCkmJihzLnRhZ3NbXCJQb3N0SG9nIFJlY29yZGluZyBVUkxcIl09ZS5nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKHt3aXRoVGltZXN0YW1wOiEwfSkpO3ZhciBoPShudWxsPT09KG89cy5leGNlcHRpb24pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnZhbHVlcyl8fFtdLF89aC5tYXAoKGU9Pnooeih7fSxlKSx7fSx7c3RhY2t0cmFjZTplLnN0YWNrdHJhY2U/eih6KHt9LGUuc3RhY2t0cmFjZSkse30se3R5cGU6XCJyYXdcIixmcmFtZXM6KGUuc3RhY2t0cmFjZS5mcmFtZXN8fFtdKS5tYXAoKGU9Pnooeih7fSxlKSx7fSx7cGxhdGZvcm06XCJ3ZWI6amF2YXNjcmlwdFwifSkpKX0pOnZvaWQgMH0pKSkscD17JGV4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT09KGE9aFswXSl8fHZvaWQgMD09PWE/dm9pZCAwOmEudmFsdWUpfHxzLm1lc3NhZ2UsJGV4Y2VwdGlvbl90eXBlOm51bGw9PT0obD1oWzBdKXx8dm9pZCAwPT09bD92b2lkIDA6bC50eXBlLCRleGNlcHRpb25fcGVyc29uVVJMOmQsJGV4Y2VwdGlvbl9sZXZlbDpzLmxldmVsLCRleGNlcHRpb25fbGlzdDpfLCRzZW50cnlfZXZlbnRfaWQ6cy5ldmVudF9pZCwkc2VudHJ5X2V4Y2VwdGlvbjpzLmV4Y2VwdGlvbiwkc2VudHJ5X2V4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT09KHU9aFswXSl8fHZvaWQgMD09PXU/dm9pZCAwOnUudmFsdWUpfHxzLm1lc3NhZ2UsJHNlbnRyeV9leGNlcHRpb25fdHlwZTpudWxsPT09KGM9aFswXSl8fHZvaWQgMD09PWM/dm9pZCAwOmMudHlwZSwkc2VudHJ5X3RhZ3M6cy50YWdzfTtyZXR1cm4gdCYmaSYmKHAuJHNlbnRyeV91cmw9KHJ8fFwiaHR0cHM6Ly9zZW50cnkuaW8vb3JnYW5pemF0aW9ucy9cIikrdCtcIi9pc3N1ZXMvP3Byb2plY3Q9XCIraStcIiZxdWVyeT1cIitzLmV2ZW50X2lkKSxlLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHApLHN9fWNsYXNzIFlye2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy5uYW1lPUdyLHRoaXMuc2V0dXBPbmNlPWZ1bmN0aW9uKHMpe3MoSnIoZSx7b3JnYW5pemF0aW9uOnQscHJvamVjdElkOmkscHJlZml4OnIsc2V2ZXJpdHlBbGxvd0xpc3Q6bn0pKX19fXZhciBLcixYcj1udWxsIT10JiZ0LmxvY2F0aW9uP0l0KHQubG9jYXRpb24uaGFzaCxcIl9fcG9zdGhvZ1wiKXx8SXQobG9jYXRpb24uaGFzaCxcInN0YXRlXCIpOm51bGwsUXI9XCJfcG9zdEhvZ1Rvb2xiYXJQYXJhbXNcIixacj1CKFwiW1Rvb2xiYXJdXCIpOyFmdW5jdGlvbihlKXtlW2UuVU5JTklUSUFMSVpFRD0wXT1cIlVOSU5JVElBTElaRURcIixlW2UuTE9BRElORz0xXT1cIkxPQURJTkdcIixlW2UuTE9BREVEPTJdPVwiTE9BREVEXCJ9KEtyfHwoS3I9e30pKTtjbGFzcyBlbntjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9c2V0VG9vbGJhclN0YXRlKGUpe18ucGhfdG9vbGJhcl9zdGF0ZT1lfWdldFRvb2xiYXJTdGF0ZSgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9Xy5waF90b29sYmFyX3N0YXRlKSYmdm9pZCAwIT09ZT9lOktyLlVOSU5JVElBTElaRUR9bWF5YmVMb2FkVG9vbGJhcigpe3ZhciBlLGkscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnZvaWQgMCxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoIXR8fCFhKXJldHVybiExO3I9bnVsbCE9PShlPXIpJiZ2b2lkIDAhPT1lP2U6dC5sb2NhdGlvbixzPW51bGwhPT0oaT1zKSYmdm9pZCAwIT09aT9pOnQuaGlzdG9yeTt0cnl7aWYoIW4pe3RyeXt0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGVzdFwiLFwidGVzdFwiKSx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidGVzdFwiKX1jYXRjaChlKXtyZXR1cm4hMX1uPW51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlfXZhciBvLGw9WHJ8fEl0KHIuaGFzaCxcIl9fcG9zdGhvZ1wiKXx8SXQoci5oYXNoLFwic3RhdGVcIiksdT1sP1ooKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KGwpKSkpKXx8WigoKCk9PkpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGwpKSkpOm51bGw7cmV0dXJuIHUmJlwicGhfYXV0aG9yaXplXCI9PT11LmFjdGlvbj8oKG89dSkuc291cmNlPVwidXJsXCIsbyYmT2JqZWN0LmtleXMobykubGVuZ3RoPjAmJih1LmRlc2lyZWRIYXNoP3IuaGFzaD11LmRlc2lyZWRIYXNoOnM/cy5yZXBsYWNlU3RhdGUocy5zdGF0ZSxcIlwiLHIucGF0aG5hbWUrci5zZWFyY2gpOnIuaGFzaD1cIlwiKSk6KChvPUpTT04ucGFyc2Uobi5nZXRJdGVtKFFyKXx8XCJ7fVwiKSkuc291cmNlPVwibG9jYWxzdG9yYWdlXCIsZGVsZXRlIG8udXNlckludGVudCksISghby50b2tlbnx8dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4hPT1vLnRva2VuKSYmKHRoaXMubG9hZFRvb2xiYXIobyksITApfWNhdGNoKGUpe3JldHVybiExfX1fY2FsbExvYWRUb29sYmFyKGUpe3ZhciB0PV8ucGhfbG9hZF90b29sYmFyfHxfLnBoX2xvYWRfZWRpdG9yOyFPKHQpJiZJKHQpP3QoZSx0aGlzLmluc3RhbmNlKTpaci53YXJuKFwiTm8gdG9vbGJhciBsb2FkIGZ1bmN0aW9uIGZvdW5kXCIpfWxvYWRUb29sYmFyKGUpe3ZhciBpPSEobnVsbD09YXx8IWEuZ2V0RWxlbWVudEJ5SWQoVWUpKTtpZighdHx8aSlyZXR1cm4hMTt2YXIgcj1cImN1c3RvbVwiPT09dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLnJlZ2lvbiYmdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV90b29sYmFyX21ldHJpY3Msbj16KHooe3Rva2VuOnRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VufSxlKSx7fSx7YXBpVVJMOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIpfSxyP3tpbnN0cnVtZW50OiExfTp7fSk7aWYodC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShRcixKU09OLnN0cmluZ2lmeSh6KHooe30sbikse30se3NvdXJjZTp2b2lkIDB9KSkpLHRoaXMuZ2V0VG9vbGJhclN0YXRlKCk9PT1Lci5MT0FERUQpdGhpcy5fY2FsbExvYWRUb29sYmFyKG4pO2Vsc2UgaWYodGhpcy5nZXRUb29sYmFyU3RhdGUoKT09PUtyLlVOSU5JVElBTElaRUQpe3ZhciBzLG87dGhpcy5zZXRUb29sYmFyU3RhdGUoS3IuTE9BRElORyksbnVsbD09PShzPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PW98fG8uY2FsbChzLHRoaXMuaW5zdGFuY2UsXCJ0b29sYmFyXCIsKGU9PntpZihlKXJldHVybiBaci5lcnJvcihcIltUb29sYmFyXSBGYWlsZWQgdG8gbG9hZFwiLGUpLHZvaWQgdGhpcy5zZXRUb29sYmFyU3RhdGUoS3IuVU5JTklUSUFMSVpFRCk7dGhpcy5zZXRUb29sYmFyU3RhdGUoS3IuTE9BREVEKSx0aGlzLl9jYWxsTG9hZFRvb2xiYXIobil9KSksb2UodCxcInR1cmJvbGlua3M6bG9hZFwiLCgoKT0+e3RoaXMuc2V0VG9vbGJhclN0YXRlKEtyLlVOSU5JVElBTElaRUQpLHRoaXMubG9hZFRvb2xiYXIobil9KSl9cmV0dXJuITB9X2xvYWRFZGl0b3IoZSl7cmV0dXJuIHRoaXMubG9hZFRvb2xiYXIoZSl9bWF5YmVMb2FkRWRpdG9yKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnZvaWQgMCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiB0aGlzLm1heWJlTG9hZFRvb2xiYXIoZSx0LGkpfX12YXIgdG49QihcIltUcmFjaW5nSGVhZGVyc11cIik7Y2xhc3Mgcm57Y29uc3RydWN0b3IoZSl7Vyh0aGlzLFwiX3Jlc3RvcmVYSFJQYXRjaFwiLHZvaWQgMCksVyh0aGlzLFwiX3Jlc3RvcmVGZXRjaFBhdGNoXCIsdm9pZCAwKSxXKHRoaXMsXCJfc3RhcnRDYXB0dXJpbmdcIiwoKCk9Pnt2YXIgZSx0LGkscjtGKHRoaXMuX3Jlc3RvcmVYSFJQYXRjaCkmJihudWxsPT09KGU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zKXx8dm9pZCAwPT09dHx8dC5fcGF0Y2hYSFIodGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpO0YodGhpcy5fcmVzdG9yZUZldGNoUGF0Y2gpJiYobnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fHZvaWQgMD09PXJ8fHIuX3BhdGNoRmV0Y2godGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpfSkpLHRoaXMuaW5zdGFuY2U9ZX1fbG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC50cmFjaW5nSGVhZGVyc1BhdGNoRm5zJiZlKCksbnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJ0cmFjaW5nLWhlYWRlcnNcIiwodD0+e2lmKHQpcmV0dXJuIHRuLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk7ZSgpfSkpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKCl7dmFyIGUsdDt0aGlzLmluc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnM/dGhpcy5fbG9hZFNjcmlwdCh0aGlzLl9zdGFydENhcHR1cmluZyk6KG51bGw9PT0oZT10aGlzLl9yZXN0b3JlWEhSUGF0Y2gpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyksbnVsbD09PSh0PXRoaXMuX3Jlc3RvcmVGZXRjaFBhdGNoKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMuX3Jlc3RvcmVYSFJQYXRjaD12b2lkIDAsdGhpcy5fcmVzdG9yZUZldGNoUGF0Y2g9dm9pZCAwKX19dmFyIG5uPUIoXCJbV2ViIFZpdGFsc11cIiksc249OWU1O2NsYXNzIG9ue2NvbnN0cnVjdG9yKGUpe3ZhciB0O1codGhpcyxcIl9lbmFibGVkU2VydmVyU2lkZVwiLCExKSxXKHRoaXMsXCJfaW5pdGlhbGl6ZWRcIiwhMSksVyh0aGlzLFwiYnVmZmVyXCIse3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KSxXKHRoaXMsXCJfZmx1c2hUb0NhcHR1cmVcIiwoKCk9PntjbGVhclRpbWVvdXQodGhpcy5fZGVsYXllZEZsdXNoVGltZXIpLDAhPT10aGlzLmJ1ZmZlci5tZXRyaWNzLmxlbmd0aCYmKHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiR3ZWJfdml0YWxzXCIsdGhpcy5idWZmZXIubWV0cmljcy5yZWR1Y2UoKChlLHQpPT56KHooe30sZSkse30se1tcIiR3ZWJfdml0YWxzX1wiLmNvbmNhdCh0Lm5hbWUsXCJfZXZlbnRcIildOnooe30sdCksW1wiJHdlYl92aXRhbHNfXCIuY29uY2F0KHQubmFtZSxcIl92YWx1ZVwiKV06dC52YWx1ZX0pKSx7fSkpLHRoaXMuYnVmZmVyPXt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSl9KSksVyh0aGlzLFwiX2FkZFRvQnVmZmVyXCIsKGU9Pnt2YXIgdCxpPW51bGw9PT0odD10aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCk7aWYoRihpKSlubi5lcnJvcihcIkNvdWxkIG5vdCByZWFkIHNlc3Npb24gSUQuIERyb3BwaW5nIG1ldHJpY3MhXCIpO2Vsc2V7dGhpcy5idWZmZXI9dGhpcy5idWZmZXJ8fHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfTt2YXIgcj10aGlzLl9jdXJyZW50VVJMKCk7aWYoIUYocikpaWYoTyhudWxsPT1lP3ZvaWQgMDplLm5hbWUpfHxPKG51bGw9PWU/dm9pZCAwOmUudmFsdWUpKW5uLmVycm9yKFwiSW52YWxpZCBtZXRyaWMgcmVjZWl2ZWRcIixlKTtlbHNlIGlmKHRoaXMuX21heEFsbG93ZWRWYWx1ZSYmZS52YWx1ZT49dGhpcy5fbWF4QWxsb3dlZFZhbHVlKW5uLmVycm9yKFwiSWdub3JpbmcgbWV0cmljIHdpdGggdmFsdWUgPj0gXCIrdGhpcy5fbWF4QWxsb3dlZFZhbHVlLGUpO2Vsc2UgdGhpcy5idWZmZXIudXJsIT09ciYmKHRoaXMuX2ZsdXNoVG9DYXB0dXJlKCksdGhpcy5fZGVsYXllZEZsdXNoVGltZXI9c2V0VGltZW91dCh0aGlzLl9mbHVzaFRvQ2FwdHVyZSx0aGlzLmZsdXNoVG9DYXB0dXJlVGltZW91dE1zKSksRih0aGlzLmJ1ZmZlci51cmwpJiYodGhpcy5idWZmZXIudXJsPXIpLHRoaXMuYnVmZmVyLmZpcnN0TWV0cmljVGltZXN0YW1wPUYodGhpcy5idWZmZXIuZmlyc3RNZXRyaWNUaW1lc3RhbXApP0RhdGUubm93KCk6dGhpcy5idWZmZXIuZmlyc3RNZXRyaWNUaW1lc3RhbXAsZS5hdHRyaWJ1dGlvbiYmZS5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQmJihlLmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudD12b2lkIDApLHRoaXMuYnVmZmVyLm1ldHJpY3MucHVzaCh6KHooe30sZSkse30seyRjdXJyZW50X3VybDpyLCRzZXNzaW9uX2lkOmkuc2Vzc2lvbklkLCR3aW5kb3dfaWQ6aS53aW5kb3dJZCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pKSx0aGlzLmJ1ZmZlci5tZXRyaWNzLmxlbmd0aD09PXRoaXMuYWxsb3dlZE1ldHJpY3MubGVuZ3RoJiZ0aGlzLl9mbHVzaFRvQ2FwdHVyZSgpfX0pKSxXKHRoaXMsXCJfc3RhcnRDYXB0dXJpbmdcIiwoKCk9Pnt2YXIgZSx0LGkscixuPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fO0Yobil8fEYobi5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKXx8KHtvbkxDUDplLG9uQ0xTOnQsb25GQ1A6aSxvbklOUDpyfT1uLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpLGUmJnQmJmkmJnI/KHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkxDUFwiKT4tMSYmZSh0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJDTFNcIik+LTEmJnQodGhpcy5fYWRkVG9CdWZmZXIuYmluZCh0aGlzKSksdGhpcy5hbGxvd2VkTWV0cmljcy5pbmRleE9mKFwiRkNQXCIpPi0xJiZpKHRoaXMuX2FkZFRvQnVmZmVyLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIklOUFwiKT4tMSYmcih0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLl9pbml0aWFsaXplZD0hMCk6bm4uZXJyb3IoXCJ3ZWIgdml0YWxzIGNhbGxiYWNrcyBub3QgbG9hZGVkIC0gbm90IHN0YXJ0aW5nXCIpfSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbmFibGVkU2VydmVyU2lkZT0hKG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8IXQucHJvcHNbX2VdKSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0IGFsbG93ZWRNZXRyaWNzKCl7dmFyIGUsdCxpPVAodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDtyZXR1cm4gRihpKT8obnVsbD09PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW3ZlXSl8fFtcIkNMU1wiLFwiRkNQXCIsXCJJTlBcIixcIkxDUFwiXTppfWdldCBmbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcygpe3JldHVybihQKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19kZWxheWVkX2ZsdXNoX21zOnZvaWQgMCl8fDVlM31nZXQgX21heEFsbG93ZWRWYWx1ZSgpe3ZhciBlPVAodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSkmJk0odGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS5fX3dlYl92aXRhbHNfbWF4X3ZhbHVlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWU6c247cmV0dXJuIDA8ZSYmZTw9NmU0P3NuOmV9Z2V0IGlzRW5hYmxlZCgpe3ZhciBlPW51bGw9PWw/dm9pZCAwOmwucHJvdG9jb2w7aWYoXCJodHRwOlwiIT09ZSYmXCJodHRwczpcIiE9PWUpcmV0dXJuIG5uLmluZm8oXCJXZWIgVml0YWxzIGFyZSBkaXNhYmxlZCBvbiBub24taHR0cC9odHRwcyBwcm90b2NvbHNcIiksITE7dmFyIHQ9UCh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLndlYl92aXRhbHM6QSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlOnZvaWQgMDtyZXR1cm4gQSh0KT90OnRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLl9pbml0aWFsaXplZCYmKG5uLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLmxvYWRTY3JpcHQodGhpcy5fc3RhcnRDYXB0dXJpbmcpKX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD1QKGUuY2FwdHVyZVBlcmZvcm1hbmNlKSYmISFlLmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzLGk9UChlLmNhcHR1cmVQZXJmb3JtYW5jZSk/ZS5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJih0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbX2VdOnR9KSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbdmVdOml9KSksdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9bG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzJiZlKCksbnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJ3ZWItdml0YWxzXCIsKHQ9Pnt0P25uLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk6ZSgpfSkpfV9jdXJyZW50VVJMKCl7dmFyIGU9dD90LmxvY2F0aW9uLmhyZWY6dm9pZCAwO3JldHVybiBlfHxubi5lcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY3VycmVudCBVUkxcIiksZX19dmFyIGFuPUIoXCJbSGVhdG1hcHNdXCIpO2Z1bmN0aW9uIGxuKGUpe3JldHVybiBQKGUpJiZcImNsaWVudFhcImluIGUmJlwiY2xpZW50WVwiaW4gZSYmTShlLmNsaWVudFgpJiZNKGUuY2xpZW50WSl9Y2xhc3MgdW57Y29uc3RydWN0b3IoZSl7dmFyIHQ7Vyh0aGlzLFwicmFnZWNsaWNrc1wiLG5ldyBidCksVyh0aGlzLFwiX2VuYWJsZWRTZXJ2ZXJTaWRlXCIsITEpLFcodGhpcyxcIl9pbml0aWFsaXplZFwiLCExKSxXKHRoaXMsXCJfZmx1c2hJbnRlcnZhbFwiLG51bGwpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbmFibGVkU2VydmVyU2lkZT0hKG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8IXQucHJvcHNbZGVdKX1nZXQgZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcygpe3ZhciBlPTVlMztyZXR1cm4gUCh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKSYmdGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcy5mbHVzaF9pbnRlcnZhbF9taWxsaXNlY29uZHMmJihlPXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzKSxlfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gRih0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKT9GKHRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwcyk/dGhpcy5fZW5hYmxlZFNlcnZlclNpZGU6dGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX2hlYXRtYXBzOiExIT09dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwc31zdGFydElmRW5hYmxlZCgpe2lmKHRoaXMuaXNFbmFibGVkKXtpZih0aGlzLl9pbml0aWFsaXplZClyZXR1cm47YW4uaW5mbyhcInN0YXJ0aW5nLi4uXCIpLHRoaXMuX3NldHVwTGlzdGVuZXJzKCksdGhpcy5fZmx1c2hJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLmZsdXNoLmJpbmQodGhpcyksdGhpcy5mbHVzaEludGVydmFsTWlsbGlzZWNvbmRzKX1lbHNle3ZhciBlLHQ7Y2xlYXJJbnRlcnZhbChudWxsIT09KGU9dGhpcy5fZmx1c2hJbnRlcnZhbCkmJnZvaWQgMCE9PWU/ZTp2b2lkIDApLG51bGw9PT0odD10aGlzLmRlYWRDbGlja3NDYXB0dXJlKXx8dm9pZCAwPT09dHx8dC5zdG9wKCksdGhpcy5nZXRBbmRDbGVhckJ1ZmZlcigpfX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD0hIWUuaGVhdG1hcHM7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2RlXTp0fSksdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0QW5kQ2xlYXJCdWZmZXIoKXt2YXIgZT10aGlzLmJ1ZmZlcjtyZXR1cm4gdGhpcy5idWZmZXI9dm9pZCAwLGV9X29uRGVhZENsaWNrKGUpe3RoaXMuX29uQ2xpY2soZS5vcmlnaW5hbEV2ZW50LFwiZGVhZGNsaWNrXCIpfV9zZXR1cExpc3RlbmVycygpe3QmJmEmJihvZSh0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5mbHVzaC5iaW5kKHRoaXMpKSxvZShhLFwiY2xpY2tcIiwoZT0+dGhpcy5fb25DbGljayhlfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpKSx7Y2FwdHVyZTohMH0pLG9lKGEsXCJtb3VzZW1vdmVcIiwoZT0+dGhpcy5fb25Nb3VzZU1vdmUoZXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSkse2NhcHR1cmU6ITB9KSx0aGlzLmRlYWRDbGlja3NDYXB0dXJlPW5ldyBzaSh0aGlzLmluc3RhbmNlLHJpLHRoaXMuX29uRGVhZENsaWNrLmJpbmQodGhpcykpLHRoaXMuZGVhZENsaWNrc0NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLl9pbml0aWFsaXplZD0hMCl9X2dldFByb3BlcnRpZXMoZSxpKXt2YXIgcj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWSgpLG49dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFgoKSxzPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxFbGVtZW50KCksbz1mdW5jdGlvbihlLGkscil7Zm9yKHZhciBuPWU7biYmR2UobikmJiFKZShuLFwiYm9keVwiKTspe2lmKG49PT1yKXJldHVybiExO2lmKG0oaSxudWxsPT10P3ZvaWQgMDp0LmdldENvbXB1dGVkU3R5bGUobikucG9zaXRpb24pKXJldHVybiEwO249bnQobil9cmV0dXJuITF9KGl0KGUpLFtcImZpeGVkXCIsXCJzdGlja3lcIl0scyk7cmV0dXJue3g6ZS5jbGllbnRYKyhvPzA6bikseTplLmNsaWVudFkrKG8/MDpyKSx0YXJnZXRfZml4ZWQ6byx0eXBlOml9fV9vbkNsaWNrKGUpe3ZhciB0LGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiY2xpY2tcIjtpZighVmUoZS50YXJnZXQpJiZsbihlKSl7dmFyIHI9dGhpcy5fZ2V0UHJvcGVydGllcyhlLGkpO251bGwhPT0odD10aGlzLnJhZ2VjbGlja3MpJiZ2b2lkIDAhPT10JiZ0LmlzUmFnZUNsaWNrKGUuY2xpZW50WCxlLmNsaWVudFksKG5ldyBEYXRlKS5nZXRUaW1lKCkpJiZ0aGlzLl9jYXB0dXJlKHooeih7fSxyKSx7fSx7dHlwZTpcInJhZ2VjbGlja1wifSkpLHRoaXMuX2NhcHR1cmUocil9fV9vbk1vdXNlTW92ZShlKXshVmUoZS50YXJnZXQpJiZsbihlKSYmKGNsZWFyVGltZW91dCh0aGlzLl9tb3VzZU1vdmVUaW1lb3V0KSx0aGlzLl9tb3VzZU1vdmVUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5fY2FwdHVyZSh0aGlzLl9nZXRQcm9wZXJ0aWVzKGUsXCJtb3VzZW1vdmVcIikpfSksNTAwKSl9X2NhcHR1cmUoZSl7aWYodCl7dmFyIGk9dC5sb2NhdGlvbi5ocmVmO3RoaXMuYnVmZmVyPXRoaXMuYnVmZmVyfHx7fSx0aGlzLmJ1ZmZlcltpXXx8KHRoaXMuYnVmZmVyW2ldPVtdKSx0aGlzLmJ1ZmZlcltpXS5wdXNoKGUpfX1mbHVzaCgpe3RoaXMuYnVmZmVyJiYhQyh0aGlzLmJ1ZmZlcikmJnRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkaGVhdG1hcFwiLHskaGVhdG1hcF9kYXRhOnRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX0pfX1jbGFzcyBjbntjb25zdHJ1Y3RvcihlKXt0aGlzLl9pbnN0YW5jZT1lfWRvUGFnZVZpZXcoZSxpKXt2YXIgcixuPXRoaXMuX3ByZXZpb3VzUGFnZVZpZXdQcm9wZXJ0aWVzKGUsaSk7cmV0dXJuIHRoaXMuX2N1cnJlbnRQYWdldmlldz17cGF0aG5hbWU6bnVsbCE9PShyPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24ucGF0aG5hbWUpJiZ2b2lkIDAhPT1yP3I6XCJcIixwYWdlVmlld0lkOmksdGltZXN0YW1wOmV9LHRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIucmVzZXRDb250ZXh0KCksbn1kb1BhZ2VMZWF2ZShlKXt2YXIgdDtyZXR1cm4gdGhpcy5fcHJldmlvdXNQYWdlVmlld1Byb3BlcnRpZXMoZSxudWxsPT09KHQ9dGhpcy5fY3VycmVudFBhZ2V2aWV3KXx8dm9pZCAwPT09dD92b2lkIDA6dC5wYWdlVmlld0lkKX1kb0V2ZW50KCl7dmFyIGU7cmV0dXJueyRwYWdldmlld19pZDpudWxsPT09KGU9dGhpcy5fY3VycmVudFBhZ2V2aWV3KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wYWdlVmlld0lkfX1fcHJldmlvdXNQYWdlVmlld1Byb3BlcnRpZXMoZSx0KXt2YXIgaT10aGlzLl9jdXJyZW50UGFnZXZpZXc7aWYoIWkpcmV0dXJueyRwYWdldmlld19pZDp0fTt2YXIgcj17JHBhZ2V2aWV3X2lkOnQsJHByZXZfcGFnZXZpZXdfaWQ6aS5wYWdlVmlld0lkfSxuPXRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIuZ2V0Q29udGV4dCgpO2lmKG4mJiF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllcyl7dmFye21heFNjcm9sbEhlaWdodDpzLGxhc3RTY3JvbGxZOm8sbWF4U2Nyb2xsWTphLG1heENvbnRlbnRIZWlnaHQ6bCxsYXN0Q29udGVudFk6dSxtYXhDb250ZW50WTpjfT1uO2lmKCEoRihzKXx8RihvKXx8RihhKXx8RihsKXx8Rih1KXx8RihjKSkpe3M9TWF0aC5jZWlsKHMpLG89TWF0aC5jZWlsKG8pLGE9TWF0aC5jZWlsKGEpLGw9TWF0aC5jZWlsKGwpLHU9TWF0aC5jZWlsKHUpLGM9TWF0aC5jZWlsKGMpO3ZhciBkPXM8PTE/MTpKaShvL3MsMCwxKSxoPXM8PTE/MTpKaShhL3MsMCwxKSxfPWw8PTE/MTpKaSh1L2wsMCwxKSxwPWw8PTE/MTpKaShjL2wsMCwxKTtyPUsocix7JHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGw6bywkcHJldl9wYWdldmlld19sYXN0X3Njcm9sbF9wZXJjZW50YWdlOmQsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbDphLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGxfcGVyY2VudGFnZTpoLCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudDp1LCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudF9wZXJjZW50YWdlOl8sJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnQ6YywkcHJldl9wYWdldmlld19tYXhfY29udGVudF9wZXJjZW50YWdlOnB9KX19cmV0dXJuIGkucGF0aG5hbWUmJihyLiRwcmV2X3BhZ2V2aWV3X3BhdGhuYW1lPWkucGF0aG5hbWUpLGkudGltZXN0YW1wJiYoci4kcHJldl9wYWdldmlld19kdXJhdGlvbj0oZS5nZXRUaW1lKCktaS50aW1lc3RhbXAuZ2V0VGltZSgpKS8xZTMpLHJ9fWNsYXNzIGRue2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZX1zZW5kRXhjZXB0aW9uRXZlbnQoZSl7dGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJGV4Y2VwdGlvblwiLGUse19ub1RydW5jYXRlOiEwLF9iYXRjaEtleTpcImV4Y2VwdGlvbkV2ZW50XCJ9KX19dmFyIGhuPVwiTW9iaWxlXCIsX249XCJpT1NcIixwbj1cIkFuZHJvaWRcIix2bj1cIlRhYmxldFwiLGduPXBuK1wiIFwiK3ZuLGZuPVwiaVBhZFwiLG1uPVwiQXBwbGVcIix5bj1tbitcIiBXYXRjaFwiLGJuPVwiU2FmYXJpXCIsd249XCJCbGFja0JlcnJ5XCIsU249XCJTYW1zdW5nXCIsa249U24rXCJCcm93c2VyXCIsRW49U24rXCIgSW50ZXJuZXRcIix4bj1cIkNocm9tZVwiLEluPXhuK1wiIE9TXCIsUG49eG4rXCIgXCIrX24sQ249XCJJbnRlcm5ldCBFeHBsb3JlclwiLEZuPUNuK1wiIFwiK2huLFRuPVwiT3BlcmFcIixSbj1UbitcIiBNaW5pXCIsJG49XCJFZGdlXCIsT249XCJNaWNyb3NvZnQgXCIrJG4sTW49XCJGaXJlZm94XCIsQW49TW4rXCIgXCIrX24sTG49XCJOaW50ZW5kb1wiLERuPVwiUGxheVN0YXRpb25cIixxbj1cIlhib3hcIixObj1wbitcIiBcIitobixCbj1obitcIiBcIitibixIbj1cIldpbmRvd3NcIixqbj1IbitcIiBQaG9uZVwiLFVuPVwiTm9raWFcIix6bj1cIk91eWFcIixXbj1cIkdlbmVyaWNcIixWbj1XbitcIiBcIitobi50b0xvd2VyQ2FzZSgpLEduPVduK1wiIFwiK3ZuLnRvTG93ZXJDYXNlKCksSm49XCJLb25xdWVyb3JcIixZbj1cIihcXFxcZCsoXFxcXC5cXFxcZCspPylcIixLbj1uZXcgUmVnRXhwKFwiVmVyc2lvbi9cIitZbiksWG49bmV3IFJlZ0V4cChxbixcImlcIiksUW49bmV3IFJlZ0V4cChEbitcIiBcXFxcdytcIixcImlcIiksWm49bmV3IFJlZ0V4cChMbitcIiBcXFxcdytcIixcImlcIiksZXM9bmV3IFJlZ0V4cCh3bitcInxQbGF5Qm9va3xCQjEwXCIsXCJpXCIpLHRzPXtcIk5UMy41MVwiOlwiTlQgMy4xMVwiLFwiTlQ0LjBcIjpcIk5UIDQuMFwiLFwiNS4wXCI6XCIyMDAwXCIsNS4xOlwiWFBcIiw1LjI6XCJYUFwiLFwiNi4wXCI6XCJWaXN0YVwiLDYuMTpcIjdcIiw2LjI6XCI4XCIsNi4zOlwiOC4xXCIsNi40OlwiMTBcIixcIjEwLjBcIjpcIjEwXCJ9O3ZhciBpcyxycz0oZSx0KT0+dCYmbSh0LG1uKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZSxibikmJiFtKGUseG4pJiYhbShlLHBuKX0oZSksbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxcIlwiLG0oZSxcIiBPUFIvXCIpJiZtKGUsXCJNaW5pXCIpP1JuOm0oZSxcIiBPUFIvXCIpP1RuOmVzLnRlc3QoZSk/d246bShlLFwiSUVcIitobil8fG0oZSxcIldQRGVza3RvcFwiKT9GbjptKGUsa24pP0VuOm0oZSwkbil8fG0oZSxcIkVkZy9cIik/T246bShlLFwiRkJJT1NcIik/XCJGYWNlYm9vayBcIitobjptKGUsXCJVQ1dFQlwiKXx8bShlLFwiVUNCcm93c2VyXCIpP1wiVUMgQnJvd3NlclwiOm0oZSxcIkNyaU9TXCIpP1BuOm0oZSxcIkNyTW9cIil8fG0oZSx4bik/eG46bShlLHBuKSYmbShlLGJuKT9ObjptKGUsXCJGeGlPU1wiKT9BbjptKGUudG9Mb3dlckNhc2UoKSxKbi50b0xvd2VyQ2FzZSgpKT9KbjpycyhlLHQpP20oZSxobik/Qm46Ym46bShlLE1uKT9NbjptKGUsXCJNU0lFXCIpfHxtKGUsXCJUcmlkZW50L1wiKT9DbjptKGUsXCJHZWNrb1wiKT9NbjpcIlwifSxzcz17W0ZuXTpbbmV3IFJlZ0V4cChcInJ2OlwiK1luKV0sW09uXTpbbmV3IFJlZ0V4cCgkbitcIj9cXFxcL1wiK1luKV0sW3huXTpbbmV3IFJlZ0V4cChcIihcIit4bitcInxDck1vKVxcXFwvXCIrWW4pXSxbUG5dOltuZXcgUmVnRXhwKFwiQ3JpT1NcXFxcL1wiK1luKV0sXCJVQyBCcm93c2VyXCI6W25ldyBSZWdFeHAoXCIoVUNCcm93c2VyfFVDV0VCKVxcXFwvXCIrWW4pXSxbYm5dOltLbl0sW0JuXTpbS25dLFtUbl06W25ldyBSZWdFeHAoXCIoT3BlcmF8T1BSKVxcXFwvXCIrWW4pXSxbTW5dOltuZXcgUmVnRXhwKE1uK1wiXFxcXC9cIitZbildLFtBbl06W25ldyBSZWdFeHAoXCJGeGlPU1xcXFwvXCIrWW4pXSxbSm5dOltuZXcgUmVnRXhwKFwiS29ucXVlcm9yWzovXT9cIitZbixcImlcIildLFt3bl06W25ldyBSZWdFeHAod24rXCIgXCIrWW4pLEtuXSxbTm5dOltuZXcgUmVnRXhwKFwiYW5kcm9pZFxcXFxzXCIrWW4sXCJpXCIpXSxbRW5dOltuZXcgUmVnRXhwKGtuK1wiXFxcXC9cIitZbildLFtDbl06W25ldyBSZWdFeHAoXCIocnY6fE1TSUUgKVwiK1luKV0sTW96aWxsYTpbbmV3IFJlZ0V4cChcInJ2OlwiK1luKV19LG9zPVtbbmV3IFJlZ0V4cChxbitcIjsgXCIrcW4rXCIgKC4qPylbKTtdXCIsXCJpXCIpLGU9PltxbixlJiZlWzFdfHxcIlwiXV0sW25ldyBSZWdFeHAoTG4sXCJpXCIpLFtMbixcIlwiXV0sW25ldyBSZWdFeHAoRG4sXCJpXCIpLFtEbixcIlwiXV0sW2VzLFt3bixcIlwiXV0sW25ldyBSZWdFeHAoSG4sXCJpXCIpLChlLHQpPT57aWYoL1Bob25lLy50ZXN0KHQpfHwvV1BEZXNrdG9wLy50ZXN0KHQpKXJldHVybltqbixcIlwiXTtpZihuZXcgUmVnRXhwKGhuKS50ZXN0KHQpJiYhL0lFTW9iaWxlXFxiLy50ZXN0KHQpKXJldHVybltIbitcIiBcIitobixcIlwiXTt2YXIgaT0vV2luZG93cyBOVCAoWzAtOS5dKykvaS5leGVjKHQpO2lmKGkmJmlbMV0pe3ZhciByPWlbMV0sbj10c1tyXXx8XCJcIjtyZXR1cm4vYXJtL2kudGVzdCh0KSYmKG49XCJSVFwiKSxbSG4sbl19cmV0dXJuW0huLFwiXCJdfV0sWy8oKGlQaG9uZXxpUGFkfGlQb2QpLio/T1MgKFxcZCspXyhcXGQrKV8/KFxcZCspP3xpUGhvbmUpLyxlPT57aWYoZSYmZVszXSl7dmFyIHQ9W2VbM10sZVs0XSxlWzVdfHxcIjBcIl07cmV0dXJuW19uLHQuam9pbihcIi5cIildfXJldHVybltfbixcIlwiXX1dLFsvKHdhdGNoLipcXC8oXFxkK1xcLlxcZCtcXC5cXGQrKXx3YXRjaCBvcywoXFxkK1xcLlxcZCspLCkvaSxlPT57dmFyIHQ9XCJcIjtyZXR1cm4gZSYmZS5sZW5ndGg+PTMmJih0PUYoZVsyXSk/ZVszXTplWzJdKSxbXCJ3YXRjaE9TXCIsdF19XSxbbmV3IFJlZ0V4cChcIihcIitwbitcIiAoXFxcXGQrKVxcXFwuKFxcXFxkKylcXFxcLj8oXFxcXGQrKT98XCIrcG4rXCIpXCIsXCJpXCIpLGU9PntpZihlJiZlWzJdKXt2YXIgdD1bZVsyXSxlWzNdLGVbNF18fFwiMFwiXTtyZXR1cm5bcG4sdC5qb2luKFwiLlwiKV19cmV0dXJuW3BuLFwiXCJdfV0sWy9NYWMgT1MgWCAoXFxkKylbXy5dKFxcZCspW18uXT8oXFxkKyk/L2ksZT0+e3ZhciB0PVtcIk1hYyBPUyBYXCIsXCJcIl07aWYoZSYmZVsxXSl7dmFyIGk9W2VbMV0sZVsyXSxlWzNdfHxcIjBcIl07dFsxXT1pLmpvaW4oXCIuXCIpfXJldHVybiB0fV0sWy9NYWMvaSxbXCJNYWMgT1MgWFwiLFwiXCJdXSxbL0NyT1MvLFtJbixcIlwiXV0sWy9MaW51eHxkZWJpYW4vaSxbXCJMaW51eFwiLFwiXCJdXV0sYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIFpuLnRlc3QoZSk/TG46UW4udGVzdChlKT9EbjpYbi50ZXN0KGUpP3FuOm5ldyBSZWdFeHAoem4sXCJpXCIpLnRlc3QoZSk/em46bmV3IFJlZ0V4cChcIihcIitqbitcInxXUERlc2t0b3ApXCIsXCJpXCIpLnRlc3QoZSk/am46L2lQYWQvLnRlc3QoZSk/Zm46L2lQb2QvLnRlc3QoZSk/XCJpUG9kIFRvdWNoXCI6L2lQaG9uZS8udGVzdChlKT9cImlQaG9uZVwiOi8od2F0Y2gpKD86ID9vc1ssL118XFxkLFxcZFxcLylbXFxkLl0rL2kudGVzdChlKT95bjplcy50ZXN0KGUpP3duOi8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaS50ZXN0KGUpP1wiS29ib1wiOm5ldyBSZWdFeHAoVW4sXCJpXCIpLnRlc3QoZSk/VW46LyhrZlthLXpdezJ9d2l8YWVvW2Mtcl17Mn0pKCBidWl8XFwpKS9pLnRlc3QoZSl8fC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pLnRlc3QoZSk/XCJLaW5kbGUgRmlyZVwiOi8oQW5kcm9pZHxaVEUpL2kudGVzdChlKT8hbmV3IFJlZ0V4cChobikudGVzdChlKXx8Lyg5MTM4QnxUQjc4MkJ8TmV4dXMgWzk3XXxwaXhlbCBjfEhVQVdFSVNIVHxCVFZ8bm9ibGUgbm9va3xzbWFydCB1bHRyYSA2KS9pLnRlc3QoZSk/L3BpeGVsW1xcZGF4bCBdezEsNn0vaS50ZXN0KGUpJiYhL3BpeGVsIGMvaS50ZXN0KGUpfHwvKGh1YXdlaW1lZC1hbDAwfHRhaC18QVBBfFNNLUc5MnxpOTgwfHp0ZXxVMzA0QUEpL2kudGVzdChlKXx8L2xteTQ3di9pLnRlc3QoZSkmJiEvUVRBUVozL2kudGVzdChlKT9wbjpnbjpwbjpuZXcgUmVnRXhwKFwiKHBkYXxcIitobitcIilcIixcImlcIikudGVzdChlKT9WbjpuZXcgUmVnRXhwKHZuLFwiaVwiKS50ZXN0KGUpJiYhbmV3IFJlZ0V4cCh2bitcIiBwY1wiLFwiaVwiKS50ZXN0KGUpP0duOlwiXCJ9LGxzPVwiaHR0cHM/Oi8vKC4qKVwiLHVzPVtcImdjbGlkXCIsXCJnY2xzcmNcIixcImRjbGlkXCIsXCJnYnJhaWRcIixcIndicmFpZFwiLFwiZmJjbGlkXCIsXCJtc2Nsa2lkXCIsXCJ0d2NsaWRcIixcImxpX2ZhdF9pZFwiLFwiaWdzaGlkXCIsXCJ0dGNsaWRcIixcInJkdF9jaWRcIixcImlyY2xpZFwiLFwiX2t4XCJdLGNzPVgoW1widXRtX3NvdXJjZVwiLFwidXRtX21lZGl1bVwiLFwidXRtX2NhbXBhaWduXCIsXCJ1dG1fY29udGVudFwiLFwidXRtX3Rlcm1cIixcImdhZF9zb3VyY2VcIixcIm1jX2NpZFwiXSx1cyksZHM9XCI8bWFza2VkPlwiLGhzPXtjYW1wYWlnblBhcmFtczpmdW5jdGlvbigpe3ZhcntjdXN0b21UcmFja2VkUGFyYW1zOmUsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dCxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOml9PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZighYSlyZXR1cm57fTt2YXIgcj10P1goW10sdXMsaXx8W10pOltdO3JldHVybiB0aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21VcmwoeHQoYS5VUkwscixkcyksZSl9LF9jYW1wYWlnblBhcmFtc0Zyb21Vcmw6ZnVuY3Rpb24oZSx0KXt2YXIgaT1jcy5jb25jYXQodHx8W10pLHI9e307cmV0dXJuIFkoaSwoZnVuY3Rpb24odCl7dmFyIGk9RXQoZSx0KTtyW3RdPWl8fG51bGx9KSkscn0sX3NlYXJjaEVuZ2luZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8wPT09ZS5zZWFyY2gobHMrXCJnb29nbGUuKFteLz9dKilcIik/XCJnb29nbGVcIjowPT09ZS5zZWFyY2gobHMrXCJiaW5nLmNvbVwiKT9cImJpbmdcIjowPT09ZS5zZWFyY2gobHMrXCJ5YWhvby5jb21cIik/XCJ5YWhvb1wiOjA9PT1lLnNlYXJjaChscytcImR1Y2tkdWNrZ28uY29tXCIpP1wiZHVja2R1Y2tnb1wiOm51bGw6bnVsbH0sX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9aHMuX3NlYXJjaEVuZ2luZShlKSxpPVwieWFob29cIiE9dD9cInFcIjpcInBcIixyPXt9O2lmKCEkKHQpKXtyLiRzZWFyY2hfZW5naW5lPXQ7dmFyIG49YT9FdChhLnJlZmVycmVyLGkpOlwiXCI7bi5sZW5ndGgmJihyLnBoX2tleXdvcmQ9bil9cmV0dXJuIHJ9LHNlYXJjaEluZm86ZnVuY3Rpb24oKXt2YXIgZT1udWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyO3JldHVybiBlP3RoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoZSk6e319LGJyb3dzZXI6bnMsYnJvd3NlclZlcnNpb246ZnVuY3Rpb24oZSx0KXt2YXIgaT1ucyhlLHQpLHI9c3NbaV07aWYoRihyKSlyZXR1cm4gbnVsbDtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIHM9cltuXSxvPWUubWF0Y2gocyk7aWYobylyZXR1cm4gcGFyc2VGbG9hdChvW28ubGVuZ3RoLTJdKX1yZXR1cm4gbnVsbH0sYnJvd3Nlckxhbmd1YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZX0sYnJvd3Nlckxhbmd1YWdlUHJlZml4OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5icm93c2VyTGFuZ3VhZ2UoKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KFwiLVwiKVswXTp2b2lkIDB9LG9zOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8b3MubGVuZ3RoO3QrKyl7dmFyW2kscl09b3NbdF0sbj1pLmV4ZWMoZSkscz1uJiYoSShyKT9yKG4sZSk6cik7aWYocylyZXR1cm4gc31yZXR1cm5bXCJcIixcIlwiXX0sZGV2aWNlOmFzLGRldmljZVR5cGU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXMoZSk7cmV0dXJuIHQ9PT1mbnx8dD09PWdufHxcIktvYm9cIj09PXR8fFwiS2luZGxlIEZpcmVcIj09PXR8fHQ9PT1Hbj92bjp0PT09TG58fHQ9PT1xbnx8dD09PURufHx0PT09em4/XCJDb25zb2xlXCI6dD09PXluP1wiV2VhcmFibGVcIjp0P2huOlwiRGVza3RvcFwifSxyZWZlcnJlcjpmdW5jdGlvbigpe3JldHVybihudWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyKXx8XCIkZGlyZWN0XCJ9LHJlZmVycmluZ0RvbWFpbjpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT1hJiZhLnJlZmVycmVyJiYobnVsbD09PShlPVN0KGEucmVmZXJyZXIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5ob3N0KXx8XCIkZGlyZWN0XCJ9LHJlZmVycmVySW5mbzpmdW5jdGlvbigpe3JldHVybnskcmVmZXJyZXI6dGhpcy5yZWZlcnJlcigpLCRyZWZlcnJpbmdfZG9tYWluOnRoaXMucmVmZXJyaW5nRG9tYWluKCl9fSxwZXJzb25JbmZvOmZ1bmN0aW9uKCl7dmFye21hc2tQZXJzb25hbERhdGFQcm9wZXJ0aWVzOmUsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0fT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT1lP1goW10sdXMsdHx8W10pOltdLHI9bnVsbD09bD92b2lkIDA6bC5ocmVmLnN1YnN0cmluZygwLDFlMyk7cmV0dXJue3I6dGhpcy5yZWZlcnJlcigpLnN1YnN0cmluZygwLDFlMyksdTpyP3h0KHIsaSxkcyk6dm9pZCAwfX0scGVyc29uUHJvcHNGcm9tSW5mbzpmdW5jdGlvbihlKXt2YXIgdCx7cjppLHU6cn09ZSxuPXskcmVmZXJyZXI6aSwkcmVmZXJyaW5nX2RvbWFpbjpudWxsPT1pP3ZvaWQgMDpcIiRkaXJlY3RcIj09aT9cIiRkaXJlY3RcIjpudWxsPT09KHQ9U3QoaSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhvc3R9O2lmKHIpe24uJGN1cnJlbnRfdXJsPXI7dmFyIHM9U3Qocik7bi4kaG9zdD1udWxsPT1zP3ZvaWQgMDpzLmhvc3Qsbi4kcGF0aG5hbWU9bnVsbD09cz92b2lkIDA6cy5wYXRobmFtZTt2YXIgbz10aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21Vcmwocik7SyhuLG8pfWlmKGkpe3ZhciBhPXRoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoaSk7SyhuLGEpfXJldHVybiBufSxpbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBlcnNvblByb3BzRnJvbUluZm8oZSksaT17fTtyZXR1cm4gWSh0LChmdW5jdGlvbihlLHQpe2lbXCIkaW5pdGlhbF9cIi5jb25jYXQoYih0KSldPWV9KSksaX0sdGltZXpvbmU6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX1jYXRjaChlKXtyZXR1cm59fSx0aW1lem9uZU9mZnNldDpmdW5jdGlvbigpe3RyeXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCl9Y2F0Y2goZSl7cmV0dXJufX0scHJvcGVydGllczpmdW5jdGlvbigpe3ZhcnttYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczplLGN1c3RvbVBlcnNvbmFsRGF0YVByb3BlcnRpZXM6aX09YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKCFoKXJldHVybnt9O3ZhciByPWU/WChbXSx1cyxpfHxbXSk6W10sW24sc109aHMub3MoaCk7cmV0dXJuIEsodGUoeyRvczpuLCRvc192ZXJzaW9uOnMsJGJyb3dzZXI6aHMuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpLCRkZXZpY2U6aHMuZGV2aWNlKGgpLCRkZXZpY2VfdHlwZTpocy5kZXZpY2VUeXBlKGgpLCR0aW1lem9uZTpocy50aW1lem9uZSgpLCR0aW1lem9uZV9vZmZzZXQ6aHMudGltZXpvbmVPZmZzZXQoKX0pLHskY3VycmVudF91cmw6eHQobnVsbD09bD92b2lkIDA6bC5ocmVmLHIsZHMpLCRob3N0Om51bGw9PWw/dm9pZCAwOmwuaG9zdCwkcGF0aG5hbWU6bnVsbD09bD92b2lkIDA6bC5wYXRobmFtZSwkcmF3X3VzZXJfYWdlbnQ6aC5sZW5ndGg+MWUzP2guc3Vic3RyaW5nKDAsOTk3KStcIi4uLlwiOmgsJGJyb3dzZXJfdmVyc2lvbjpocy5icm93c2VyVmVyc2lvbihoLG5hdmlnYXRvci52ZW5kb3IpLCRicm93c2VyX2xhbmd1YWdlOmhzLmJyb3dzZXJMYW5ndWFnZSgpLCRicm93c2VyX2xhbmd1YWdlX3ByZWZpeDpocy5icm93c2VyTGFuZ3VhZ2VQcmVmaXgoKSwkc2NyZWVuX2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi5oZWlnaHQsJHNjcmVlbl93aWR0aDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi53aWR0aCwkdmlld3BvcnRfaGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuaW5uZXJIZWlnaHQsJHZpZXdwb3J0X3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuaW5uZXJXaWR0aCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOnAuTElCX1ZFUlNJT04sJGluc2VydF9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApLCR0aW1lOkRhdGUubm93KCkvMWUzfSl9LHBlb3BsZV9wcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7aWYoIWgpcmV0dXJue307dmFyW2UsdF09aHMub3MoaCk7cmV0dXJuIEsodGUoeyRvczplLCRvc192ZXJzaW9uOnQsJGJyb3dzZXI6aHMuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpfSkseyRicm93c2VyX3ZlcnNpb246aHMuYnJvd3NlclZlcnNpb24oaCxuYXZpZ2F0b3IudmVuZG9yKX0pfX0sX3M9QihcIltGZWF0dXJlRmxhZ3NdXCIpLHBzPVwiJGFjdGl2ZV9mZWF0dXJlX2ZsYWdzXCIsdnM9XCIkb3ZlcnJpZGVfZmVhdHVyZV9mbGFnc1wiLGdzPVwiJGZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLGZzPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLG1zPVwiJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkXCIseXM9ZT0+e3ZhciB0PXt9O2Zvcih2YXJbaSxyXW9mIFEoZXx8e30pKXImJih0W2ldPXIpO3JldHVybiB0fSxicz1lPT57dmFyIHQ9ZS5mbGFncztyZXR1cm4gdD8oZS5mZWF0dXJlRmxhZ3M9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKHQpLm1hcCgoZT0+e3ZhciBpO3JldHVybltlLG51bGwhPT0oaT10W2VdLnZhcmlhbnQpJiZ2b2lkIDAhPT1pP2k6dFtlXS5lbmFibGVkXX0pKSksZS5mZWF0dXJlRmxhZ1BheWxvYWRzPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyh0KS5maWx0ZXIoKGU9PnRbZV0uZW5hYmxlZCkpLmZpbHRlcigoZT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dFtlXS5tZXRhZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGF5bG9hZH0pKS5tYXAoKGU9Pnt2YXIgaTtyZXR1cm5bZSxudWxsPT09KGk9dFtlXS5tZXRhZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGF5bG9hZF19KSkpKTpfcy53YXJuKFwiVXNpbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludC4gUGxlYXNlIHVwZ3JhZGUgeW91ciBQb3N0SG9nIHNlcnZlciB0byB0aGUgbGF0ZXN0IHZlcnNpb25cIiksZX07IWZ1bmN0aW9uKGUpe2UuRmVhdHVyZUZsYWdzPVwiZmVhdHVyZV9mbGFnc1wiLGUuUmVjb3JkaW5ncz1cInJlY29yZGluZ3NcIn0oaXN8fChpcz17fSkpO2NsYXNzIHdze2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl9vdmVycmlkZV93YXJuaW5nXCIsITEpLFcodGhpcyxcIl9oYXNMb2FkZWRGbGFnc1wiLCExKSxXKHRoaXMsXCJfcmVxdWVzdEluRmxpZ2h0XCIsITEpLFcodGhpcyxcIl9yZWxvYWRpbmdEaXNhYmxlZFwiLCExKSxXKHRoaXMsXCJfYWRkaXRpb25hbFJlbG9hZFJlcXVlc3RlZFwiLCExKSxXKHRoaXMsXCJfZGVjaWRlQ2FsbGVkXCIsITEpLFcodGhpcyxcIl9mbGFnc0xvYWRlZEZyb21SZW1vdGVcIiwhMSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPVtdfWRlY2lkZSgpe2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnKXRoaXMuX2RlY2lkZUNhbGxlZD0hMDtlbHNle3ZhciBlPSF0aGlzLl9yZWxvYWREZWJvdW5jZXImJih0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuaW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkKTt0aGlzLl9jYWxsRGVjaWRlRW5kcG9pbnQoe2Rpc2FibGVGbGFnczplfSl9fWdldCBoYXNMb2FkZWRGbGFncygpe3JldHVybiB0aGlzLl9oYXNMb2FkZWRGbGFnc31nZXRGbGFncygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmdldEZsYWdWYXJpYW50cygpKX1nZXRGbGFnc1dpdGhEZXRhaWxzKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoVGUpLHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkodnMpLGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoZnMpO2lmKCFpJiYhdClyZXR1cm4gZXx8e307dmFyIHI9Syh7fSxlfHx7fSksbj1bLi4ubmV3IFNldChbLi4uT2JqZWN0LmtleXMoaXx8e30pLC4uLk9iamVjdC5rZXlzKHR8fHt9KV0pXTtmb3IodmFyIHMgb2Ygbil7dmFyIG8sYSxsPXJbc10sdT1udWxsPT10P3ZvaWQgMDp0W3NdLGM9Rih1KT9udWxsIT09KG89bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSYmdm9pZCAwIT09byYmbzohIXUsZD1GKHUpP2wudmFyaWFudDpcInN0cmluZ1wiPT10eXBlb2YgdT91OnZvaWQgMCxoPW51bGw9PWk/dm9pZCAwOmlbc10sXz16KHooe30sbCkse30se2VuYWJsZWQ6Yyx2YXJpYW50OmM/bnVsbCE9ZD9kOm51bGw9PWw/dm9pZCAwOmwudmFyaWFudDp2b2lkIDB9KTtpZihjIT09KG51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCkmJihfLm9yaWdpbmFsX2VuYWJsZWQ9bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSxkIT09KG51bGw9PWw/dm9pZCAwOmwudmFyaWFudCkmJihfLm9yaWdpbmFsX3ZhcmlhbnQ9bnVsbD09bD92b2lkIDA6bC52YXJpYW50KSxoKV8ubWV0YWRhdGE9eih6KHt9LG51bGw9PWw/dm9pZCAwOmwubWV0YWRhdGEpLHt9LHtwYXlsb2FkOmgsb3JpZ2luYWxfcGF5bG9hZDpudWxsPT1sfHxudWxsPT09KGE9bC5tZXRhZGF0YSl8fHZvaWQgMD09PWE/dm9pZCAwOmEucGF5bG9hZH0pO3Jbc109X31yZXR1cm4gdGhpcy5fb3ZlcnJpZGVfd2FybmluZ3x8KF9zLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWcgZGV0YWlscyFcIix7ZmxhZ0RldGFpbHM6ZSxvdmVycmlkZGVuUGF5bG9hZHM6aSxmaW5hbERldGFpbHM6cn0pLHRoaXMuX292ZXJyaWRlX3dhcm5pbmc9ITApLHJ9Z2V0RmxhZ1ZhcmlhbnRzKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoQ2UpLHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkodnMpO2lmKCF0KXJldHVybiBlfHx7fTtmb3IodmFyIGk9Syh7fSxlKSxyPU9iamVjdC5rZXlzKHQpLG49MDtuPHIubGVuZ3RoO24rKylpW3Jbbl1dPXRbcltuXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChfcy53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFncyFcIix7ZW5hYmxlZEZsYWdzOmUsb3ZlcnJpZGRlbkZsYWdzOnQsZmluYWxGbGFnczppfSksdGhpcy5fb3ZlcnJpZGVfd2FybmluZz0hMCksaX1nZXRGbGFnUGF5bG9hZHMoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShncyksdD10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShmcyk7aWYoIXQpcmV0dXJuIGV8fHt9O2Zvcih2YXIgaT1LKHt9LGV8fHt9KSxyPU9iamVjdC5rZXlzKHQpLG49MDtuPHIubGVuZ3RoO24rKylpW3Jbbl1dPXRbcltuXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChfcy53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIHBheWxvYWRzIVwiLHtmbGFnUGF5bG9hZHM6ZSxvdmVycmlkZGVuUGF5bG9hZHM6dCxmaW5hbFBheWxvYWRzOml9KSx0aGlzLl9vdmVycmlkZV93YXJuaW5nPSEwKSxpfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMuX3JlbG9hZGluZ0Rpc2FibGVkfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8KHRoaXMuX3JlbG9hZERlYm91bmNlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCgpfSksNSkpfWNsZWFyRGVib3VuY2VyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbG9hZERlYm91bmNlciksdGhpcy5fcmVsb2FkRGVib3VuY2VyPXZvaWQgMH1lbnN1cmVGbGFnc0xvYWRlZCgpe3RoaXMuX2hhc0xvYWRlZEZsYWdzfHx0aGlzLl9yZXF1ZXN0SW5GbGlnaHR8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRBbm9ueW1vdXNEaXN0aW5jdElkKGUpe3RoaXMuJGFub25fZGlzdGluY3RfaWQ9ZX1zZXRSZWxvYWRpbmdQYXVzZWQoZSl7dGhpcy5fcmVsb2FkaW5nRGlzYWJsZWQ9ZX1fY2FsbERlY2lkZUVuZHBvaW50KHQpe3ZhciBpO2lmKHRoaXMuY2xlYXJEZWJvdW5jZXIoKSwhdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpaWYodGhpcy5fcmVxdWVzdEluRmxpZ2h0KXRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQ9ITA7ZWxzZXt2YXIgcj17dG9rZW46dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4sZGlzdGluY3RfaWQ6dGhpcy5pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSxncm91cHM6dGhpcy5pbnN0YW5jZS5nZXRHcm91cHMoKSwkYW5vbl9kaXN0aW5jdF9pZDp0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkLHBlcnNvbl9wcm9wZXJ0aWVzOnooeih7fSwobnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldF9pbml0aWFsX3Byb3BzKCkpfHx7fSksdGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoUmUpfHx7fSksZ3JvdXBfcHJvcGVydGllczp0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSgkZSl9OyhudWxsIT10JiZ0LmRpc2FibGVGbGFnc3x8dGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzKSYmKHIuZGlzYWJsZV9mbGFncz0hMCk7dmFyIG49dGhpcy5pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X2ZsYWdzX3YyJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZztuJiYoci50aW1lem9uZT1ocy50aW1lem9uZSgpKSx0aGlzLl9yZXF1ZXN0SW5GbGlnaHQ9ITAsdGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLG4/XCIvZmxhZ3MvP3Y9MlwiOlwiL2RlY2lkZS8/dj00XCIpLGRhdGE6cixjb21wcmVzc2lvbjp0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDplLkJhc2U2NCx0aW1lb3V0OnRoaXMuaW5zdGFuY2UuY29uZmlnLmZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXMsY2FsbGJhY2s6ZT0+e3ZhciB0LGksbixzPSEwOygyMDA9PT1lLnN0YXR1c0NvZGUmJih0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkfHwodGhpcy4kYW5vbl9kaXN0aW5jdF9pZD12b2lkIDApLHM9ITEpLHRoaXMuX3JlcXVlc3RJbkZsaWdodD0hMSx0aGlzLl9kZWNpZGVDYWxsZWQpfHwodGhpcy5fZGVjaWRlQ2FsbGVkPSEwLHRoaXMuaW5zdGFuY2UuX29uUmVtb3RlQ29uZmlnKG51bGwhPT0obj1lLmpzb24pJiZ2b2lkIDAhPT1uP246e30pKTtyLmRpc2FibGVfZmxhZ3MmJiF0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkfHwodGhpcy5fZmxhZ3NMb2FkZWRGcm9tUmVtb3RlPSFzLGUuanNvbiYmbnVsbCE9PSh0PWUuanNvbi5xdW90YUxpbWl0ZWQpJiZ2b2lkIDAhPT10JiZ0LmluY2x1ZGVzKGlzLkZlYXR1cmVGbGFncyk/X3Mud2FybihcIllvdSBoYXZlIGhpdCB5b3VyIGZlYXR1cmUgZmxhZ3MgcXVvdGEgbGltaXQsIGFuZCB3aWxsIG5vdCBiZSBhYmxlIHRvIGxvYWQgZmVhdHVyZSBmbGFncyB1bnRpbCB0aGUgcXVvdGEgaXMgcmVzZXQuICBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wb3N0aG9nLmNvbS9kb2NzL2JpbGxpbmcvbGltaXRzLWFsZXJ0cyB0byBsZWFybiBtb3JlLlwiKToodGhpcy5yZWNlaXZlZEZlYXR1cmVGbGFncyhudWxsIT09KGk9ZS5qc29uKSYmdm9pZCAwIT09aT9pOnt9LHMpLHRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQmJih0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkPSExLHRoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCgpKSkpfX0pfX1nZXRGZWF0dXJlRmxhZyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYodGhpcy5faGFzTG9hZGVkRmxhZ3N8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgaT10aGlzLmdldEZsYWdWYXJpYW50cygpW2VdLHI9XCJcIi5jb25jYXQoaSksbj10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShtcyl8fHZvaWQgMCxzPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KEFlKXx8e307aWYoKHQuc2VuZF9ldmVudHx8IShcInNlbmRfZXZlbnRcImluIHQpKSYmKCEoZSBpbiBzKXx8IXNbZV0uaW5jbHVkZXMocikpKXt2YXIgbyxhLGwsdSxjLGQsaCxfLHAsdixnO3goc1tlXSk/c1tlXS5wdXNoKHIpOnNbZV09W3JdLG51bGw9PT0obz10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09b3x8by5yZWdpc3Rlcih7W0FlXTpzfSk7dmFyIGY9dGhpcy5nZXRGZWF0dXJlRmxhZ0RldGFpbHMoZSksbT17JGZlYXR1cmVfZmxhZzplLCRmZWF0dXJlX2ZsYWdfcmVzcG9uc2U6aSwkZmVhdHVyZV9mbGFnX3BheWxvYWQ6dGhpcy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSl8fG51bGwsJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkOm4sJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcmVzcG9uc2U6KG51bGw9PT0oYT10aGlzLmluc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT1hfHxudWxsPT09KGw9YS5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsW2VdKXx8bnVsbCwkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9wYXlsb2FkOihudWxsPT09KHU9dGhpcy5pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09dXx8bnVsbD09PShjPXUuZmVhdHVyZUZsYWdQYXlsb2Fkcyl8fHZvaWQgMD09PWM/dm9pZCAwOmNbZV0pfHxudWxsLCR1c2VkX2Jvb3RzdHJhcF92YWx1ZTohdGhpcy5fZmxhZ3NMb2FkZWRGcm9tUmVtb3RlfTtGKG51bGw9PWZ8fG51bGw9PT0oZD1mLm1ldGFkYXRhKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC52ZXJzaW9uKXx8KG0uJGZlYXR1cmVfZmxhZ192ZXJzaW9uPWYubWV0YWRhdGEudmVyc2lvbik7dmFyIHksYj1udWxsIT09KGg9bnVsbD09Znx8bnVsbD09PShfPWYucmVhc29uKXx8dm9pZCAwPT09Xz92b2lkIDA6Xy5kZXNjcmlwdGlvbikmJnZvaWQgMCE9PWg/aDpudWxsPT1mfHxudWxsPT09KHA9Zi5yZWFzb24pfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLmNvZGU7aWYoYiYmKG0uJGZlYXR1cmVfZmxhZ19yZWFzb249YiksbnVsbCE9ZiYmbnVsbCE9PSh2PWYubWV0YWRhdGEpJiZ2b2lkIDAhPT12JiZ2LmlkJiYobS4kZmVhdHVyZV9mbGFnX2lkPWYubWV0YWRhdGEuaWQpLEYobnVsbD09Zj92b2lkIDA6Zi5vcmlnaW5hbF92YXJpYW50KSYmRihudWxsPT1mP3ZvaWQgMDpmLm9yaWdpbmFsX2VuYWJsZWQpfHwobS4kZmVhdHVyZV9mbGFnX29yaWdpbmFsX3Jlc3BvbnNlPUYoZi5vcmlnaW5hbF92YXJpYW50KT9mLm9yaWdpbmFsX2VuYWJsZWQ6Zi5vcmlnaW5hbF92YXJpYW50KSxudWxsIT1mJiZudWxsIT09KGc9Zi5tZXRhZGF0YSkmJnZvaWQgMCE9PWcmJmcub3JpZ2luYWxfcGF5bG9hZCltLiRmZWF0dXJlX2ZsYWdfb3JpZ2luYWxfcGF5bG9hZD1udWxsPT1mfHxudWxsPT09KHk9Zi5tZXRhZGF0YSl8fHZvaWQgMD09PXk/dm9pZCAwOnkub3JpZ2luYWxfcGF5bG9hZDt0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkZmVhdHVyZV9mbGFnX2NhbGxlZFwiLG0pfXJldHVybiBpfV9zLndhcm4oJ2dldEZlYXR1cmVGbGFnIGZvciBrZXkgXCInK2UrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1nZXRGZWF0dXJlRmxhZ0RldGFpbHMoZSl7cmV0dXJuIHRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpW2VdfWdldEZlYXR1cmVGbGFnUGF5bG9hZChlKXtyZXR1cm4gdGhpcy5nZXRGbGFnUGF5bG9hZHMoKVtlXX1nZXRSZW1vdGVDb25maWdQYXlsb2FkKHQsaSl7dmFyIHI9dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW47dGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2RlY2lkZS8/dj00XCIpLGRhdGE6e2Rpc3RpbmN0X2lkOnRoaXMuaW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdG9rZW46cn0sY29tcHJlc3Npb246dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5CYXNlNjQsdGltZW91dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgcixuPW51bGw9PT0ocj1lLmpzb24pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmZlYXR1cmVGbGFnUGF5bG9hZHM7aSgobnVsbD09bj92b2lkIDA6blt0XSl8fHZvaWQgMCl9fSl9aXNGZWF0dXJlRW5hYmxlZChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYodGhpcy5faGFzTG9hZGVkRmxhZ3N8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXJldHVybiEhdGhpcy5nZXRGZWF0dXJlRmxhZyhlLHQpO19zLndhcm4oJ2lzRmVhdHVyZUVuYWJsZWQgZm9yIGtleSBcIicrZStcIlxcXCIgZmFpbGVkLiBGZWF0dXJlIGZsYWdzIGRpZG4ndCBsb2FkIGluIHRpbWUuXCIpfWFkZEZlYXR1cmVGbGFnc0hhbmRsZXIoZSl7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMucHVzaChlKX1yZW1vdmVGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPXRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLmZpbHRlcigodD0+dCE9PWUpKX1yZWNlaXZlZEZlYXR1cmVGbGFncyhlLHQpe2lmKHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2Upe3RoaXMuX2hhc0xvYWRlZEZsYWdzPSEwO3ZhciBpPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkscj10aGlzLmdldEZsYWdQYXlsb2FkcygpLG49dGhpcy5nZXRGbGFnc1dpdGhEZXRhaWxzKCk7IWZ1bmN0aW9uKGUsdCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LG49YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOnt9LHM9YnMoZSksbz1zLmZsYWdzLGE9cy5mZWF0dXJlRmxhZ3MsbD1zLmZlYXR1cmVGbGFnUGF5bG9hZHM7aWYoYSl7dmFyIHU9ZS5yZXF1ZXN0SWQ7aWYoeChhKSl7X3Mud2FybihcInYxIG9mIHRoZSBmZWF0dXJlIGZsYWdzIGVuZHBvaW50IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdGhlIGxhdGVzdCB2ZXJzaW9uLlwiKTt2YXIgYz17fTtpZihhKWZvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWNbYVtkXV09ITA7dCYmdC5yZWdpc3Rlcih7W3BzXTphLFtDZV06Y30pfWVsc2V7dmFyIGg9YSxfPWwscD1vO2UuZXJyb3JzV2hpbGVDb21wdXRpbmdGbGFncyYmKGg9eih6KHt9LGkpLGgpLF89eih6KHt9LHIpLF8pLHA9eih6KHt9LG4pLHApKSx0JiZ0LnJlZ2lzdGVyKHooe1twc106T2JqZWN0LmtleXMoeXMoaCkpLFtDZV06aHx8e30sW2dzXTpffHx7fSxbVGVdOnB8fHt9fSx1P3tbbXNdOnV9Ont9KSl9fX0oZSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLGkscixuKSx0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKHQpfX1vdmVycmlkZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO19zLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOmUsc3VwcHJlc3NXYXJuaW5nOnR9KX1vdmVycmlkZUZlYXR1cmVGbGFncyhlKXtpZighdGhpcy5pbnN0YW5jZS5fX2xvYWRlZHx8IXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpcmV0dXJuIF9zLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5mZWF0dXJlRmxhZ3Mub3ZlcnJpZGVGZWF0dXJlRmxhZ3NcIik7aWYoITE9PT1lKXJldHVybiB0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIodnMpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcihmcyksdm9pZCB0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCk7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJihcImZsYWdzXCJpbiBlfHxcInBheWxvYWRzXCJpbiBlKSl7dmFyIHQsaT1lO2lmKHRoaXMuX292ZXJyaWRlX3dhcm5pbmc9Qm9vbGVhbihudWxsIT09KHQ9aS5zdXBwcmVzc1dhcm5pbmcpJiZ2b2lkIDAhPT10JiZ0KSxcImZsYWdzXCJpbiBpKWlmKCExPT09aS5mbGFncyl0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIodnMpO2Vsc2UgaWYoaS5mbGFncylpZih4KGkuZmxhZ3MpKXtmb3IodmFyIHI9e30sbj0wO248aS5mbGFncy5sZW5ndGg7bisrKXJbaS5mbGFnc1tuXV09ITA7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W3ZzXTpyfSl9ZWxzZSB0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbdnNdOmkuZmxhZ3N9KTtyZXR1cm5cInBheWxvYWRzXCJpbiBpJiYoITE9PT1pLnBheWxvYWRzP3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcihmcyk6aS5wYXlsb2FkcyYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2ZzXTppLnBheWxvYWRzfSkpLHZvaWQgdGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcygpfXRoaXMuX2ZpcmVGZWF0dXJlRmxhZ3NDYWxsYmFja3MoKX1vbkZlYXR1cmVGbGFncyhlKXtpZih0aGlzLmFkZEZlYXR1cmVGbGFnc0hhbmRsZXIoZSksdGhpcy5faGFzTG9hZGVkRmxhZ3Mpe3ZhcntmbGFnczp0LGZsYWdWYXJpYW50czppfT10aGlzLl9wcmVwYXJlRmVhdHVyZUZsYWdzRm9yQ2FsbGJhY2tzKCk7ZSh0LGkpfXJldHVybigpPT50aGlzLnJlbW92ZUZlYXR1cmVGbGFnc0hhbmRsZXIoZSl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudChlLHQpe3ZhciBpLHI9KHRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KEZlKXx8W10pLmZpbmQoKHQ9PnQuZmxhZ0tleT09PWUpKSxuPXtbXCIkZmVhdHVyZV9lbnJvbGxtZW50L1wiLmNvbmNhdChlKV06dH0scz17JGZlYXR1cmVfZmxhZzplLCRmZWF0dXJlX2Vucm9sbG1lbnQ6dCwkc2V0Om59O3ImJihzLiRlYXJseV9hY2Nlc3NfZmVhdHVyZV9uYW1lPXIubmFtZSksdGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixzKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhuLCExKTt2YXIgbz16KHooe30sdGhpcy5nZXRGbGFnVmFyaWFudHMoKSkse30se1tlXTp0fSk7bnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbcHNdOk9iamVjdC5rZXlzKHlzKG8pKSxbQ2VdOm99KSx0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAscj10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShGZSksbj1pP1wiJlwiLmNvbmNhdChpLm1hcCgoZT0+XCJzdGFnZT1cIi5jb25jYXQoZSkpKS5qb2luKFwiJlwiKSk6XCJcIjtpZihyJiYhdClyZXR1cm4gZShyKTt0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3Qoe3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvZWFybHlfYWNjZXNzX2ZlYXR1cmVzLz90b2tlbj1cIi5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4pLmNvbmNhdChuKSksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6dD0+e3ZhciBpO2lmKHQuanNvbil7dmFyIHI9dC5qc29uLmVhcmx5QWNjZXNzRmVhdHVyZXM7cmV0dXJuIG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7W0ZlXTpyfSksZShyKX19fSl9X3ByZXBhcmVGZWF0dXJlRmxhZ3NGb3JDYWxsYmFja3MoKXt2YXIgZT10aGlzLmdldEZsYWdzKCksdD10aGlzLmdldEZsYWdWYXJpYW50cygpO3JldHVybntmbGFnczplLmZpbHRlcigoZT0+dFtlXSkpLGZsYWdWYXJpYW50czpPYmplY3Qua2V5cyh0KS5maWx0ZXIoKGU9PnRbZV0pKS5yZWR1Y2UoKChlLGkpPT4oZVtpXT10W2ldLGUpKSx7fSl9fV9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKGUpe3ZhcntmbGFnczp0LGZsYWdWYXJpYW50czppfT10aGlzLl9wcmVwYXJlRmVhdHVyZUZsYWdzRm9yQ2FsbGJhY2tzKCk7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMuZm9yRWFjaCgocj0+cih0LGkse2Vycm9yc0xvYWRpbmc6ZX0pKSl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShSZSl8fHt9O3RoaXMuaW5zdGFuY2UucmVnaXN0ZXIoe1tSZV06eih6KHt9LGkpLGUpfSksdCYmdGhpcy5pbnN0YW5jZS5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuaW5zdGFuY2UudW5yZWdpc3RlcihSZSl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KCRlKXx8e307MCE9PU9iamVjdC5rZXlzKGkpLmxlbmd0aCYmT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgodD0+e2lbdF09eih6KHt9LGlbdF0pLGVbdF0pLGRlbGV0ZSBlW3RdfSkpLHRoaXMuaW5zdGFuY2UucmVnaXN0ZXIoe1skZV06eih6KHt9LGkpLGUpfSksdCYmdGhpcy5pbnN0YW5jZS5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpe2lmKGUpe3ZhciB0PXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KCRlKXx8e307dGhpcy5pbnN0YW5jZS5yZWdpc3Rlcih7WyRlXTp6KHooe30sdCkse30se1tlXTp7fX0pfSl9ZWxzZSB0aGlzLmluc3RhbmNlLnVucmVnaXN0ZXIoJGUpfX12YXIgU3M9W1wiY29va2llXCIsXCJsb2NhbHN0b3JhZ2VcIixcImxvY2Fsc3RvcmFnZStjb29raWVcIixcInNlc3Npb25zdG9yYWdlXCIsXCJtZW1vcnlcIl07Y2xhc3Mga3N7Y29uc3RydWN0b3IoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnByb3BzPXt9LHRoaXMuY2FtcGFpZ25fcGFyYW1zX3NhdmVkPSExLHRoaXMubmFtZT0oZT0+e3ZhciB0PVwiXCI7cmV0dXJuIGUudG9rZW4mJih0PWUudG9rZW4ucmVwbGFjZSgvXFwrL2csXCJQTFwiKS5yZXBsYWNlKC9cXC8vZyxcIlNMXCIpLnJlcGxhY2UoLz0vZyxcIkVRXCIpKSxlLnBlcnNpc3RlbmNlX25hbWU/XCJwaF9cIitlLnBlcnNpc3RlbmNlX25hbWU6XCJwaF9cIit0K1wiX3Bvc3Rob2dcIn0pKGUpLHRoaXMuc3RvcmFnZT10aGlzLmJ1aWxkU3RvcmFnZShlKSx0aGlzLmxvYWQoKSxlLmRlYnVnJiZOLmluZm8oXCJQZXJzaXN0ZW5jZSBsb2FkZWRcIixlLnBlcnNpc3RlbmNlLHooe30sdGhpcy5wcm9wcykpLHRoaXMudXBkYXRlX2NvbmZpZyhlLGUpLHRoaXMuc2F2ZSgpfWJ1aWxkU3RvcmFnZShlKXstMT09PVNzLmluZGV4T2YoZS5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpKSYmKE4uY3JpdGljYWwoXCJVbmtub3duIHBlcnNpc3RlbmNlIHR5cGUgXCIrZS5wZXJzaXN0ZW5jZStcIjsgZmFsbGluZyBiYWNrIHRvIGxvY2FsU3RvcmFnZStjb29raWVcIiksZS5wZXJzaXN0ZW5jZT1cImxvY2FsU3RvcmFnZStjb29raWVcIik7dmFyIHQ9ZS5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PT10JiZKdC5pc19zdXBwb3J0ZWQoKT9KdDpcImxvY2Fsc3RvcmFnZStjb29raWVcIj09PXQmJkt0LmlzX3N1cHBvcnRlZCgpP0t0Olwic2Vzc2lvbnN0b3JhZ2VcIj09PXQmJmVpLmlzX3N1cHBvcnRlZCgpP2VpOlwibWVtb3J5XCI9PT10P1F0OlwiY29va2llXCI9PT10P1Z0Okt0LmlzX3N1cHBvcnRlZCgpP0t0OlZ0fXByb3BlcnRpZXMoKXt2YXIgZT17fTtyZXR1cm4gWSh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2lmKGk9PT1DZSYmUCh0KSlmb3IodmFyIHI9T2JqZWN0LmtleXModCksbj0wO248ci5sZW5ndGg7bisrKWVbXCIkZmVhdHVyZS9cIi5jb25jYXQocltuXSldPXRbcltuXV07ZWxzZSBhPWksbD0hMSwoJChvPVdlKT9sOnMmJm8uaW5kZXhPZj09PXM/LTEhPW8uaW5kZXhPZihhKTooWShvLChmdW5jdGlvbihlKXtpZihsfHwobD1lPT09YSkpcmV0dXJuIEd9KSksbCkpfHwoZVtpXT10KTt2YXIgbyxhLGx9KSksZX1sb2FkKCl7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciBlPXRoaXMuc3RvcmFnZS5wYXJzZSh0aGlzLm5hbWUpO2UmJih0aGlzLnByb3BzPUsoe30sZSkpfX1zYXZlKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5zdG9yYWdlLnNldCh0aGlzLm5hbWUsdGhpcy5wcm9wcyx0aGlzLmV4cGlyZV9kYXlzLHRoaXMuY3Jvc3Nfc3ViZG9tYWluLHRoaXMuc2VjdXJlLHRoaXMuY29uZmlnLmRlYnVnKX1yZW1vdmUoKXt0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMubmFtZSwhMSksdGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLm5hbWUsITApfWNsZWFyKCl7dGhpcy5yZW1vdmUoKSx0aGlzLnByb3BzPXt9fXJlZ2lzdGVyX29uY2UoZSx0LGkpe2lmKFAoZSkpe0YodCkmJih0PVwiTm9uZVwiKSx0aGlzLmV4cGlyZV9kYXlzPUYoaSk/dGhpcy5kZWZhdWx0X2V4cGlyeTppO3ZhciByPSExO2lmKFkoZSwoKGUsaSk9Pnt0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnByb3BzW2ldIT09dHx8KHRoaXMucHJvcHNbaV09ZSxyPSEwKX0pKSxyKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX1yZWdpc3RlcihlLHQpe2lmKFAoZSkpe3RoaXMuZXhwaXJlX2RheXM9Rih0KT90aGlzLmRlZmF1bHRfZXhwaXJ5OnQ7dmFyIGk9ITE7aWYoWShlLCgodCxyKT0+e2UuaGFzT3duUHJvcGVydHkocikmJnRoaXMucHJvcHNbcl0hPT10JiYodGhpcy5wcm9wc1tyXT10LGk9ITApfSkpLGkpcmV0dXJuIHRoaXMuc2F2ZSgpLCEwfXJldHVybiExfXVucmVnaXN0ZXIoZSl7ZSBpbiB0aGlzLnByb3BzJiYoZGVsZXRlIHRoaXMucHJvcHNbZV0sdGhpcy5zYXZlKCkpfXVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKXtpZighdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQpe3ZhciBlPWhzLmNhbXBhaWduUGFyYW1zKHtjdXN0b21UcmFja2VkUGFyYW1zOnRoaXMuY29uZmlnLmN1c3RvbV9jYW1wYWlnbl9wYXJhbXMsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7Qyh0ZShlKSl8fHRoaXMucmVnaXN0ZXIoZSksdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQ9ITB9fXVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpe3RoaXMucmVnaXN0ZXIoaHMuc2VhcmNoSW5mbygpKX11cGRhdGVfcmVmZXJyZXJfaW5mbygpe3RoaXMucmVnaXN0ZXJfb25jZShocy5yZWZlcnJlckluZm8oKSx2b2lkIDApfXNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCl7dGhpcy5wcm9wc1tOZV18fHRoaXMucHJvcHNbQmVdfHx0aGlzLnJlZ2lzdGVyX29uY2Uoe1tIZV06aHMucGVyc29uSW5mbyh7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSl9LHZvaWQgMCl9Z2V0X3JlZmVycmVyX2luZm8oKXtyZXR1cm4gdGUoeyRyZWZlcnJlcjp0aGlzLnByb3BzLiRyZWZlcnJlciwkcmVmZXJyaW5nX2RvbWFpbjp0aGlzLnByb3BzLiRyZWZlcnJpbmdfZG9tYWlufSl9Z2V0X2luaXRpYWxfcHJvcHMoKXt2YXIgZT17fTtZKFtCZSxOZV0sKHQ9Pnt2YXIgaT10aGlzLnByb3BzW3RdO2kmJlkoaSwoZnVuY3Rpb24odCxpKXtlW1wiJGluaXRpYWxfXCIrYihpKV09dH0pKX0pKTt2YXIgdD10aGlzLnByb3BzW0hlXTtpZih0KXt2YXIgaT1ocy5pbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbyh0KTtLKGUsaSl9cmV0dXJuIGV9c2FmZV9tZXJnZShlKXtyZXR1cm4gWSh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2kgaW4gZXx8KGVbaV09dCl9KSksZX11cGRhdGVfY29uZmlnKGUsdCl7aWYodGhpcy5kZWZhdWx0X2V4cGlyeT10aGlzLmV4cGlyZV9kYXlzPWUuY29va2llX2V4cGlyYXRpb24sdGhpcy5zZXRfZGlzYWJsZWQoZS5kaXNhYmxlX3BlcnNpc3RlbmNlKSx0aGlzLnNldF9jcm9zc19zdWJkb21haW4oZS5jcm9zc19zdWJkb21haW5fY29va2llKSx0aGlzLnNldF9zZWN1cmUoZS5zZWN1cmVfY29va2llKSxlLnBlcnNpc3RlbmNlIT09dC5wZXJzaXN0ZW5jZSl7dmFyIGk9dGhpcy5idWlsZFN0b3JhZ2UoZSkscj10aGlzLnByb3BzO3RoaXMuY2xlYXIoKSx0aGlzLnN0b3JhZ2U9aSx0aGlzLnByb3BzPXIsdGhpcy5zYXZlKCl9fXNldF9kaXNhYmxlZChlKXt0aGlzLmRpc2FibGVkPWUsdGhpcy5kaXNhYmxlZD90aGlzLnJlbW92ZSgpOnRoaXMuc2F2ZSgpfXNldF9jcm9zc19zdWJkb21haW4oZSl7ZSE9PXRoaXMuY3Jvc3Nfc3ViZG9tYWluJiYodGhpcy5jcm9zc19zdWJkb21haW49ZSx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1nZXRfY3Jvc3Nfc3ViZG9tYWluKCl7cmV0dXJuISF0aGlzLmNyb3NzX3N1YmRvbWFpbn1zZXRfc2VjdXJlKGUpe2UhPT10aGlzLnNlY3VyZSYmKHRoaXMuc2VjdXJlPWUsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X2V2ZW50X3RpbWVyKGUsdCl7dmFyIGk9dGhpcy5wcm9wc1t1ZV18fHt9O2lbZV09dCx0aGlzLnByb3BzW3VlXT1pLHRoaXMuc2F2ZSgpfXJlbW92ZV9ldmVudF90aW1lcihlKXt2YXIgdD0odGhpcy5wcm9wc1t1ZV18fHt9KVtlXTtyZXR1cm4gRih0KXx8KGRlbGV0ZSB0aGlzLnByb3BzW3VlXVtlXSx0aGlzLnNhdmUoKSksdH1nZXRfcHJvcGVydHkoZSl7cmV0dXJuIHRoaXMucHJvcHNbZV19c2V0X3Byb3BlcnR5KGUsdCl7dGhpcy5wcm9wc1tlXT10LHRoaXMuc2F2ZSgpfX12YXIgRXMseHMsSXMsUHMsQ3MsRnMsVHMsUnMsJHMsT3MsTXMsQXMsTHMsRHMscXM9e30sTnM9W10sQnM9L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaSxIcz1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIGpzKGUsdCl7Zm9yKHZhciBpIGluIHQpZVtpXT10W2ldO3JldHVybiBlfWZ1bmN0aW9uIFVzKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiZ0LnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIHpzKGUsdCxpLHIsbil7dmFyIHM9e3R5cGU6ZSxwcm9wczp0LGtleTppLHJlZjpyLF9fazpudWxsLF9fOm51bGwsX19iOjAsX19lOm51bGwsX19kOnZvaWQgMCxfX2M6bnVsbCxjb25zdHJ1Y3Rvcjp2b2lkIDAsX192Om51bGw9PW4/KytJczpuLF9faTotMSxfX3U6MH07cmV0dXJuIG51bGw9PW4mJm51bGwhPXhzLnZub2RlJiZ4cy52bm9kZShzKSxzfWZ1bmN0aW9uIFdzKGUpe3JldHVybiBlLmNoaWxkcmVufWZ1bmN0aW9uIFZzKGUsdCl7dGhpcy5wcm9wcz1lLHRoaXMuY29udGV4dD10fWZ1bmN0aW9uIEdzKGUsdCl7aWYobnVsbD09dClyZXR1cm4gZS5fXz9HcyhlLl9fLGUuX19pKzEpOm51bGw7Zm9yKHZhciBpO3Q8ZS5fX2subGVuZ3RoO3QrKylpZihudWxsIT0oaT1lLl9fa1t0XSkmJm51bGwhPWkuX19lKXJldHVybiBpLl9fZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnR5cGU/R3MoZSk6bnVsbH1mdW5jdGlvbiBKcyhlKXt2YXIgdCxpO2lmKG51bGwhPShlPWUuX18pJiZudWxsIT1lLl9fYyl7Zm9yKGUuX19lPWUuX19jLmJhc2U9bnVsbCx0PTA7dDxlLl9fay5sZW5ndGg7dCsrKWlmKG51bGwhPShpPWUuX19rW3RdKSYmbnVsbCE9aS5fX2Upe2UuX19lPWUuX19jLmJhc2U9aS5fX2U7YnJlYWt9cmV0dXJuIEpzKGUpfX1mdW5jdGlvbiBZcyhlKXsoIWUuX19kJiYoZS5fX2Q9ITApJiZQcy5wdXNoKGUpJiYhS3MuX19yKyt8fENzIT09eHMuZGVib3VuY2VSZW5kZXJpbmcpJiYoKENzPXhzLmRlYm91bmNlUmVuZGVyaW5nKXx8RnMpKEtzKX1mdW5jdGlvbiBLcygpe3ZhciBlLHQsaSxyLG4scyxvLGEsbDtmb3IoUHMuc29ydChUcyk7ZT1Qcy5zaGlmdCgpOyllLl9fZCYmKHQ9UHMubGVuZ3RoLHI9dm9pZCAwLHM9KG49KGk9ZSkuX192KS5fX2UsYT1bXSxsPVtdLChvPWkuX19QKSYmKChyPWpzKHt9LG4pKS5fX3Y9bi5fX3YrMSx4cy52bm9kZSYmeHMudm5vZGUociksc28obyxyLG4saS5fX24sdm9pZCAwIT09by5vd25lclNWR0VsZW1lbnQsMzImbi5fX3U/W3NdOm51bGwsYSxudWxsPT1zP0dzKG4pOnMsISEoMzImbi5fX3UpLGwpLHIuX18uX19rW3IuX19pXT1yLG9vKGEscixsKSxyLl9fZSE9cyYmSnMocikpLFBzLmxlbmd0aD50JiZQcy5zb3J0KFRzKSk7S3MuX19yPTB9ZnVuY3Rpb24gWHMoZSx0LGkscixuLHMsbyxhLGwsdSxjKXt2YXIgZCxoLF8scCx2LGc9ciYmci5fX2t8fE5zLGY9dC5sZW5ndGg7Zm9yKGkuX19kPWwsUXMoaSx0LGcpLGw9aS5fX2QsZD0wO2Q8ZjtkKyspbnVsbCE9KF89aS5fX2tbZF0pJiZcImJvb2xlYW5cIiE9dHlwZW9mIF8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIF8mJihoPS0xPT09Xy5fX2k/cXM6Z1tfLl9faV18fHFzLF8uX19pPWQsc28oZSxfLGgsbixzLG8sYSxsLHUsYykscD1fLl9fZSxfLnJlZiYmaC5yZWYhPV8ucmVmJiYoaC5yZWYmJmxvKGgucmVmLG51bGwsXyksYy5wdXNoKF8ucmVmLF8uX19jfHxwLF8pKSxudWxsPT12JiZudWxsIT1wJiYodj1wKSw2NTUzNiZfLl9fdXx8aC5fX2s9PT1fLl9faz9sPVpzKF8sbCxlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBfLnR5cGUmJnZvaWQgMCE9PV8uX19kP2w9Xy5fX2Q6cCYmKGw9cC5uZXh0U2libGluZyksXy5fX2Q9dm9pZCAwLF8uX191Jj0tMTk2NjA5KTtpLl9fZD1sLGkuX19lPXZ9ZnVuY3Rpb24gUXMoZSx0LGkpe3ZhciByLG4scyxvLGEsbD10Lmxlbmd0aCx1PWkubGVuZ3RoLGM9dSxkPTA7Zm9yKGUuX19rPVtdLHI9MDtyPGw7cisrKW51bGwhPShuPWUuX19rW3JdPW51bGw9PShuPXRbcl0pfHxcImJvb2xlYW5cIj09dHlwZW9mIG58fFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bnVsbDpcInN0cmluZ1wiPT10eXBlb2Ygbnx8XCJudW1iZXJcIj09dHlwZW9mIG58fFwiYmlnaW50XCI9PXR5cGVvZiBufHxuLmNvbnN0cnVjdG9yPT1TdHJpbmc/enMobnVsbCxuLG51bGwsbnVsbCxuKTpIcyhuKT96cyhXcyx7Y2hpbGRyZW46bn0sbnVsbCxudWxsLG51bGwpOnZvaWQgMD09PW4uY29uc3RydWN0b3ImJm4uX19iPjA/enMobi50eXBlLG4ucHJvcHMsbi5rZXksbi5yZWY/bi5yZWY6bnVsbCxuLl9fdik6bik/KG4uX189ZSxuLl9fYj1lLl9fYisxLGE9ZW8obixpLG89citkLGMpLG4uX19pPWEscz1udWxsLC0xIT09YSYmKGMtLSwocz1pW2FdKSYmKHMuX191fD0xMzEwNzIpKSxudWxsPT1zfHxudWxsPT09cy5fX3Y/KC0xPT1hJiZkLS0sXCJmdW5jdGlvblwiIT10eXBlb2Ygbi50eXBlJiYobi5fX3V8PTY1NTM2KSk6YSE9PW8mJihhPT09bysxP2QrKzphPm8/Yz5sLW8/ZCs9YS1vOmQtLTpkPWE8byYmYT09by0xP2EtbzowLGEhPT1yK2QmJihuLl9fdXw9NjU1MzYpKSk6KHM9aVtyXSkmJm51bGw9PXMua2V5JiZzLl9fZSYmKHMuX19lPT1lLl9fZCYmKGUuX19kPUdzKHMpKSx1byhzLHMsITEpLGlbcl09bnVsbCxjLS0pO2lmKGMpZm9yKHI9MDtyPHU7cisrKW51bGwhPShzPWlbcl0pJiYwPT0oMTMxMDcyJnMuX191KSYmKHMuX19lPT1lLl9fZCYmKGUuX19kPUdzKHMpKSx1byhzLHMpKX1mdW5jdGlvbiBacyhlLHQsaSl7dmFyIHIsbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnR5cGUpe2ZvcihyPWUuX19rLG49MDtyJiZuPHIubGVuZ3RoO24rKylyW25dJiYocltuXS5fXz1lLHQ9WnMocltuXSx0LGkpKTtyZXR1cm4gdH1yZXR1cm4gZS5fX2UhPXQmJihpLmluc2VydEJlZm9yZShlLl9fZSx0fHxudWxsKSx0PWUuX19lKSx0JiZ0Lm5leHRTaWJsaW5nfWZ1bmN0aW9uIGVvKGUsdCxpLHIpe3ZhciBuPWUua2V5LHM9ZS50eXBlLG89aS0xLGE9aSsxLGw9dFtpXTtpZihudWxsPT09bHx8bCYmbj09bC5rZXkmJnM9PT1sLnR5cGUpcmV0dXJuIGk7aWYocj4obnVsbCE9bCYmMD09KDEzMTA3MiZsLl9fdSk/MTowKSlmb3IoO28+PTB8fGE8dC5sZW5ndGg7KXtpZihvPj0wKXtpZigobD10W29dKSYmMD09KDEzMTA3MiZsLl9fdSkmJm49PWwua2V5JiZzPT09bC50eXBlKXJldHVybiBvO28tLX1pZihhPHQubGVuZ3RoKXtpZigobD10W2FdKSYmMD09KDEzMTA3MiZsLl9fdSkmJm49PWwua2V5JiZzPT09bC50eXBlKXJldHVybiBhO2ErK319cmV0dXJuLTF9ZnVuY3Rpb24gdG8oZSx0LGkpe1wiLVwiPT09dFswXT9lLnNldFByb3BlcnR5KHQsbnVsbD09aT9cIlwiOmkpOmVbdF09bnVsbD09aT9cIlwiOlwibnVtYmVyXCIhPXR5cGVvZiBpfHxCcy50ZXN0KHQpP2k6aStcInB4XCJ9ZnVuY3Rpb24gaW8oZSx0LGkscixuKXt2YXIgcztlOmlmKFwic3R5bGVcIj09PXQpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpZS5zdHlsZS5jc3NUZXh0PWk7ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKGUuc3R5bGUuY3NzVGV4dD1yPVwiXCIpLHIpZm9yKHQgaW4gcilpJiZ0IGluIGl8fHRvKGUuc3R5bGUsdCxcIlwiKTtpZihpKWZvcih0IGluIGkpciYmaVt0XT09PXJbdF18fHRvKGUuc3R5bGUsdCxpW3RdKX1lbHNlIGlmKFwib1wiPT09dFswXSYmXCJuXCI9PT10WzFdKXM9dCE9PSh0PXQucmVwbGFjZSgvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvLFwiJDFcIikpLHQ9dC50b0xvd2VyQ2FzZSgpaW4gZT90LnRvTG93ZXJDYXNlKCkuc2xpY2UoMik6dC5zbGljZSgyKSxlLmx8fChlLmw9e30pLGUubFt0K3NdPWksaT9yP2kudT1yLnU6KGkudT1EYXRlLm5vdygpLGUuYWRkRXZlbnRMaXN0ZW5lcih0LHM/bm86cm8scykpOmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHM/bm86cm8scyk7ZWxzZXtpZihuKXQ9dC5yZXBsYWNlKC94bGluayhIfDpoKS8sXCJoXCIpLnJlcGxhY2UoL3NOYW1lJC8sXCJzXCIpO2Vsc2UgaWYoXCJ3aWR0aFwiIT09dCYmXCJoZWlnaHRcIiE9PXQmJlwiaHJlZlwiIT09dCYmXCJsaXN0XCIhPT10JiZcImZvcm1cIiE9PXQmJlwidGFiSW5kZXhcIiE9PXQmJlwiZG93bmxvYWRcIiE9PXQmJlwicm93U3BhblwiIT09dCYmXCJjb2xTcGFuXCIhPT10JiZcInJvbGVcIiE9PXQmJnQgaW4gZSl0cnl7ZVt0XT1udWxsPT1pP1wiXCI6aTticmVhayBlfWNhdGNoKGUpe31cImZ1bmN0aW9uXCI9PXR5cGVvZiBpfHwobnVsbD09aXx8ITE9PT1pJiZcIi1cIiE9PXRbNF0/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxpKSl9fWZ1bmN0aW9uIHJvKGUpe3ZhciB0PXRoaXMubFtlLnR5cGUrITFdO2lmKGUudCl7aWYoZS50PD10LnUpcmV0dXJufWVsc2UgZS50PURhdGUubm93KCk7cmV0dXJuIHQoeHMuZXZlbnQ/eHMuZXZlbnQoZSk6ZSl9ZnVuY3Rpb24gbm8oZSl7cmV0dXJuIHRoaXMubFtlLnR5cGUrITBdKHhzLmV2ZW50P3hzLmV2ZW50KGUpOmUpfWZ1bmN0aW9uIHNvKGUsdCxpLHIsbixzLG8sYSxsLHUpe3ZhciBjLGQsaCxfLHAsdixnLGYsbSx5LGIsdyxTLGssRSx4PXQudHlwZTtpZih2b2lkIDAhPT10LmNvbnN0cnVjdG9yKXJldHVybiBudWxsOzEyOCZpLl9fdSYmKGw9ISEoMzImaS5fX3UpLHM9W2E9dC5fX2U9aS5fX2VdKSwoYz14cy5fX2IpJiZjKHQpO2U6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgeCl0cnl7aWYoZj10LnByb3BzLG09KGM9eC5jb250ZXh0VHlwZSkmJnJbYy5fX2NdLHk9Yz9tP20ucHJvcHMudmFsdWU6Yy5fXzpyLGkuX19jP2c9KGQ9dC5fX2M9aS5fX2MpLl9fPWQuX19FOihcInByb3RvdHlwZVwiaW4geCYmeC5wcm90b3R5cGUucmVuZGVyP3QuX19jPWQ9bmV3IHgoZix5KToodC5fX2M9ZD1uZXcgVnMoZix5KSxkLmNvbnN0cnVjdG9yPXgsZC5yZW5kZXI9Y28pLG0mJm0uc3ViKGQpLGQucHJvcHM9ZixkLnN0YXRlfHwoZC5zdGF0ZT17fSksZC5jb250ZXh0PXksZC5fX249cixoPWQuX19kPSEwLGQuX19oPVtdLGQuX3NiPVtdKSxudWxsPT1kLl9fcyYmKGQuX19zPWQuc3RhdGUpLG51bGwhPXguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYoZC5fX3M9PWQuc3RhdGUmJihkLl9fcz1qcyh7fSxkLl9fcykpLGpzKGQuX19zLHguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKGYsZC5fX3MpKSksXz1kLnByb3BzLHA9ZC5zdGF0ZSxkLl9fdj10LGgpbnVsbD09eC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJm51bGwhPWQuY29tcG9uZW50V2lsbE1vdW50JiZkLmNvbXBvbmVudFdpbGxNb3VudCgpLG51bGwhPWQuY29tcG9uZW50RGlkTW91bnQmJmQuX19oLnB1c2goZC5jb21wb25lbnREaWRNb3VudCk7ZWxzZXtpZihudWxsPT14LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmZiE9PV8mJm51bGwhPWQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmZC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGYseSksIWQuX19lJiYobnVsbCE9ZC5zaG91bGRDb21wb25lbnRVcGRhdGUmJiExPT09ZC5zaG91bGRDb21wb25lbnRVcGRhdGUoZixkLl9fcyx5KXx8dC5fX3Y9PT1pLl9fdikpe2Zvcih0Ll9fdiE9PWkuX192JiYoZC5wcm9wcz1mLGQuc3RhdGU9ZC5fX3MsZC5fX2Q9ITEpLHQuX19lPWkuX19lLHQuX19rPWkuX19rLHQuX19rLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJihlLl9fPXQpfSkpLGI9MDtiPGQuX3NiLmxlbmd0aDtiKyspZC5fX2gucHVzaChkLl9zYltiXSk7ZC5fc2I9W10sZC5fX2gubGVuZ3RoJiZvLnB1c2goZCk7YnJlYWsgZX1udWxsIT1kLmNvbXBvbmVudFdpbGxVcGRhdGUmJmQuY29tcG9uZW50V2lsbFVwZGF0ZShmLGQuX19zLHkpLG51bGwhPWQuY29tcG9uZW50RGlkVXBkYXRlJiZkLl9faC5wdXNoKChmdW5jdGlvbigpe2QuY29tcG9uZW50RGlkVXBkYXRlKF8scCx2KX0pKX1pZihkLmNvbnRleHQ9eSxkLnByb3BzPWYsZC5fX1A9ZSxkLl9fZT0hMSx3PXhzLl9fcixTPTAsXCJwcm90b3R5cGVcImluIHgmJngucHJvdG90eXBlLnJlbmRlcil7Zm9yKGQuc3RhdGU9ZC5fX3MsZC5fX2Q9ITEsdyYmdyh0KSxjPWQucmVuZGVyKGQucHJvcHMsZC5zdGF0ZSxkLmNvbnRleHQpLGs9MDtrPGQuX3NiLmxlbmd0aDtrKyspZC5fX2gucHVzaChkLl9zYltrXSk7ZC5fc2I9W119ZWxzZSBkb3tkLl9fZD0hMSx3JiZ3KHQpLGM9ZC5yZW5kZXIoZC5wcm9wcyxkLnN0YXRlLGQuY29udGV4dCksZC5zdGF0ZT1kLl9fc313aGlsZShkLl9fZCYmKytTPDI1KTtkLnN0YXRlPWQuX19zLG51bGwhPWQuZ2V0Q2hpbGRDb250ZXh0JiYocj1qcyhqcyh7fSxyKSxkLmdldENoaWxkQ29udGV4dCgpKSksaHx8bnVsbD09ZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8KHY9ZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShfLHApKSxYcyhlLEhzKEU9bnVsbCE9YyYmYy50eXBlPT09V3MmJm51bGw9PWMua2V5P2MucHJvcHMuY2hpbGRyZW46Yyk/RTpbRV0sdCxpLHIsbixzLG8sYSxsLHUpLGQuYmFzZT10Ll9fZSx0Ll9fdSY9LTE2MSxkLl9faC5sZW5ndGgmJm8ucHVzaChkKSxnJiYoZC5fX0U9ZC5fXz1udWxsKX1jYXRjaChlKXt0Ll9fdj1udWxsLGx8fG51bGwhPXM/KHQuX19lPWEsdC5fX3V8PWw/MTYwOjMyLHNbcy5pbmRleE9mKGEpXT1udWxsKToodC5fX2U9aS5fX2UsdC5fX2s9aS5fX2spLHhzLl9fZShlLHQsaSl9ZWxzZSBudWxsPT1zJiZ0Ll9fdj09PWkuX192Pyh0Ll9faz1pLl9fayx0Ll9fZT1pLl9fZSk6dC5fX2U9YW8oaS5fX2UsdCxpLHIsbixzLG8sbCx1KTsoYz14cy5kaWZmZWQpJiZjKHQpfWZ1bmN0aW9uIG9vKGUsdCxpKXt0Ll9fZD12b2lkIDA7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspbG8oaVtyXSxpWysrcl0saVsrK3JdKTt4cy5fX2MmJnhzLl9fYyh0LGUpLGUuc29tZSgoZnVuY3Rpb24odCl7dHJ5e2U9dC5fX2gsdC5fX2g9W10sZS5zb21lKChmdW5jdGlvbihlKXtlLmNhbGwodCl9KSl9Y2F0Y2goZSl7eHMuX19lKGUsdC5fX3YpfX0pKX1mdW5jdGlvbiBhbyhlLHQsaSxyLG4scyxvLGEsbCl7dmFyIHUsYyxkLGgsXyxwLHYsZz1pLnByb3BzLGY9dC5wcm9wcyxtPXQudHlwZTtpZihcInN2Z1wiPT09bSYmKG49ITApLG51bGwhPXMpZm9yKHU9MDt1PHMubGVuZ3RoO3UrKylpZigoXz1zW3VdKSYmXCJzZXRBdHRyaWJ1dGVcImluIF89PSEhbSYmKG0/Xy5sb2NhbE5hbWU9PT1tOjM9PT1fLm5vZGVUeXBlKSl7ZT1fLHNbdV09bnVsbDticmVha31pZihudWxsPT1lKXtpZihudWxsPT09bSlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZik7ZT1uP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsbSk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChtLGYuaXMmJmYpLHM9bnVsbCxhPSExfWlmKG51bGw9PT1tKWc9PT1mfHxhJiZlLmRhdGE9PT1mfHwoZS5kYXRhPWYpO2Vsc2V7aWYocz1zJiZFcy5jYWxsKGUuY2hpbGROb2RlcyksZz1pLnByb3BzfHxxcywhYSYmbnVsbCE9cylmb3IoZz17fSx1PTA7dTxlLmF0dHJpYnV0ZXMubGVuZ3RoO3UrKylnWyhfPWUuYXR0cmlidXRlc1t1XSkubmFtZV09Xy52YWx1ZTtmb3IodSBpbiBnKV89Z1t1XSxcImNoaWxkcmVuXCI9PXV8fChcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PXU/ZD1fOlwia2V5XCI9PT11fHx1IGluIGZ8fGlvKGUsdSxudWxsLF8sbikpO2Zvcih1IGluIGYpXz1mW3VdLFwiY2hpbGRyZW5cIj09dT9oPV86XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT11P2M9XzpcInZhbHVlXCI9PXU/cD1fOlwiY2hlY2tlZFwiPT11P3Y9XzpcImtleVwiPT09dXx8YSYmXCJmdW5jdGlvblwiIT10eXBlb2YgX3x8Z1t1XT09PV98fGlvKGUsdSxfLGdbdV0sbik7aWYoYylhfHxkJiYoYy5fX2h0bWw9PT1kLl9faHRtbHx8Yy5fX2h0bWw9PT1lLmlubmVySFRNTCl8fChlLmlubmVySFRNTD1jLl9faHRtbCksdC5fX2s9W107ZWxzZSBpZihkJiYoZS5pbm5lckhUTUw9XCJcIiksWHMoZSxIcyhoKT9oOltoXSx0LGkscixuJiZcImZvcmVpZ25PYmplY3RcIiE9PW0scyxvLHM/c1swXTppLl9fayYmR3MoaSwwKSxhLGwpLG51bGwhPXMpZm9yKHU9cy5sZW5ndGg7dS0tOyludWxsIT1zW3VdJiZVcyhzW3VdKTthfHwodT1cInZhbHVlXCIsdm9pZCAwIT09cCYmKHAhPT1lW3VdfHxcInByb2dyZXNzXCI9PT1tJiYhcHx8XCJvcHRpb25cIj09PW0mJnAhPT1nW3VdKSYmaW8oZSx1LHAsZ1t1XSwhMSksdT1cImNoZWNrZWRcIix2b2lkIDAhPT12JiZ2IT09ZVt1XSYmaW8oZSx1LHYsZ1t1XSwhMSkpfXJldHVybiBlfWZ1bmN0aW9uIGxvKGUsdCxpKXt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHQpOmUuY3VycmVudD10fWNhdGNoKGUpe3hzLl9fZShlLGkpfX1mdW5jdGlvbiB1byhlLHQsaSl7dmFyIHIsbjtpZih4cy51bm1vdW50JiZ4cy51bm1vdW50KGUpLChyPWUucmVmKSYmKHIuY3VycmVudCYmci5jdXJyZW50IT09ZS5fX2V8fGxvKHIsbnVsbCx0KSksbnVsbCE9KHI9ZS5fX2MpKXtpZihyLmNvbXBvbmVudFdpbGxVbm1vdW50KXRyeXtyLmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2goZSl7eHMuX19lKGUsdCl9ci5iYXNlPXIuX19QPW51bGwsZS5fX2M9dm9pZCAwfWlmKHI9ZS5fX2spZm9yKG49MDtuPHIubGVuZ3RoO24rKylyW25dJiZ1byhyW25dLHQsaXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS50eXBlKTtpfHxudWxsPT1lLl9fZXx8VXMoZS5fX2UpLGUuX189ZS5fX2U9ZS5fX2Q9dm9pZCAwfWZ1bmN0aW9uIGNvKGUsdCxpKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihlLGkpfUVzPU5zLnNsaWNlLHhzPXtfX2U6ZnVuY3Rpb24oZSx0LGkscil7Zm9yKHZhciBuLHMsbzt0PXQuX187KWlmKChuPXQuX19jKSYmIW4uX18pdHJ5e2lmKChzPW4uY29uc3RydWN0b3IpJiZudWxsIT1zLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciYmKG4uc2V0U3RhdGUocy5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZSkpLG89bi5fX2QpLG51bGwhPW4uY29tcG9uZW50RGlkQ2F0Y2gmJihuLmNvbXBvbmVudERpZENhdGNoKGUscnx8e30pLG89bi5fX2QpLG8pcmV0dXJuIG4uX19FPW59Y2F0Y2godCl7ZT10fXRocm93IGV9fSxJcz0wLFZzLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBpO2k9bnVsbCE9dGhpcy5fX3MmJnRoaXMuX19zIT09dGhpcy5zdGF0ZT90aGlzLl9fczp0aGlzLl9fcz1qcyh7fSx0aGlzLnN0YXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZT1lKGpzKHt9LGkpLHRoaXMucHJvcHMpKSxlJiZqcyhpLGUpLG51bGwhPWUmJnRoaXMuX192JiYodCYmdGhpcy5fc2IucHVzaCh0KSxZcyh0aGlzKSl9LFZzLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9fdiYmKHRoaXMuX19lPSEwLGUmJnRoaXMuX19oLnB1c2goZSksWXModGhpcykpfSxWcy5wcm90b3R5cGUucmVuZGVyPVdzLFBzPVtdLEZzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2U/UHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKTpzZXRUaW1lb3V0LFRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX192Ll9fYi10Ll9fdi5fX2J9LEtzLl9fcj0wLFJzPTAsZnVuY3Rpb24oZSl7ZS5CdXR0b249XCJidXR0b25cIixlLlRhYj1cInRhYlwiLGUuU2VsZWN0b3I9XCJzZWxlY3RvclwifSgkc3x8KCRzPXt9KSksZnVuY3Rpb24oZSl7ZS5MZWZ0PVwibGVmdFwiLGUuQ2VudGVyPVwiY2VudGVyXCIsZS5SaWdodD1cInJpZ2h0XCIsZS5OZXh0VG9UcmlnZ2VyPVwibmV4dF90b190cmlnZ2VyXCJ9KE9zfHwoT3M9e30pKSxmdW5jdGlvbihlKXtlLlBvcG92ZXI9XCJwb3BvdmVyXCIsZS5BUEk9XCJhcGlcIixlLldpZGdldD1cIndpZGdldFwifShNc3x8KE1zPXt9KSksZnVuY3Rpb24oZSl7ZS5PcGVuPVwib3BlblwiLGUuTXVsdGlwbGVDaG9pY2U9XCJtdWx0aXBsZV9jaG9pY2VcIixlLlNpbmdsZUNob2ljZT1cInNpbmdsZV9jaG9pY2VcIixlLlJhdGluZz1cInJhdGluZ1wiLGUuTGluaz1cImxpbmtcIn0oQXN8fChBcz17fSkpLGZ1bmN0aW9uKGUpe2UuTmV4dFF1ZXN0aW9uPVwibmV4dF9xdWVzdGlvblwiLGUuRW5kPVwiZW5kXCIsZS5SZXNwb25zZUJhc2VkPVwicmVzcG9uc2VfYmFzZWRcIixlLlNwZWNpZmljUXVlc3Rpb249XCJzcGVjaWZpY19xdWVzdGlvblwifShMc3x8KExzPXt9KSksZnVuY3Rpb24oZSl7ZS5PbmNlPVwib25jZVwiLGUuUmVjdXJyaW5nPVwicmVjdXJyaW5nXCIsZS5BbHdheXM9XCJhbHdheXNcIn0oRHN8fChEcz17fSkpO3ZhciBobz1mdW5jdGlvbihlLHQpe2lmKCFmdW5jdGlvbihlKXt0cnl7bmV3IFJlZ0V4cChlKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH0odCkpcmV0dXJuITE7dHJ5e3JldHVybiBuZXcgUmVnRXhwKHQpLnRlc3QoZSl9Y2F0Y2goZSl7cmV0dXJuITF9fSxfbz1CKFwiW1N1cnZleXNdXCIpLHBvPXtpY29udGFpbnM6KGUsdCk9PmUuc29tZSgoZT0+dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkpKSxub3RfaWNvbnRhaW5zOihlLHQpPT5lLmV2ZXJ5KChlPT4hdC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkpKSxyZWdleDooZSx0KT0+ZS5zb21lKChlPT5obyh0LGUpKSksbm90X3JlZ2V4OihlLHQpPT5lLmV2ZXJ5KChlPT4haG8odCxlKSkpLGV4YWN0OihlLHQpPT5lLnNvbWUoKGU9PnQ9PT1lKSksaXNfbm90OihlLHQpPT5lLmV2ZXJ5KChlPT50IT09ZSkpfTtmdW5jdGlvbiB2byhlKXtyZXR1cm4gbnVsbCE9ZT9lOlwiaWNvbnRhaW5zXCJ9T3MuUmlnaHQ7IWZ1bmN0aW9uKGUsdCl7dmFyIGk9e19fYzp0PVwiX19jQ1wiK1JzKyssX186ZSxDb25zdW1lcjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmNoaWxkcmVuKHQpfSxQcm92aWRlcjpmdW5jdGlvbihlKXt2YXIgaSxyO3JldHVybiB0aGlzLmdldENoaWxkQ29udGV4dHx8KGk9W10sKHI9e30pW3RdPXRoaXMsdGhpcy5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5wcm9wcy52YWx1ZSE9PWUudmFsdWUmJmkuc29tZSgoZnVuY3Rpb24oZSl7ZS5fX2U9ITAsWXMoZSl9KSl9LHRoaXMuc3ViPWZ1bmN0aW9uKGUpe2kucHVzaChlKTt2YXIgdD1lLmNvbXBvbmVudFdpbGxVbm1vdW50O2UuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YoZSksMSksdCYmdC5jYWxsKGUpfX0pLGUuY2hpbGRyZW59fTtpLlByb3ZpZGVyLl9fPWkuQ29uc3VtZXIuY29udGV4dFR5cGU9aX0oe2lzUHJldmlld01vZGU6ITEscHJldmlld1BhZ2VJbmRleDowLG9uUG9wdXBTdXJ2ZXlEaXNtaXNzZWQ6KCk9Pnt9LGlzUG9wdXA6ITAsb25QcmV2aWV3U3VibWl0OigpPT57fX0pO2NsYXNzIGdve2NvbnN0cnVjdG9yKCl7Vyh0aGlzLFwiZXZlbnRzXCIse30pLHRoaXMuZXZlbnRzPXt9fW9uKGUsdCl7cmV0dXJuIHRoaXMuZXZlbnRzW2VdfHwodGhpcy5ldmVudHNbZV09W10pLHRoaXMuZXZlbnRzW2VdLnB1c2godCksKCk9Pnt0aGlzLmV2ZW50c1tlXT10aGlzLmV2ZW50c1tlXS5maWx0ZXIoKGU9PmUhPT10KSl9fWVtaXQoZSx0KXtmb3IodmFyIGkgb2YgdGhpcy5ldmVudHNbZV18fFtdKWkodCk7Zm9yKHZhciByIG9mIHRoaXMuZXZlbnRzW1wiKlwiXXx8W10pcihlLHQpfX1jbGFzcyBmb3tjb25zdHJ1Y3RvcihlKXtXKHRoaXMsXCJfZGVidWdFdmVudEVtaXR0ZXJcIixuZXcgZ28pLFcodGhpcyxcImNoZWNrU3RlcFwiLCgoZSx0KT0+dGhpcy5jaGVja1N0ZXBFdmVudChlLHQpJiZ0aGlzLmNoZWNrU3RlcFVybChlLHQpJiZ0aGlzLmNoZWNrU3RlcEVsZW1lbnQoZSx0KSkpLFcodGhpcyxcImNoZWNrU3RlcEV2ZW50XCIsKChlLHQpPT5udWxsPT10fHwhdC5ldmVudHx8KG51bGw9PWU/dm9pZCAwOmUuZXZlbnQpPT09KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuYWN0aW9uRXZlbnRzPW5ldyBTZXQsdGhpcy5hY3Rpb25SZWdpc3RyeT1uZXcgU2V0fWluaXQoKXt2YXIgZTtpZighRihudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuX2FkZENhcHR1cmVIb29rKSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHx0Ll9hZGRDYXB0dXJlSG9vaygoKGUsdCk9Pnt0aGlzLm9uKGUsdCl9KSl9fXJlZ2lzdGVyKGUpe3ZhciB0LGk7aWYoIUYobnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Ll9hZGRDYXB0dXJlSG9vaykmJihlLmZvckVhY2goKGU9Pnt2YXIgdCxpO251bGw9PT0odD10aGlzLmFjdGlvblJlZ2lzdHJ5KXx8dm9pZCAwPT09dHx8dC5hZGQoZSksbnVsbD09PShpPWUuc3RlcHMpfHx2b2lkIDA9PT1pfHxpLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5hY3Rpb25FdmVudHMpfHx2b2lkIDA9PT10fHx0LmFkZCgobnVsbD09ZT92b2lkIDA6ZS5ldmVudCl8fFwiXCIpfSkpfSkpLG51bGwhPT0oaT10aGlzLmluc3RhbmNlKSYmdm9pZCAwIT09aSYmaS5hdXRvY2FwdHVyZSkpe3ZhciByLG49bmV3IFNldDtlLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsPT09KHQ9ZS5zdGVwcyl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgoZT0+e251bGwhPWUmJmUuc2VsZWN0b3ImJm4uYWRkKG51bGw9PWU/dm9pZCAwOmUuc2VsZWN0b3IpfSkpfSkpLG51bGw9PT0ocj10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09cnx8ci5hdXRvY2FwdHVyZS5zZXRFbGVtZW50U2VsZWN0b3JzKG4pfX1vbihlLHQpe3ZhciBpO251bGwhPXQmJjAhPWUubGVuZ3RoJiYodGhpcy5hY3Rpb25FdmVudHMuaGFzKGUpfHx0aGlzLmFjdGlvbkV2ZW50cy5oYXMobnVsbD09dD92b2lkIDA6dC5ldmVudCkpJiZ0aGlzLmFjdGlvblJlZ2lzdHJ5JiYobnVsbD09PShpPXRoaXMuYWN0aW9uUmVnaXN0cnkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNpemUpPjAmJnRoaXMuYWN0aW9uUmVnaXN0cnkuZm9yRWFjaCgoZT0+e3RoaXMuY2hlY2tBY3Rpb24odCxlKSYmdGhpcy5fZGVidWdFdmVudEVtaXR0ZXIuZW1pdChcImFjdGlvbkNhcHR1cmVkXCIsZS5uYW1lKX0pKX1fYWRkQWN0aW9uSG9vayhlKXt0aGlzLm9uQWN0aW9uKFwiYWN0aW9uQ2FwdHVyZWRcIiwodD0+ZSh0KSkpfWNoZWNrQWN0aW9uKGUsdCl7aWYobnVsbD09KG51bGw9PXQ/dm9pZCAwOnQuc3RlcHMpKXJldHVybiExO2Zvcih2YXIgaSBvZiB0LnN0ZXBzKWlmKHRoaXMuY2hlY2tTdGVwKGUsaSkpcmV0dXJuITA7cmV0dXJuITF9b25BY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZGVidWdFdmVudEVtaXR0ZXIub24oZSx0KX1jaGVja1N0ZXBVcmwoZSx0KXtpZihudWxsIT10JiZ0LnVybCl7dmFyIGkscj1udWxsPT1lfHxudWxsPT09KGk9ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09aT92b2lkIDA6aS4kY3VycmVudF91cmw7aWYoIXJ8fFwic3RyaW5nXCIhPXR5cGVvZiByKXJldHVybiExO2lmKCFmby5tYXRjaFN0cmluZyhyLG51bGw9PXQ/dm9pZCAwOnQudXJsLChudWxsPT10P3ZvaWQgMDp0LnVybF9tYXRjaGluZyl8fFwiY29udGFpbnNcIikpcmV0dXJuITF9cmV0dXJuITB9c3RhdGljIG1hdGNoU3RyaW5nKGUsaSxyKXtzd2l0Y2gocil7Y2FzZVwicmVnZXhcIjpyZXR1cm4hIXQmJmhvKGUsaSk7Y2FzZVwiZXhhY3RcIjpyZXR1cm4gaT09PWU7Y2FzZVwiY29udGFpbnNcIjp2YXIgbj1mby5lc2NhcGVTdHJpbmdSZWdleHAoaSkucmVwbGFjZSgvXy9nLFwiLlwiKS5yZXBsYWNlKC8lL2csXCIuKlwiKTtyZXR1cm4gaG8oZSxuKTtkZWZhdWx0OnJldHVybiExfX1zdGF0aWMgZXNjYXBlU3RyaW5nUmVnZXhwKGUpe3JldHVybiBlLnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoLy0vZyxcIlxcXFx4MmRcIil9Y2hlY2tTdGVwRWxlbWVudChlLHQpe2lmKChudWxsIT10JiZ0LmhyZWZ8fG51bGwhPXQmJnQudGFnX25hbWV8fG51bGwhPXQmJnQudGV4dCkmJiF0aGlzLmdldEVsZW1lbnRzTGlzdChlKS5zb21lKChlPT4hKG51bGwhPXQmJnQuaHJlZiYmIWZvLm1hdGNoU3RyaW5nKGUuaHJlZnx8XCJcIixudWxsPT10P3ZvaWQgMDp0LmhyZWYsKG51bGw9PXQ/dm9pZCAwOnQuaHJlZl9tYXRjaGluZyl8fFwiZXhhY3RcIikpJiYoKG51bGw9PXR8fCF0LnRhZ19uYW1lfHxlLnRhZ19uYW1lPT09KG51bGw9PXQ/dm9pZCAwOnQudGFnX25hbWUpKSYmIShudWxsIT10JiZ0LnRleHQmJiFmby5tYXRjaFN0cmluZyhlLnRleHR8fFwiXCIsbnVsbD09dD92b2lkIDA6dC50ZXh0LChudWxsPT10P3ZvaWQgMDp0LnRleHRfbWF0Y2hpbmcpfHxcImV4YWN0XCIpJiYhZm8ubWF0Y2hTdHJpbmcoZS4kZWxfdGV4dHx8XCJcIixudWxsPT10P3ZvaWQgMDp0LnRleHQsKG51bGw9PXQ/dm9pZCAwOnQudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikpKSkpKXJldHVybiExO2lmKG51bGwhPXQmJnQuc2VsZWN0b3Ipe3ZhciBpLHI9bnVsbD09ZXx8bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJGVsZW1lbnRfc2VsZWN0b3JzO2lmKCFyKXJldHVybiExO2lmKCFyLmluY2x1ZGVzKG51bGw9PXQ/dm9pZCAwOnQuc2VsZWN0b3IpKXJldHVybiExfXJldHVybiEwfWdldEVsZW1lbnRzTGlzdChlKXtyZXR1cm4gbnVsbD09KG51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kZWxlbWVudHMpP1tdOm51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kZWxlbWVudHN9fWNsYXNzIG1ve2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmV2ZW50VG9TdXJ2ZXlzPW5ldyBNYXAsdGhpcy5hY3Rpb25Ub1N1cnZleXM9bmV3IE1hcH1yZWdpc3RlcihlKXt2YXIgdDtGKG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5fYWRkQ2FwdHVyZUhvb2spfHwodGhpcy5zZXR1cEV2ZW50QmFzZWRTdXJ2ZXlzKGUpLHRoaXMuc2V0dXBBY3Rpb25CYXNlZFN1cnZleXMoZSkpfXNldHVwQWN0aW9uQmFzZWRTdXJ2ZXlzKGUpe3ZhciB0PWUuZmlsdGVyKChlPT57dmFyIHQsaSxyLG47cmV0dXJuKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFjdGlvbnMpJiYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmFjdGlvbnMpfHx2b2lkIDA9PT1yfHxudWxsPT09KG49ci52YWx1ZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxlbmd0aCk+MH0pKTtpZigwIT09dC5sZW5ndGgpe2lmKG51bGw9PXRoaXMuYWN0aW9uTWF0Y2hlcil7dGhpcy5hY3Rpb25NYXRjaGVyPW5ldyBmbyh0aGlzLmluc3RhbmNlKSx0aGlzLmFjdGlvbk1hdGNoZXIuaW5pdCgpO3RoaXMuYWN0aW9uTWF0Y2hlci5fYWRkQWN0aW9uSG9vaygoZT0+e3RoaXMub25BY3Rpb24oZSl9KSl9dC5mb3JFYWNoKChlPT57dmFyIHQsaSxyLG4scyxvLGEsbCx1LGM7ZS5jb25kaXRpb25zJiZudWxsIT09KHQ9ZS5jb25kaXRpb25zKSYmdm9pZCAwIT09dCYmdC5hY3Rpb25zJiZudWxsIT09KGk9ZS5jb25kaXRpb25zKSYmdm9pZCAwIT09aSYmbnVsbCE9PShyPWkuYWN0aW9ucykmJnZvaWQgMCE9PXImJnIudmFsdWVzJiYobnVsbD09PShuPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PW58fG51bGw9PT0ocz1uLmFjdGlvbnMpfHx2b2lkIDA9PT1zfHxudWxsPT09KG89cy52YWx1ZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCk+MCYmKG51bGw9PT0oYT10aGlzLmFjdGlvbk1hdGNoZXIpfHx2b2lkIDA9PT1hfHxhLnJlZ2lzdGVyKGUuY29uZGl0aW9ucy5hY3Rpb25zLnZhbHVlcyksbnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0odT1sLmFjdGlvbnMpfHx2b2lkIDA9PT11fHxudWxsPT09KGM9dS52YWx1ZXMpfHx2b2lkIDA9PT1jfHxjLmZvckVhY2goKHQ9PntpZih0JiZ0Lm5hbWUpe3ZhciBpPXRoaXMuYWN0aW9uVG9TdXJ2ZXlzLmdldCh0Lm5hbWUpO2kmJmkucHVzaChlLmlkKSx0aGlzLmFjdGlvblRvU3VydmV5cy5zZXQodC5uYW1lLGl8fFtlLmlkXSl9fSkpKX0pKX19c2V0dXBFdmVudEJhc2VkU3VydmV5cyhlKXt2YXIgdDtpZigwIT09ZS5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIsbjtyZXR1cm4obnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzKSYmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ldmVudHMpfHx2b2lkIDA9PT1yfHxudWxsPT09KG49ci52YWx1ZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxlbmd0aCk+MH0pKS5sZW5ndGgpe251bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8dC5fYWRkQ2FwdHVyZUhvb2soKChlLHQpPT57dGhpcy5vbkV2ZW50KGUsdCl9KSksZS5mb3JFYWNoKChlPT57dmFyIHQsaSxyO251bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5ldmVudHMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS52YWx1ZXMpfHx2b2lkIDA9PT1yfHxyLmZvckVhY2goKHQ9PntpZih0JiZ0Lm5hbWUpe3ZhciBpPXRoaXMuZXZlbnRUb1N1cnZleXMuZ2V0KHQubmFtZSk7aSYmaS5wdXNoKGUuaWQpLHRoaXMuZXZlbnRUb1N1cnZleXMuc2V0KHQubmFtZSxpfHxbZS5pZF0pfX0pKX0pKX19b25FdmVudChlLHQpe3ZhciBpLHIsbj0obnVsbD09PShpPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIucHJvcHNbTWVdKXx8W107aWYobW8uU1VSVkVZX1NIT1dOX0VWRU5UX05BTUU9PWUmJnQmJm4ubGVuZ3RoPjApe3ZhciBzLG89bnVsbD09dHx8bnVsbD09PShzPXQucHJvcGVydGllcyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuJHN1cnZleV9pZDtpZihvKXt2YXIgYT1uLmluZGV4T2Yobyk7YT49MCYmKG4uc3BsaWNlKGEsMSksdGhpcy5fdXBkYXRlQWN0aXZhdGVkU3VydmV5cyhuKSl9fWVsc2UgdGhpcy5ldmVudFRvU3VydmV5cy5oYXMoZSkmJnRoaXMuX3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMobi5jb25jYXQodGhpcy5ldmVudFRvU3VydmV5cy5nZXQoZSl8fFtdKSl9b25BY3Rpb24oZSl7dmFyIHQsaSxyPShudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wcm9wc1tNZV0pfHxbXTt0aGlzLmFjdGlvblRvU3VydmV5cy5oYXMoZSkmJnRoaXMuX3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMoci5jb25jYXQodGhpcy5hY3Rpb25Ub1N1cnZleXMuZ2V0KGUpfHxbXSkpfV91cGRhdGVBY3RpdmF0ZWRTdXJ2ZXlzKGUpe3ZhciB0LGk7bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tNZV06Wy4uLm5ldyBTZXQoZSldfSl9Z2V0U3VydmV5cygpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wcm9wc1tNZV07cmV0dXJuIGl8fFtdfWdldEV2ZW50VG9TdXJ2ZXlzKCl7cmV0dXJuIHRoaXMuZXZlbnRUb1N1cnZleXN9X2dldEFjdGlvbk1hdGNoZXIoKXtyZXR1cm4gdGhpcy5hY3Rpb25NYXRjaGVyfX1XKG1vLFwiU1VSVkVZX1NIT1dOX0VWRU5UX05BTUVcIixcInN1cnZleSBzaG93blwiKTtjbGFzcyB5b3tjb25zdHJ1Y3RvcihlKXtXKHRoaXMsXCJfaXNGZXRjaGluZ1N1cnZleXNcIiwhMSksVyh0aGlzLFwiX2lzSW5pdGlhbGl6aW5nU3VydmV5c1wiLCExKSxXKHRoaXMsXCJfc3VydmV5Q2FsbGJhY2tzXCIsW10pLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW51bGx9b25SZW1vdGVDb25maWcoZSl7dmFyIHQ9ZS5zdXJ2ZXlzO2lmKE8odCkpcmV0dXJuIF9vLndhcm4oXCJEZWNpZGUgbm90IGxvYWRlZCB5ZXQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpO3ZhciBpPXgodCk7dGhpcy5faGFzU3VydmV5cz1pP3QubGVuZ3RoPjA6dCxfby5pbmZvKFwiZGVjaWRlIHJlc3BvbnNlIHJlY2VpdmVkLCBoYXNTdXJ2ZXlzOiBcIi5jb25jYXQodGhpcy5faGFzU3VydmV5cykpLHRoaXMuX2hhc1N1cnZleXMmJnRoaXMubG9hZElmRW5hYmxlZCgpfXJlc2V0KCl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJsYXN0U2VlblN1cnZleURhdGVcIik7dmFyIGU9KCgpPT57Zm9yKHZhciBlPVtdLHQ9MDt0PGxvY2FsU3RvcmFnZS5sZW5ndGg7dCsrKXt2YXIgaT1sb2NhbFN0b3JhZ2Uua2V5KHQpO251bGwhPWkmJmkuc3RhcnRzV2l0aChcInNlZW5TdXJ2ZXlfXCIpJiZlLnB1c2goaSl9cmV0dXJuIGV9KSgpO2UuZm9yRWFjaCgoZT0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSkpKX1sb2FkSWZFbmFibGVkKCl7aWYoIXRoaXMuX3N1cnZleU1hbmFnZXIpaWYodGhpcy5faXNJbml0aWFsaXppbmdTdXJ2ZXlzKV9vLmluZm8oXCJBbHJlYWR5IGluaXRpYWxpemluZyBzdXJ2ZXlzLCBza2lwcGluZy4uLlwiKTtlbHNlIGlmKHRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc3VydmV5cylfby5pbmZvKFwiRGlzYWJsZWQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpO2Vsc2V7dmFyIGU9bnVsbD09Xz92b2lkIDA6Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX187aWYoZSlpZih0aGlzLl9oYXNTdXJ2ZXlzKXt0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXM9ITA7dHJ5e3ZhciB0PWUuZ2VuZXJhdGVTdXJ2ZXlzO2lmKHQpdGhpcy5fc3VydmV5TWFuYWdlcj10KHRoaXMuaW5zdGFuY2UpLHRoaXMuX2lzSW5pdGlhbGl6aW5nU3VydmV5cz0hMSx0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW5ldyBtbyh0aGlzLmluc3RhbmNlKSxfby5pbmZvKFwiU3VydmV5cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpLHRoaXMuX25vdGlmeVN1cnZleUNhbGxiYWNrcyh7aXNMb2FkZWQ6ITB9KTtlbHNle3ZhciBpPWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeTtpZihpKWkodGhpcy5pbnN0YW5jZSxcInN1cnZleXNcIiwodD0+e2lmKHR8fCFlLmdlbmVyYXRlU3VydmV5cylyZXR1cm4gX28uZXJyb3IoXCJDb3VsZCBub3QgbG9hZCBzdXJ2ZXlzIHNjcmlwdFwiLHQpLHZvaWQodGhpcy5faXNJbml0aWFsaXppbmdTdXJ2ZXlzPSExKTt0aGlzLl9zdXJ2ZXlNYW5hZ2VyPWUuZ2VuZXJhdGVTdXJ2ZXlzKHRoaXMuaW5zdGFuY2UpLHRoaXMuX2lzSW5pdGlhbGl6aW5nU3VydmV5cz0hMSx0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW5ldyBtbyh0aGlzLmluc3RhbmNlKSxfby5pbmZvKFwiU3VydmV5cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpLHRoaXMuX25vdGlmeVN1cnZleUNhbGxiYWNrcyh7aXNMb2FkZWQ6ITB9KX0pKTtlbHNle3ZhciByPVwiUG9zdEhvZyBsb2FkRXh0ZXJuYWxEZXBlbmRlbmN5IGV4dGVuc2lvbiBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCI7X28uZXJyb3IociksdGhpcy5faXNJbml0aWFsaXppbmdTdXJ2ZXlzPSExLHRoaXMuX25vdGlmeVN1cnZleUNhbGxiYWNrcyh7aXNMb2FkZWQ6ITEsZXJyb3I6cn0pfX19Y2F0Y2goZSl7dGhyb3cgX28uZXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgc3VydmV5c1wiLGUpLHRoaXMuX2lzSW5pdGlhbGl6aW5nU3VydmV5cz0hMSx0aGlzLl9ub3RpZnlTdXJ2ZXlDYWxsYmFja3Moe2lzTG9hZGVkOiExLGVycm9yOlwiRXJyb3IgaW5pdGlhbGl6aW5nIHN1cnZleXNcIn0pLGV9fWVsc2UgX28uaW5mbyhcIk5vIHN1cnZleXMgdG8gbG9hZC5cIik7ZWxzZSBfby5lcnJvcihcIlBvc3RIb2cgRXh0ZW5zaW9ucyBub3QgZm91bmQuXCIpfX1vblN1cnZleXNMb2FkZWQoZSl7cmV0dXJuIHRoaXMuX3N1cnZleUNhbGxiYWNrcy5wdXNoKGUpLHRoaXMuX3N1cnZleU1hbmFnZXImJnRoaXMuX25vdGlmeVN1cnZleUNhbGxiYWNrcyh7aXNMb2FkZWQ6ITB9KSwoKT0+e3RoaXMuX3N1cnZleUNhbGxiYWNrcz10aGlzLl9zdXJ2ZXlDYWxsYmFja3MuZmlsdGVyKCh0PT50IT09ZSkpfX1nZXRTdXJ2ZXlzKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYodGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXJldHVybiBfby5pbmZvKFwiRGlzYWJsZWQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpLGUoW10pO3ZhciBpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KE9lKTtpZihpJiYhdClyZXR1cm4gZShpLHtpc0xvYWRlZDohMH0pO2lmKHRoaXMuX2lzRmV0Y2hpbmdTdXJ2ZXlzKXJldHVybiBlKFtdLHtpc0xvYWRlZDohMSxlcnJvcjpcIlN1cnZleXMgYXJlIGFscmVhZHkgYmVpbmcgbG9hZGVkXCJ9KTt0cnl7dGhpcy5faXNGZXRjaGluZ1N1cnZleXM9ITAsdGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHt1cmw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL3N1cnZleXMvP3Rva2VuPVwiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbikpLG1ldGhvZDpcIkdFVFwiLHRpbWVvdXQ6dGhpcy5pbnN0YW5jZS5jb25maWcuc3VydmV5c19yZXF1ZXN0X3RpbWVvdXRfbXMsY2FsbGJhY2s6dD0+e3ZhciBpO3RoaXMuX2lzRmV0Y2hpbmdTdXJ2ZXlzPSExO3ZhciByPXQuc3RhdHVzQ29kZTtpZigyMDAhPT1yfHwhdC5qc29uKXt2YXIgbj1cIlN1cnZleXMgQVBJIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHN0YXR1czogXCIuY29uY2F0KHIpO3JldHVybiBfby5lcnJvcihuKSxlKFtdLHtpc0xvYWRlZDohMSxlcnJvcjpufSl9dmFyIHMsbz10Lmpzb24uc3VydmV5c3x8W10sYT1vLmZpbHRlcigoZT0+e3ZhciB0LGkscixuLHMsbyxhLGwsdSxjLGQsaDtyZXR1cm4obnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzKSYmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ldmVudHMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnZhbHVlcykmJihudWxsPT09KG49ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09bnx8bnVsbD09PShzPW4uZXZlbnRzKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMudmFsdWVzKXx8dm9pZCAwPT09bz92b2lkIDA6by5sZW5ndGgpPjB8fChudWxsPT09KGE9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09YT92b2lkIDA6YS5hY3Rpb25zKSYmKG51bGw9PT0obD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1sfHxudWxsPT09KHU9bC5hY3Rpb25zKXx8dm9pZCAwPT09dT92b2lkIDA6dS52YWx1ZXMpJiYobnVsbD09PShjPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWN8fG51bGw9PT0oZD1jLmFjdGlvbnMpfHx2b2lkIDA9PT1kfHxudWxsPT09KGg9ZC52YWx1ZXMpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLmxlbmd0aCk+MH0pKTthLmxlbmd0aD4wJiYobnVsbD09PShzPXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXIpfHx2b2lkIDA9PT1zfHxzLnJlZ2lzdGVyKGEpKTtyZXR1cm4gbnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbT2VdOm99KSxlKG8se2lzTG9hZGVkOiEwfSl9fSl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5faXNGZXRjaGluZ1N1cnZleXM9ITEsZX19X25vdGlmeVN1cnZleUNhbGxiYWNrcyhlKXtmb3IodmFyIHQgb2YgdGhpcy5fc3VydmV5Q2FsbGJhY2tzKXRyeXtlLmlzTG9hZGVkP3RoaXMuZ2V0U3VydmV5cyh0KTp0KFtdLGUpfWNhdGNoKGUpe19vLmVycm9yKFwiRXJyb3IgaW4gc3VydmV5IGNhbGxiYWNrXCIsZSl9fWlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUpe3JldHVybiFlfHx0aGlzLmluc3RhbmNlLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKGUpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyhlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuZ2V0U3VydmV5cygoaT0+e3ZhciByLG49aS5maWx0ZXIoKGU9PiEoIWUuc3RhcnRfZGF0ZXx8ZS5lbmRfZGF0ZSkpKS5maWx0ZXIoKGU9Pnt2YXIgaTtpZighZS5jb25kaXRpb25zKXJldHVybiEwO3ZhciByPWZ1bmN0aW9uKGUpe3ZhciBpLHIsbjtpZihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8IWkudXJsKXJldHVybiEwO3ZhciBzPW51bGw9PXR8fG51bGw9PT0ocj10LmxvY2F0aW9uKXx8dm9pZCAwPT09cj92b2lkIDA6ci5ocmVmO2lmKCFzKXJldHVybiExO3ZhciBvPVtlLmNvbmRpdGlvbnMudXJsXTtyZXR1cm4gcG9bdm8obnVsbD09PShuPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udXJsTWF0Y2hUeXBlKV0obyxzKX0oZSksbj1udWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8IWkuc2VsZWN0b3J8fChudWxsPT1hP3ZvaWQgMDphLnF1ZXJ5U2VsZWN0b3IoZS5jb25kaXRpb25zLnNlbGVjdG9yKSkscz1mdW5jdGlvbihlKXt2YXIgdCxpLHI7aWYobnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXR8fCF0LmRldmljZVR5cGVzfHwwPT09KG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmRldmljZVR5cGVzLmxlbmd0aCkpcmV0dXJuITA7aWYoIWgpcmV0dXJuITE7dmFyIG49aHMuZGV2aWNlVHlwZShoKTtyZXR1cm4gcG9bdm8obnVsbD09PShyPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGV2aWNlVHlwZXNNYXRjaFR5cGUpXShlLmNvbmRpdGlvbnMuZGV2aWNlVHlwZXMsbil9KGUpO3JldHVybiByJiZuJiZzfSkpLHM9bnVsbD09PShyPXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFN1cnZleXMoKSxvPW4uZmlsdGVyKChlPT57dmFyIHQsaSxyLG4sbyxhLGwsdSxjO2lmKCEoZS5saW5rZWRfZmxhZ19rZXl8fGUudGFyZ2V0aW5nX2ZsYWdfa2V5fHxlLmludGVybmFsX3RhcmdldGluZ19mbGFnX2tleXx8bnVsbCE9PSh0PWUuZmVhdHVyZV9mbGFnX2tleXMpJiZ2b2lkIDAhPT10JiZ0Lmxlbmd0aCkpcmV0dXJuITA7dmFyIGQ9dGhpcy5pc1N1cnZleUZlYXR1cmVGbGFnRW5hYmxlZChlLmxpbmtlZF9mbGFnX2tleSksaD10aGlzLmlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUudGFyZ2V0aW5nX2ZsYWdfa2V5KSxfPShudWxsIT09KGk9bnVsbD09PShyPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXJ8fG51bGw9PT0obj1yLmV2ZW50cyl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLnZhbHVlcyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKSYmdm9pZCAwIT09aT9pOjApPjAscD0obnVsbCE9PShhPW51bGw9PT0obD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1sfHxudWxsPT09KHU9bC5hY3Rpb25zKXx8dm9pZCAwPT09dXx8bnVsbD09PShjPXUudmFsdWVzKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5sZW5ndGgpJiZ2b2lkIDAhPT1hP2E6MCk+MCx2PSFfJiYhcHx8KG51bGw9PXM/dm9pZCAwOnMuaW5jbHVkZXMoZS5pZCkpLGc9dGhpcy5fY2FuQWN0aXZhdGVSZXBlYXRlZGx5KGUpfHx0aGlzLmlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUuaW50ZXJuYWxfdGFyZ2V0aW5nX2ZsYWdfa2V5KSxmPXRoaXMuY2hlY2tGbGFncyhlKTtyZXR1cm4gZCYmaCYmZyYmdiYmZn0pKTtyZXR1cm4gZShvKX0pLGkpfWNoZWNrRmxhZ3MoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD1lLmZlYXR1cmVfZmxhZ19rZXlzKXx8dm9pZCAwPT09dHx8IXQubGVuZ3RofHxlLmZlYXR1cmVfZmxhZ19rZXlzLmV2ZXJ5KChlPT57dmFye2tleTp0LHZhbHVlOml9PWU7cmV0dXJuIXR8fCFpfHx0aGlzLmluc3RhbmNlLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKGkpfSkpfV9jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl7dmFyIHQ7cmV0dXJuIE8obnVsbD09PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYW5BY3RpdmF0ZVJlcGVhdGVkbHkpPyhfby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKSwhMSk6Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18uY2FuQWN0aXZhdGVSZXBlYXRlZGx5KGUpfWNhblJlbmRlclN1cnZleShlKXtpZihPKHRoaXMuX3N1cnZleU1hbmFnZXIpKXJldHVybiBfby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKSx7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifTt2YXIgdD1udWxsO3JldHVybiB0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcj1pLmZpbHRlcigodD0+dC5pZD09PWUpKVswXTt0PXI/eih7fSx0aGlzLl9zdXJ2ZXlNYW5hZ2VyLmNhblJlbmRlclN1cnZleShyKSk6e3Zpc2libGU6ITEsZGlzYWJsZWRSZWFzb246XCJTdXJ2ZXkgbm90IGZvdW5kXCJ9fSkpLHR9cmVuZGVyU3VydmV5KGUsdCl7Tyh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKT9fby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTp0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcj1pLmZpbHRlcigodD0+dC5pZD09PWUpKVswXTt0aGlzLl9zdXJ2ZXlNYW5hZ2VyLnJlbmRlclN1cnZleShyLG51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3Rvcih0KSl9KSl9fXZhciBibz1CKFwiW1JhdGVMaW1pdGVyXVwiKTtjbGFzcyB3b3tjb25zdHJ1Y3RvcihlKXt2YXIgdCxpO1codGhpcyxcInNlcnZlckxpbWl0c1wiLHt9KSxXKHRoaXMsXCJsYXN0RXZlbnRSYXRlTGltaXRlZFwiLCExKSxXKHRoaXMsXCJjaGVja0ZvckxpbWl0aW5nXCIsKGU9Pnt2YXIgdD1lLnRleHQ7aWYodCYmdC5sZW5ndGgpdHJ5eyhKU09OLnBhcnNlKHQpLnF1b3RhX2xpbWl0ZWR8fFtdKS5mb3JFYWNoKChlPT57Ym8uaW5mbyhcIlwiLmNvbmNhdChlfHxcImV2ZW50c1wiLFwiIGlzIHF1b3RhIGxpbWl0ZWQuXCIpKSx0aGlzLnNlcnZlckxpbWl0c1tlXT0obmV3IERhdGUpLmdldFRpbWUoKSs2ZTR9KSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgYm8ud2FybignY291bGQgbm90IHJhdGUgbGltaXQgLSBjb250aW51aW5nLiBFcnJvcjogXCInLmNvbmNhdChudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UsJ1wiJykse3RleHQ6dH0pfX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kPShudWxsPT09KHQ9ZS5jb25maWcucmF0ZV9saW1pdGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzX3Blcl9zZWNvbmQpfHwxMCx0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0PU1hdGgubWF4KChudWxsPT09KGk9ZS5jb25maWcucmF0ZV9saW1pdGluZyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZXZlbnRzX2J1cnN0X2xpbWl0KXx8MTAqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD10aGlzLmNsaWVudFJhdGVMaW1pdENvbnRleHQoITApLmlzUmF0ZUxpbWl0ZWR9Y2xpZW50UmF0ZUxpbWl0Q29udGV4dCgpe3ZhciBlLHQsaSxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sbj0obmV3IERhdGUpLmdldFRpbWUoKSxzPW51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KHFlKSkmJnZvaWQgMCE9PWU/ZTp7dG9rZW5zOnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQsbGFzdDpufTtzLnRva2Vucys9KG4tcy5sYXN0KS8xZTMqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHMubGFzdD1uLHMudG9rZW5zPnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQmJihzLnRva2Vucz10aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0KTt2YXIgbz1zLnRva2VuczwxO3JldHVybiBvfHxyfHwocy50b2tlbnM9TWF0aC5tYXgoMCxzLnRva2Vucy0xKSksIW98fHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWR8fHJ8fHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIseyQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nX21lc3NhZ2U6XCJwb3N0aG9nLWpzIGNsaWVudCByYXRlIGxpbWl0ZWQuIENvbmZpZyBpcyBzZXQgdG8gXCIuY29uY2F0KHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCxcIiBldmVudHMgcGVyIHNlY29uZCBhbmQgXCIpLmNvbmNhdCh0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0LFwiIGV2ZW50cyBidXJzdCBsaW1pdC5cIil9LHtza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD1vLG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5zZXRfcHJvcGVydHkocWUscykse2lzUmF0ZUxpbWl0ZWQ6byxyZW1haW5pbmdUb2tlbnM6cy50b2tlbnN9fWlzU2VydmVyUmF0ZUxpbWl0ZWQoZSl7dmFyIHQ9dGhpcy5zZXJ2ZXJMaW1pdHNbZXx8XCJldmVudHNcIl18fCExO3JldHVybiExIT09dCYmKG5ldyBEYXRlKS5nZXRUaW1lKCk8dH19dmFyIFNvPUIoXCJbUmVtb3RlQ29uZmlnXVwiKTtjbGFzcyBrb3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9Z2V0IHJlbW90ZUNvbmZpZygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1fLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNvbmZpZ31fbG9hZFJlbW90ZUNvbmZpZ0pzKGUpe3ZhciB0LGkscjtudWxsIT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LmxvYWRFeHRlcm5hbERlcGVuZGVuY3k/bnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJyZW1vdGUtY29uZmlnXCIsKCgpPT5lKHRoaXMucmVtb3RlQ29uZmlnKSkpOihTby5lcnJvcihcIlBvc3RIb2cgRXh0ZW5zaW9ucyBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCIpLGUoKSl9X2xvYWRSZW1vdGVDb25maWdKU09OKGUpe3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLFwiL2FycmF5L1wiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbixcIi9jb25maWdcIikpLGNhbGxiYWNrOnQ9PntlKHQuanNvbil9fSl9bG9hZCgpe3RyeXtpZih0aGlzLnJlbW90ZUNvbmZpZylyZXR1cm4gU28uaW5mbyhcIlVzaW5nIHByZWxvYWRlZCByZW1vdGUgY29uZmlnXCIsdGhpcy5yZW1vdGVDb25maWcpLHZvaWQgdGhpcy5vblJlbW90ZUNvbmZpZyh0aGlzLnJlbW90ZUNvbmZpZyk7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpcmV0dXJuIHZvaWQgU28ud2FybihcIlJlbW90ZSBjb25maWcgaXMgZGlzYWJsZWQuIEZhbGxpbmcgYmFjayB0byBsb2NhbCBjb25maWcuXCIpO3RoaXMuX2xvYWRSZW1vdGVDb25maWdKcygoZT0+e2lmKCFlKXJldHVybiBTby5pbmZvKFwiTm8gY29uZmlnIGZvdW5kIGFmdGVyIGxvYWRpbmcgcmVtb3RlIEpTIGNvbmZpZy4gRmFsbGluZyBiYWNrIHRvIEpTT04uXCIpLHZvaWQgdGhpcy5fbG9hZFJlbW90ZUNvbmZpZ0pTT04oKGU9Pnt0aGlzLm9uUmVtb3RlQ29uZmlnKGUpfSkpO3RoaXMub25SZW1vdGVDb25maWcoZSl9KSl9Y2F0Y2goZSl7U28uZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlbW90ZSBjb25maWdcIixlKX19b25SZW1vdGVDb25maWcoZSl7ZT90aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZz8odGhpcy5pbnN0YW5jZS5fb25SZW1vdGVDb25maWcoZSksITEhPT1lLmhhc0ZlYXR1cmVGbGFncyYmdGhpcy5pbnN0YW5jZS5mZWF0dXJlRmxhZ3MuZW5zdXJlRmxhZ3NMb2FkZWQoKSk6U28uaW5mbyhcIl9fcHJldmlld19yZW1vdGVfY29uZmlnIGlzIGRpc2FibGVkLiBMb2dnaW5nIGNvbmZpZyBpbnN0ZWFkXCIsZSk6U28uZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcmVtb3RlIGNvbmZpZyBmcm9tIFBvc3RIb2cuXCIpfX12YXIgRW89ZnVuY3Rpb24oZSl7dmFyIHQsaSxyLG4scz1cIlwiO2Zvcih0PWk9MCxyPShlPShlK1wiXCIpLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpKS5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBvPWUuY2hhckNvZGVBdChuKSxhPW51bGw7bzwxMjg/aSsrOmE9bz4xMjcmJm88MjA0OD9TdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjZ8MTkyLDYzJm98MTI4KTpTdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjEyfDIyNCxvPj42JjYzfDEyOCw2MyZvfDEyOCksJChhKXx8KGk+dCYmKHMrPWUuc3Vic3RyaW5nKHQsaSkpLHMrPWEsdD1pPW4rMSl9cmV0dXJuIGk+dCYmKHMrPWUuc3Vic3RyaW5nKHQsZS5sZW5ndGgpKSxzfSx4bz0hIWN8fCEhdSxJbz1cInRleHQvcGxhaW5cIixQbz0oZSx0KT0+e3ZhcltpLHJdPWUuc3BsaXQoXCI/XCIpLG49eih7fSx0KTtudWxsPT1yfHxyLnNwbGl0KFwiJlwiKS5mb3JFYWNoKChlPT57dmFyW3RdPWUuc3BsaXQoXCI9XCIpO2RlbGV0ZSBuW3RdfSkpO3ZhciBzPWt0KG4pO3JldHVybiBzPXM/KHI/citcIiZcIjpcIlwiKStzOnIsXCJcIi5jb25jYXQoaSxcIj9cIikuY29uY2F0KHMpfSxDbz0oZSx0KT0+SlNPTi5zdHJpbmdpZnkoZSwoKGUsdCk9PlwiYmlnaW50XCI9PXR5cGVvZiB0P3QudG9TdHJpbmcoKTp0KSx0KSxGbz10PT57dmFye2RhdGE6aSxjb21wcmVzc2lvbjpyfT10O2lmKGkpe2lmKHI9PT1lLkdaaXBKUyl7dmFyIG49JHIoT3IoQ28oaSkpLHttdGltZTowfSkscz1uZXcgQmxvYihbbl0se3R5cGU6SW99KTtyZXR1cm57Y29udGVudFR5cGU6SW8sYm9keTpzLGVzdGltYXRlZFNpemU6cy5zaXplfX1pZihyPT09ZS5CYXNlNjQpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0LGkscixuLHMsbz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYT0wLGw9MCx1PVwiXCIsYz1bXTtpZighZSlyZXR1cm4gZTtlPUVvKGUpO2Rve3Q9KHM9ZS5jaGFyQ29kZUF0KGErKyk8PDE2fGUuY2hhckNvZGVBdChhKyspPDw4fGUuY2hhckNvZGVBdChhKyspKT4+MTgmNjMsaT1zPj4xMiY2MyxyPXM+PjYmNjMsbj02MyZzLGNbbCsrXT1vLmNoYXJBdCh0KStvLmNoYXJBdChpKStvLmNoYXJBdChyKStvLmNoYXJBdChuKX13aGlsZShhPGUubGVuZ3RoKTtzd2l0Y2godT1jLmpvaW4oXCJcIiksZS5sZW5ndGglMyl7Y2FzZSAxOnU9dS5zbGljZSgwLC0yKStcIj09XCI7YnJlYWs7Y2FzZSAyOnU9dS5zbGljZSgwLC0xKStcIj1cIn1yZXR1cm4gdX0oQ28oaSkpLGE9KGU9PlwiZGF0YT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpDbyhlKSkpKG8pO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGJvZHk6YSxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFthXSkuc2l6ZX19dmFyIGw9Q28oaSk7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvblwiLGJvZHk6bCxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFtsXSkuc2l6ZX19fSxUbz1bXTt1JiZUby5wdXNoKHt0cmFuc3BvcnQ6XCJmZXRjaFwiLG1ldGhvZDplPT57dmFyIHQsaSx7Y29udGVudFR5cGU6cixib2R5Om4sZXN0aW1hdGVkU2l6ZTpzfT1udWxsIT09KHQ9Rm8oZSkpJiZ2b2lkIDAhPT10P3Q6e30sbz1uZXcgSGVhZGVycztZKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtvLmFwcGVuZCh0LGUpfSkpLHImJm8uYXBwZW5kKFwiQ29udGVudC1UeXBlXCIscik7dmFyIGE9ZS51cmwsbD1udWxsO2lmKGQpe3ZhciBjPW5ldyBkO2w9e3NpZ25hbDpjLnNpZ25hbCx0aW1lb3V0OnNldFRpbWVvdXQoKCgpPT5jLmFib3J0KCkpLGUudGltZW91dCl9fXUoYSx6KHttZXRob2Q6KG51bGw9PWU/dm9pZCAwOmUubWV0aG9kKXx8XCJHRVRcIixoZWFkZXJzOm8sa2VlcGFsaXZlOlwiUE9TVFwiPT09ZS5tZXRob2QmJihzfHwwKTw1MjQyOC44LGJvZHk6bixzaWduYWw6bnVsbD09PShpPWwpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNpZ25hbH0sZS5mZXRjaE9wdGlvbnMpKS50aGVuKCh0PT50LnRleHQoKS50aGVuKChpPT57dmFyIHIsbj17c3RhdHVzQ29kZTp0LnN0YXR1cyx0ZXh0Oml9O2lmKDIwMD09PXQuc3RhdHVzKXRyeXtuLmpzb249SlNPTi5wYXJzZShpKX1jYXRjaChlKXtOLmVycm9yKGUpfW51bGw9PT0ocj1lLmNhbGxiYWNrKXx8dm9pZCAwPT09cnx8ci5jYWxsKGUsbil9KSkpKS5jYXRjaCgodD0+e3ZhciBpO04uZXJyb3IodCksbnVsbD09PShpPWUuY2FsbGJhY2spfHx2b2lkIDA9PT1pfHxpLmNhbGwoZSx7c3RhdHVzQ29kZTowLHRleHQ6dH0pfSkpLmZpbmFsbHkoKCgpPT5sP2NsZWFyVGltZW91dChsLnRpbWVvdXQpOm51bGwpKX19KSxjJiZUby5wdXNoKHt0cmFuc3BvcnQ6XCJYSFJcIixtZXRob2Q6ZT0+e3ZhciB0LGk9bmV3IGM7aS5vcGVuKGUubWV0aG9kfHxcIkdFVFwiLGUudXJsLCEwKTt2YXJ7Y29udGVudFR5cGU6cixib2R5Om59PW51bGwhPT0odD1GbyhlKSkmJnZvaWQgMCE9PXQ/dDp7fTtZKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtpLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxyJiZpLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSxlLnRpbWVvdXQmJihpLnRpbWVvdXQ9ZS50aW1lb3V0KSxpLndpdGhDcmVkZW50aWFscz0hMCxpLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e2lmKDQ9PT1pLnJlYWR5U3RhdGUpe3ZhciB0LHI9e3N0YXR1c0NvZGU6aS5zdGF0dXMsdGV4dDppLnJlc3BvbnNlVGV4dH07aWYoMjAwPT09aS5zdGF0dXMpdHJ5e3IuanNvbj1KU09OLnBhcnNlKGkucmVzcG9uc2VUZXh0KX1jYXRjaChlKXt9bnVsbD09PSh0PWUuY2FsbGJhY2spfHx2b2lkIDA9PT10fHx0LmNhbGwoZSxyKX19LGkuc2VuZChuKX19KSxudWxsIT1vJiZvLnNlbmRCZWFjb24mJlRvLnB1c2goe3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIixtZXRob2Q6ZT0+e3ZhciB0PVBvKGUudXJsLHtiZWFjb246XCIxXCJ9KTt0cnl7dmFyIGkse2NvbnRlbnRUeXBlOnIsYm9keTpufT1udWxsIT09KGk9Rm8oZSkpJiZ2b2lkIDAhPT1pP2k6e30scz1cInN0cmluZ1wiPT10eXBlb2Ygbj9uZXcgQmxvYihbbl0se3R5cGU6cn0pOm47by5zZW5kQmVhY29uKHQscyl9Y2F0Y2goZSl7fX19KTt2YXIgUm89M2UzO2NsYXNzICRve2NvbnN0cnVjdG9yKGUsdCl7Vyh0aGlzLFwiaXNQYXVzZWRcIiwhMCksVyh0aGlzLFwicXVldWVcIixbXSksdGhpcy5mbHVzaFRpbWVvdXRNcz1KaSgobnVsbD09dD92b2lkIDA6dC5mbHVzaF9pbnRlcnZhbF9tcyl8fFJvLDI1MCw1ZTMsXCJmbHVzaCBpbnRlcnZhbFwiLFJvKSx0aGlzLnNlbmRSZXF1ZXN0PWV9ZW5xdWV1ZShlKXt0aGlzLnF1ZXVlLnB1c2goZSksdGhpcy5mbHVzaFRpbWVvdXR8fHRoaXMuc2V0Rmx1c2hUaW1lb3V0KCl9dW5sb2FkKCl7dGhpcy5jbGVhckZsdXNoVGltZW91dCgpO3ZhciBlPXRoaXMucXVldWUubGVuZ3RoPjA/dGhpcy5mb3JtYXRRdWV1ZSgpOnt9LHQ9T2JqZWN0LnZhbHVlcyhlKSxpPVsuLi50LmZpbHRlcigoZT0+MD09PWUudXJsLmluZGV4T2YoXCIvZVwiKSkpLC4uLnQuZmlsdGVyKChlPT4wIT09ZS51cmwuaW5kZXhPZihcIi9lXCIpKSldO2kubWFwKChlPT57dGhpcy5zZW5kUmVxdWVzdCh6KHooe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX0pKX1lbmFibGUoKXt0aGlzLmlzUGF1c2VkPSExLHRoaXMuc2V0Rmx1c2hUaW1lb3V0KCl9c2V0Rmx1c2hUaW1lb3V0KCl7dmFyIGU9dGhpczt0aGlzLmlzUGF1c2VkfHwodGhpcy5mbHVzaFRpbWVvdXQ9c2V0VGltZW91dCgoKCk9PntpZih0aGlzLmNsZWFyRmx1c2hUaW1lb3V0KCksdGhpcy5xdWV1ZS5sZW5ndGg+MCl7dmFyIHQ9dGhpcy5mb3JtYXRRdWV1ZSgpLGk9ZnVuY3Rpb24oaSl7dmFyIHI9dFtpXSxuPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3IuZGF0YSYmeChyLmRhdGEpJiZZKHIuZGF0YSwoZT0+e2Uub2Zmc2V0PU1hdGguYWJzKGUudGltZXN0YW1wLW4pLGRlbGV0ZSBlLnRpbWVzdGFtcH0pKSxlLnNlbmRSZXF1ZXN0KHIpfTtmb3IodmFyIHIgaW4gdClpKHIpfX0pLHRoaXMuZmx1c2hUaW1lb3V0TXMpKX1jbGVhckZsdXNoVGltZW91dCgpe2NsZWFyVGltZW91dCh0aGlzLmZsdXNoVGltZW91dCksdGhpcy5mbHVzaFRpbWVvdXQ9dm9pZCAwfWZvcm1hdFF1ZXVlKCl7dmFyIGU9e307cmV0dXJuIFkodGhpcy5xdWV1ZSwodD0+e3ZhciBpLHI9dCxuPShyP3IuYmF0Y2hLZXk6bnVsbCl8fHIudXJsO0YoZVtuXSkmJihlW25dPXooeih7fSxyKSx7fSx7ZGF0YTpbXX0pKSxudWxsPT09KGk9ZVtuXS5kYXRhKXx8dm9pZCAwPT09aXx8aS5wdXNoKHIuZGF0YSl9KSksdGhpcy5xdWV1ZT1bXSxlfX12YXIgT289W1wicmV0cmllc1BlcmZvcm1lZFNvRmFyXCJdO2NsYXNzIE1ve2NvbnN0cnVjdG9yKGUpe1codGhpcyxcImlzUG9sbGluZ1wiLCExKSxXKHRoaXMsXCJwb2xsSW50ZXJ2YWxNc1wiLDNlMyksVyh0aGlzLFwicXVldWVcIixbXSksdGhpcy5pbnN0YW5jZT1lLHRoaXMucXVldWU9W10sdGhpcy5hcmVXZU9ubGluZT0hMCwhRih0KSYmXCJvbkxpbmVcImluIHQubmF2aWdhdG9yJiYodGhpcy5hcmVXZU9ubGluZT10Lm5hdmlnYXRvci5vbkxpbmUsb2UodCxcIm9ubGluZVwiLCgoKT0+e3RoaXMuYXJlV2VPbmxpbmU9ITAsdGhpcy5mbHVzaCgpfSkpLG9lKHQsXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5hcmVXZU9ubGluZT0hMX0pKSl9cmV0cmlhYmxlUmVxdWVzdChlKXt2YXJ7cmV0cmllc1BlcmZvcm1lZFNvRmFyOnR9PWUsaT1WKGUsT28pO00odCkmJnQ+MCYmKGkudXJsPVBvKGkudXJsLHtyZXRyeV9jb3VudDp0fSkpLHRoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh6KHooe30saSkse30se2NhbGxiYWNrOmU9Pnt2YXIgcjsyMDAhPT1lLnN0YXR1c0NvZGUmJihlLnN0YXR1c0NvZGU8NDAwfHxlLnN0YXR1c0NvZGU+PTUwMCkmJihudWxsIT10P3Q6MCk8MTA/dGhpcy5lbnF1ZXVlKHooe3JldHJpZXNQZXJmb3JtZWRTb0Zhcjp0fSxpKSk6bnVsbD09PShyPWkuY2FsbGJhY2spfHx2b2lkIDA9PT1yfHxyLmNhbGwoaSxlKX19KSl9ZW5xdWV1ZShlKXt2YXIgdD1lLnJldHJpZXNQZXJmb3JtZWRTb0Zhcnx8MDtlLnJldHJpZXNQZXJmb3JtZWRTb0Zhcj10KzE7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9M2UzKk1hdGgucG93KDIsZSksaT10LzIscj1NYXRoLm1pbigxOGU1LHQpLG49KE1hdGgucmFuZG9tKCktLjUpKihyLWkpO3JldHVybiBNYXRoLmNlaWwocituKX0odCkscj1EYXRlLm5vdygpK2k7dGhpcy5xdWV1ZS5wdXNoKHtyZXRyeUF0OnIscmVxdWVzdE9wdGlvbnM6ZX0pO3ZhciBuPVwiRW5xdWV1ZWQgZmFpbGVkIHJlcXVlc3QgZm9yIHJldHJ5IGluIFwiLmNvbmNhdChpKTtuYXZpZ2F0b3Iub25MaW5lfHwobis9XCIgKEJyb3dzZXIgaXMgb2ZmbGluZSlcIiksTi53YXJuKG4pLHRoaXMuaXNQb2xsaW5nfHwodGhpcy5pc1BvbGxpbmc9ITAsdGhpcy5wb2xsKCkpfXBvbGwoKXt0aGlzLnBvbGxlciYmY2xlYXJUaW1lb3V0KHRoaXMucG9sbGVyKSx0aGlzLnBvbGxlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuYXJlV2VPbmxpbmUmJnRoaXMucXVldWUubGVuZ3RoPjAmJnRoaXMuZmx1c2goKSx0aGlzLnBvbGwoKX0pLHRoaXMucG9sbEludGVydmFsTXMpfWZsdXNoKCl7dmFyIGU9RGF0ZS5ub3coKSx0PVtdLGk9dGhpcy5xdWV1ZS5maWx0ZXIoKGk9PmkucmV0cnlBdDxlfHwodC5wdXNoKGkpLCExKSkpO2lmKHRoaXMucXVldWU9dCxpLmxlbmd0aD4wKWZvcih2YXJ7cmVxdWVzdE9wdGlvbnM6cn1vZiBpKXRoaXMucmV0cmlhYmxlUmVxdWVzdChyKX11bmxvYWQoKXtmb3IodmFye3JlcXVlc3RPcHRpb25zOmV9b2YodGhpcy5wb2xsZXImJihjbGVhclRpbWVvdXQodGhpcy5wb2xsZXIpLHRoaXMucG9sbGVyPXZvaWQgMCksdGhpcy5xdWV1ZSkpdHJ5e3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh6KHooe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX1jYXRjaChlKXtOLmVycm9yKGUpfXRoaXMucXVldWU9W119fWNsYXNzIEFve2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl91cGRhdGVTY3JvbGxEYXRhXCIsKCgpPT57dmFyIGUsdCxpLHI7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PXt9KTt2YXIgbj10aGlzLnNjcm9sbEVsZW1lbnQoKSxzPXRoaXMuc2Nyb2xsWSgpLG89bj9NYXRoLm1heCgwLG4uc2Nyb2xsSGVpZ2h0LW4uY2xpZW50SGVpZ2h0KTowLGE9cysoKG51bGw9PW4/dm9pZCAwOm4uY2xpZW50SGVpZ2h0KXx8MCksbD0obnVsbD09bj92b2lkIDA6bi5zY3JvbGxIZWlnaHQpfHwwO3RoaXMuY29udGV4dC5sYXN0U2Nyb2xsWT1NYXRoLmNlaWwocyksdGhpcy5jb250ZXh0Lm1heFNjcm9sbFk9TWF0aC5tYXgocyxudWxsIT09KGU9dGhpcy5jb250ZXh0Lm1heFNjcm9sbFkpJiZ2b2lkIDAhPT1lP2U6MCksdGhpcy5jb250ZXh0Lm1heFNjcm9sbEhlaWdodD1NYXRoLm1heChvLG51bGwhPT0odD10aGlzLmNvbnRleHQubWF4U2Nyb2xsSGVpZ2h0KSYmdm9pZCAwIT09dD90OjApLHRoaXMuY29udGV4dC5sYXN0Q29udGVudFk9YSx0aGlzLmNvbnRleHQubWF4Q29udGVudFk9TWF0aC5tYXgoYSxudWxsIT09KGk9dGhpcy5jb250ZXh0Lm1heENvbnRlbnRZKSYmdm9pZCAwIT09aT9pOjApLHRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0PU1hdGgubWF4KGwsbnVsbCE9PShyPXRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0KSYmdm9pZCAwIT09cj9yOjApfSkpLHRoaXMuaW5zdGFuY2U9ZX1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuY29udGV4dH1yZXNldENvbnRleHQoKXt2YXIgZT10aGlzLmNvbnRleHQ7cmV0dXJuIHNldFRpbWVvdXQodGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSwwKSxlfXN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKXtvZSh0LFwic2Nyb2xsXCIsdGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSx7Y2FwdHVyZTohMH0pLG9lKHQsXCJzY3JvbGxlbmRcIix0aGlzLl91cGRhdGVTY3JvbGxEYXRhLHtjYXB0dXJlOiEwfSksb2UodCxcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZVNjcm9sbERhdGEpfXNjcm9sbEVsZW1lbnQoKXtpZighdGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpcmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBlPXgodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpP3RoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yOlt0aGlzLmluc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcl07Zm9yKHZhciBpIG9mIGUpe3ZhciByPW51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpKTtpZihyKXJldHVybiByfX1zY3JvbGxZKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbFRvcHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKXx8MH1zY3JvbGxYKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbExlZnR8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFh8fHQucGFnZVhPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpfHwwfX12YXIgTG89ZT0+aHMucGVyc29uSW5mbyh7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6bnVsbD09ZT92b2lkIDA6ZS5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczpudWxsPT1lP3ZvaWQgMDplLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7Y2xhc3MgRG97Y29uc3RydWN0b3IoZSx0LGkscil7Vyh0aGlzLFwiX29uU2Vzc2lvbklkQ2FsbGJhY2tcIiwoZT0+e3ZhciB0PXRoaXMuX2dldFN0b3JlZCgpO2lmKCF0fHx0LnNlc3Npb25JZCE9PWUpe3ZhciBpPXtzZXNzaW9uSWQ6ZSxwcm9wczp0aGlzLl9zZXNzaW9uU291cmNlUGFyYW1HZW5lcmF0b3IodGhpcy5pbnN0YW5jZSl9O3RoaXMuX3BlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbRGVdOml9KX19KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX3Nlc3Npb25JZE1hbmFnZXI9dCx0aGlzLl9wZXJzaXN0ZW5jZT1pLHRoaXMuX3Nlc3Npb25Tb3VyY2VQYXJhbUdlbmVyYXRvcj1yfHxMbyx0aGlzLl9zZXNzaW9uSWRNYW5hZ2VyLm9uU2Vzc2lvbklkKHRoaXMuX29uU2Vzc2lvbklkQ2FsbGJhY2spfV9nZXRTdG9yZWQoKXtyZXR1cm4gdGhpcy5fcGVyc2lzdGVuY2UucHJvcHNbRGVdfWdldFNldE9uY2VQcm9wcygpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMuX2dldFN0b3JlZCgpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9wcztyZXR1cm4gdD9cInJcImluIHQ/aHMucGVyc29uUHJvcHNGcm9tSW5mbyh0KTp7JHJlZmVycmluZ19kb21haW46dC5yZWZlcnJpbmdEb21haW4sJHBhdGhuYW1lOnQuaW5pdGlhbFBhdGhOYW1lLHV0bV9zb3VyY2U6dC51dG1fc291cmNlLHV0bV9jYW1wYWlnbjp0LnV0bV9jYW1wYWlnbix1dG1fbWVkaXVtOnQudXRtX21lZGl1bSx1dG1fY29udGVudDp0LnV0bV9jb250ZW50LHV0bV90ZXJtOnQudXRtX3Rlcm19Ont9fWdldFNlc3Npb25Qcm9wcygpe3ZhciBlPXt9O3JldHVybiBZKHRlKHRoaXMuZ2V0U2V0T25jZVByb3BzKCkpLCgodCxpKT0+e1wiJGN1cnJlbnRfdXJsXCI9PT1pJiYoaT1cInVybFwiKSxlW1wiJHNlc3Npb25fZW50cnlfXCIuY29uY2F0KGIoaSkpXT10fSkpLGV9fXZhciBxbz1CKFwiW1Nlc3Npb25JZF1cIik7Y2xhc3MgTm97Y29uc3RydWN0b3IoZSx0LGkpe3ZhciByO2lmKFcodGhpcyxcIl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnNcIixbXSksIWUucGVyc2lzdGVuY2UpdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbklkTWFuYWdlciByZXF1aXJlcyBhIFBvc3RIb2dQZXJzaXN0ZW5jZSBpbnN0YW5jZVwiKTtpZihlLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uSWRNYW5hZ2VyIGNhbm5vdCBiZSB1c2VkIHdpdGggX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGVcIik7dGhpcy5jb25maWc9ZS5jb25maWcsdGhpcy5wZXJzaXN0ZW5jZT1lLnBlcnNpc3RlbmNlLHRoaXMuX3dpbmRvd0lkPXZvaWQgMCx0aGlzLl9zZXNzaW9uSWQ9dm9pZCAwLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25JZEdlbmVyYXRvcj10fHxOdCx0aGlzLl93aW5kb3dJZEdlbmVyYXRvcj1pfHxOdDt2YXIgbj10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZV9uYW1lfHx0aGlzLmNvbmZpZy50b2tlbixzPXRoaXMuY29uZmlnLnNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHN8fDE4MDA7aWYodGhpcy5fc2Vzc2lvblRpbWVvdXRNcz0xZTMqSmkocyw2MCwzNmUzLFwic2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc1wiLDE4MDApLGUucmVnaXN0ZXIoeyRjb25maWd1cmVkX3Nlc3Npb25fdGltZW91dF9tczp0aGlzLl9zZXNzaW9uVGltZW91dE1zfSksdGhpcy5yZXNldElkbGVUaW1lcigpLHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleT1cInBoX1wiK24rXCJfd2luZG93X2lkXCIsdGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5PVwicGhfXCIrbitcIl9wcmltYXJ5X3dpbmRvd19leGlzdHNcIix0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpKXt2YXIgbz1laS5wYXJzZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLGE9ZWkucGFyc2UodGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5KTtvJiYhYT90aGlzLl93aW5kb3dJZD1vOmVpLnJlbW92ZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLGVpLnNldCh0aGlzLl9wcmltYXJ5X3dpbmRvd19leGlzdHNfc3RvcmFnZV9rZXksITApfWlmKG51bGwhPT0ocj10aGlzLmNvbmZpZy5ib290c3RyYXApJiZ2b2lkIDAhPT1yJiZyLnNlc3Npb25JRCl0cnl7dmFyIGw9KGU9Pnt2YXIgdD1lLnJlcGxhY2UoLy0vZyxcIlwiKTtpZigzMiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIFVVSURcIik7aWYoXCI3XCIhPT10WzEyXSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBVVUlEdjdcIik7cmV0dXJuIHBhcnNlSW50KHQuc3Vic3RyaW5nKDAsMTIpLDE2KX0pKHRoaXMuY29uZmlnLmJvb3RzdHJhcC5zZXNzaW9uSUQpO3RoaXMuX3NldFNlc3Npb25JZCh0aGlzLmNvbmZpZy5ib290c3RyYXAuc2Vzc2lvbklELChuZXcgRGF0ZSkuZ2V0VGltZSgpLGwpfWNhdGNoKGUpe3FvLmVycm9yKFwiSW52YWxpZCBzZXNzaW9uSUQgaW4gYm9vdHN0cmFwXCIsZSl9dGhpcy5fbGlzdGVuVG9SZWxvYWRXaW5kb3coKX1nZXQgc2Vzc2lvblRpbWVvdXRNcygpe3JldHVybiB0aGlzLl9zZXNzaW9uVGltZW91dE1zfW9uU2Vzc2lvbklkKGUpe3JldHVybiBGKHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycykmJih0aGlzLl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnM9W10pLHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5wdXNoKGUpLHRoaXMuX3Nlc3Npb25JZCYmZSh0aGlzLl9zZXNzaW9uSWQsdGhpcy5fd2luZG93SWQpLCgpPT57dGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzPXRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5maWx0ZXIoKHQ9PnQhPT1lKSl9fV9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpe3JldHVyblwibWVtb3J5XCIhPT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZSYmIXRoaXMucGVyc2lzdGVuY2UuZGlzYWJsZWQmJmVpLmlzX3N1cHBvcnRlZCgpfV9zZXRXaW5kb3dJZChlKXtlIT09dGhpcy5fd2luZG93SWQmJih0aGlzLl93aW5kb3dJZD1lLHRoaXMuX2NhblVzZVNlc3Npb25TdG9yYWdlKCkmJmVpLnNldCh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXksZSkpfV9nZXRXaW5kb3dJZCgpe3JldHVybiB0aGlzLl93aW5kb3dJZD90aGlzLl93aW5kb3dJZDp0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpP2VpLnBhcnNlKHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleSk6bnVsbH1fc2V0U2Vzc2lvbklkKGUsdCxpKXtlPT09dGhpcy5fc2Vzc2lvbklkJiZ0PT09dGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZpPT09dGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wfHwodGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPWksdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPXQsdGhpcy5fc2Vzc2lvbklkPWUsdGhpcy5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0VlXTpbdCxlLGldfSkpfV9nZXRTZXNzaW9uSWQoKXtpZih0aGlzLl9zZXNzaW9uSWQmJnRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCYmdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wKXJldHVyblt0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAsdGhpcy5fc2Vzc2lvbklkLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcF07dmFyIGU9dGhpcy5wZXJzaXN0ZW5jZS5wcm9wc1tFZV07cmV0dXJuIHgoZSkmJjI9PT1lLmxlbmd0aCYmZS5wdXNoKGVbMF0pLGV8fFswLG51bGwsMF19cmVzZXRTZXNzaW9uSWQoKXt0aGlzLl9zZXRTZXNzaW9uSWQobnVsbCxudWxsLG51bGwpfV9saXN0ZW5Ub1JlbG9hZFdpbmRvdygpe29lKHQsXCJiZWZvcmV1bmxvYWRcIiwoKCk9Pnt0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpJiZlaS5yZW1vdmUodGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5KX0pLHtjYXB0dXJlOiExfSl9Y2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7aWYodGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKFwiY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgaW4gX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGVcIik7dmFyIGk9dHx8KG5ldyBEYXRlKS5nZXRUaW1lKCksW3IsbixzXT10aGlzLl9nZXRTZXNzaW9uSWQoKSxvPXRoaXMuX2dldFdpbmRvd0lkKCksYT1NKHMpJiZzPjAmJk1hdGguYWJzKGktcyk+ODY0ZTUsbD0hMSx1PSFuLGM9IWUmJk1hdGguYWJzKGktcik+dGhpcy5zZXNzaW9uVGltZW91dE1zO3V8fGN8fGE/KG49dGhpcy5fc2Vzc2lvbklkR2VuZXJhdG9yKCksbz10aGlzLl93aW5kb3dJZEdlbmVyYXRvcigpLHFvLmluZm8oXCJuZXcgc2Vzc2lvbiBJRCBnZW5lcmF0ZWRcIix7c2Vzc2lvbklkOm4sd2luZG93SWQ6byxjaGFuZ2VSZWFzb246e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0OmMsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9fSkscz1pLGw9ITApOm98fChvPXRoaXMuX3dpbmRvd0lkR2VuZXJhdG9yKCksbD0hMCk7dmFyIGQ9MD09PXJ8fCFlfHxhP2k6cixoPTA9PT1zPyhuZXcgRGF0ZSkuZ2V0VGltZSgpOnM7cmV0dXJuIHRoaXMuX3NldFdpbmRvd0lkKG8pLHRoaXMuX3NldFNlc3Npb25JZChuLGQsaCksZXx8dGhpcy5yZXNldElkbGVUaW1lcigpLGwmJnRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5mb3JFYWNoKChlPT5lKG4sbyxsP3tub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpjLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfTp2b2lkIDApKSkse3Nlc3Npb25JZDpuLHdpbmRvd0lkOm8sc2Vzc2lvblN0YXJ0VGltZXN0YW1wOmgsY2hhbmdlUmVhc29uOmw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0OmMsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6cn19cmVzZXRJZGxlVGltZXIoKXtjbGVhclRpbWVvdXQodGhpcy5fZW5mb3JjZUlkbGVUaW1lb3V0KSx0aGlzLl9lbmZvcmNlSWRsZVRpbWVvdXQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnJlc2V0U2Vzc2lvbklkKCl9KSwxLjEqdGhpcy5zZXNzaW9uVGltZW91dE1zKX19dmFyIEJvPVtcIiRzZXRfb25jZVwiLFwiJHNldFwiXSxIbz1CKFwiW1NpdGVBcHBzXVwiKTtjbGFzcyBqb3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuYXBwcz17fX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5vcHRfaW5fc2l0ZV9hcHBzfWV2ZW50Q29sbGVjdG9yKGUsdCl7aWYodCl7dmFyIGk9dGhpcy5nbG9iYWxzRm9yRXZlbnQodCk7dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnB1c2goaSksdGhpcy5idWZmZXJlZEludm9jYXRpb25zLmxlbmd0aD4xZTMmJih0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnM9dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnNsaWNlKDEwKSl9fWdldCBzaXRlQXBwTG9hZGVycygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1fLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNpdGVBcHBzfWluaXQoKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5fYWRkQ2FwdHVyZUhvb2sodGhpcy5ldmVudENvbGxlY3Rvci5iaW5kKHRoaXMpKTt0aGlzLnN0b3BCdWZmZXJpbmc9KCk9PntlKCksdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuc3RvcEJ1ZmZlcmluZz12b2lkIDB9fX1nbG9iYWxzRm9yRXZlbnQoZSl7dmFyIHQsaSxyLG4scyxvLGE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgcGF5bG9hZCBpcyByZXF1aXJlZFwiKTt2YXIgbD17fSx1PXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8W10sYz10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiKXx8e307Zm9yKHZhcltkLGhdb2YgT2JqZWN0LmVudHJpZXMoYykpbFtkXT17aWQ6dVtkXSx0eXBlOmQscHJvcGVydGllczpofTt2YXJ7JHNldF9vbmNlOl8sJHNldDpwfT1lO3JldHVybntldmVudDp6KHooe30sVihlLEJvKSkse30se3Byb3BlcnRpZXM6eih6KHooe30sZS5wcm9wZXJ0aWVzKSxwP3skc2V0Onooeih7fSxudWxsIT09KHQ9bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJHNldCkmJnZvaWQgMCE9PXQ/dDp7fSkscCl9Ont9KSxfP3skc2V0X29uY2U6eih6KHt9LG51bGwhPT0ocj1udWxsPT09KG49ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kc2V0X29uY2UpJiZ2b2lkIDAhPT1yP3I6e30pLF8pfTp7fSksZWxlbWVudHNfY2hhaW46bnVsbCE9PShzPW51bGw9PT0obz1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLiRlbGVtZW50c19jaGFpbikmJnZvaWQgMCE9PXM/czpcIlwiLGRpc3RpbmN0X2lkOm51bGw9PT0oYT1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRpc3RpbmN0X2lkfSkscGVyc29uOntwcm9wZXJ0aWVzOnRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiKX0sZ3JvdXBzOmx9fXNldHVwU2l0ZUFwcChlKXt2YXIgdD10aGlzLmFwcHNbZS5pZF0saT0oKT0+e3ZhciBpOyghdC5lcnJvcmVkJiZ0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMubGVuZ3RoJiYoSG8uaW5mbyhcIlByb2Nlc3NpbmcgXCIuY29uY2F0KHRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucy5sZW5ndGgsXCIgZXZlbnRzIGZvciBzaXRlIGFwcCB3aXRoIGlkIFwiKS5jb25jYXQoZS5pZCkpLHRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucy5mb3JFYWNoKChlPT57dmFyIGk7cmV0dXJuIG51bGw9PT0oaT10LnByb2Nlc3NFdmVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LGUpfSkpLHQucHJvY2Vzc2VkQnVmZmVyPSEwKSxPYmplY3QudmFsdWVzKHRoaXMuYXBwcykuZXZlcnkoKGU9PmUucHJvY2Vzc2VkQnVmZmVyfHxlLmVycm9yZWQpKSkmJihudWxsPT09KGk9dGhpcy5zdG9wQnVmZmVyaW5nKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMpKX0scj0hMSxuPW49Pnt0LmVycm9yZWQ9IW4sdC5sb2FkZWQ9ITAsSG8uaW5mbyhcIlNpdGUgYXBwIHdpdGggaWQgXCIuY29uY2F0KGUuaWQsXCIgXCIpLmNvbmNhdChuP1wibG9hZGVkXCI6XCJlcnJvcmVkXCIpKSxyJiZpKCl9O3RyeXt2YXJ7cHJvY2Vzc0V2ZW50OnN9PWUuaW5pdCh7cG9zdGhvZzp0aGlzLmluc3RhbmNlLGNhbGxiYWNrOmU9PntuKGUpfX0pO3MmJih0LnByb2Nlc3NFdmVudD1zKSxyPSEwfWNhdGNoKHQpe0hvLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiLmNvbmNhdChlLmlkKSx0KSxuKCExKX1pZihyJiZ0LmxvYWRlZCl0cnl7aSgpfWNhdGNoKGkpe0hvLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBidWZmZXJlZCBldmVudHMgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUuaWQpLGkpLHQuZXJyb3JlZD0hMH19c2V0dXBTaXRlQXBwcygpe3ZhciBlPXRoaXMuc2l0ZUFwcExvYWRlcnN8fFtdO2Zvcih2YXIgdCBvZiBlKXRoaXMuYXBwc1t0LmlkXT17aWQ6dC5pZCxsb2FkZWQ6ITEsZXJyb3JlZDohMSxwcm9jZXNzZWRCdWZmZXI6ITF9O2Zvcih2YXIgaSBvZiBlKXRoaXMuc2V0dXBTaXRlQXBwKGkpfW9uQ2FwdHVyZWRFdmVudChlKXtpZigwIT09T2JqZWN0LmtleXModGhpcy5hcHBzKS5sZW5ndGgpe3ZhciB0PXRoaXMuZ2xvYmFsc0ZvckV2ZW50KGUpO2Zvcih2YXIgaSBvZiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykpdHJ5e3ZhciByO251bGw9PT0ocj1pLnByb2Nlc3NFdmVudCl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHQpfWNhdGNoKHQpe0hvLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBldmVudCBcIi5jb25jYXQoZS5ldmVudCxcIiBmb3Igc2l0ZSBhcHAgXCIpLmNvbmNhdChpLmlkKSx0KX19fW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0LGkscixuPXRoaXM7aWYobnVsbCE9PSh0PXRoaXMuc2l0ZUFwcExvYWRlcnMpJiZ2b2lkIDAhPT10JiZ0Lmxlbmd0aClyZXR1cm4gdGhpcy5pc0VuYWJsZWQ/KHRoaXMuc2V0dXBTaXRlQXBwcygpLHZvaWQgdGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+dGhpcy5vbkNhcHR1cmVkRXZlbnQoZSkpKSk6dm9pZCBIby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpO2lmKG51bGw9PT0oaT10aGlzLnN0b3BCdWZmZXJpbmcpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksbnVsbCE9PShyPWUuc2l0ZUFwcHMpJiZ2b2lkIDAhPT1yJiZyLmxlbmd0aClpZih0aGlzLmlzRW5hYmxlZCl7dmFyIHM9ZnVuY3Rpb24oZSx0KXt2YXIgaSxyO19bXCJfXyQkcGhfc2l0ZV9hcHBfXCIuY29uY2F0KGUpXT1uLmluc3RhbmNlLG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmxvYWRTaXRlQXBwKXx8dm9pZCAwPT09cnx8ci5jYWxsKGksbi5pbnN0YW5jZSx0LCh0PT57aWYodClyZXR1cm4gSG8uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUpLHQpfSkpfTtmb3IodmFye2lkOm8sdXJsOmF9b2YgZS5zaXRlQXBwcylzKG8sYSl9ZWxzZSBIby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpfX12YXIgVW8sem89W1wiYW1hem9uYm90XCIsXCJhbWF6b25wcm9kdWN0Ym90XCIsXCJhcHAuaHlwZWZhY3RvcnMuY29tXCIsXCJhcHBsZWJvdFwiLFwiYXJjaGl2ZS5vcmdfYm90XCIsXCJhd2FyaW9ib3RcIixcImJhY2tsaW5rc2V4dGVuZGVkYm90XCIsXCJiYWlkdXNwaWRlclwiLFwiYmluZ2JvdFwiLFwiYmluZ3ByZXZpZXdcIixcImNocm9tZS1saWdodGhvdXNlXCIsXCJkYXRhZm9yc2VvYm90XCIsXCJkZWVwc2NhblwiLFwiZHVja2R1Y2tib3RcIixcImZhY2Vib29rZXh0ZXJuYWxcIixcImZhY2Vib29rY2F0YWxvZ1wiLFwiaHR0cDovL3lhbmRleC5jb20vYm90c1wiLFwiaHVic3BvdFwiLFwiaWFfYXJjaGl2ZXJcIixcImxpbmtlZGluYm90XCIsXCJtZXRhLWV4dGVybmFsYWdlbnRcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2Vib3Qtd2FcIixcInNpdGVidWxiXCIsXCJzbGFja2JvdFwiLFwic2x1cnBcIixcInRyZW5kaWN0aW9uYm90XCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsYm90XCIsXCJ5YWhvbyEgc2x1cnBcIixcInlhbmRleGJvdFwiLFwiem9vbWJvdFwiLFwiYm90Lmh0bVwiLFwiYm90LnBocFwiLFwiKGJvdDtcIixcImJvdC9cIixcImNyYXdsZXJcIixcImFocmVmc2JvdFwiLFwiYWhyZWZzc2l0ZWF1ZGl0XCIsXCJzZW1ydXNoYm90XCIsXCJzaXRlYXVkaXRib3RcIixcInNwbGl0c2lnbmFsYm90XCIsXCJncHRib3RcIixcIm9haS1zZWFyY2hib3RcIixcImNoYXRncHQtdXNlclwiLFwicGVycGxleGl0eWJvdFwiLFwiYmV0dGVyIHVwdGltZSBib3RcIixcInNlbnRyeXVwdGltZWJvdFwiLFwidXB0aW1lcm9ib3RcIixcImhlYWRsZXNzY2hyb21lXCIsXCJjeXByZXNzXCIsXCJnb29nbGUtaG90ZWxhZHN2ZXJpZmllclwiLFwiYWRzYm90LWdvb2dsZVwiLFwiYXBpcy1nb29nbGVcIixcImR1cGxleHdlYi1nb29nbGVcIixcImZlZWRmZXRjaGVyLWdvb2dsZVwiLFwiZ29vZ2xlIGZhdmljb25cIixcImdvb2dsZSB3ZWIgcHJldmlld1wiLFwiZ29vZ2xlLXJlYWQtYWxvdWRcIixcImdvb2dsZWJvdFwiLFwiZ29vZ2xld2VibGlnaHRcIixcIm1lZGlhcGFydG5lcnMtZ29vZ2xlXCIsXCJzdG9yZWJvdC1nb29nbGVcIixcImJ5dGVzcGlkZXJcIl0sV289ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHpvLmNvbmNhdCh0fHxbXSkuc29tZSgoZT0+e3ZhciB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4tMSE9PWkuaW5kZXhPZih0KX0pKX0sVm89ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnVzZXJBZ2VudDtpZihpJiZXbyhpLHQpKXJldHVybiEwO3RyeXt2YXIgcj1udWxsPT1lP3ZvaWQgMDplLnVzZXJBZ2VudERhdGE7aWYobnVsbCE9ciYmci5icmFuZHMmJnIuYnJhbmRzLnNvbWUoKGU9PldvKG51bGw9PWU/dm9pZCAwOmUuYnJhbmQsdCkpKSlyZXR1cm4hMH1jYXRjaChlKXt9cmV0dXJuISFlLndlYmRyaXZlcn07ZnVuY3Rpb24gR28oZSx0LGkpe3JldHVybiBDbyh7ZGlzdGluY3RfaWQ6ZSx1c2VyUHJvcGVydGllc1RvU2V0OnQsdXNlclByb3BlcnRpZXNUb1NldE9uY2U6aX0pfSFmdW5jdGlvbihlKXtlLlVTPVwidXNcIixlLkVVPVwiZXVcIixlLkNVU1RPTT1cImN1c3RvbVwifShVb3x8KFVvPXt9KSk7dmFyIEpvPVwiaS5wb3N0aG9nLmNvbVwiO2NsYXNzIFlve2NvbnN0cnVjdG9yKGUpe1codGhpcyxcIl9yZWdpb25DYWNoZVwiLHt9KSx0aGlzLmluc3RhbmNlPWV9Z2V0IGFwaUhvc3QoKXt2YXIgZT10aGlzLmluc3RhbmNlLmNvbmZpZy5hcGlfaG9zdC50cmltKCkucmVwbGFjZSgvXFwvJC8sXCJcIik7cmV0dXJuXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09ZT9cImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiOmV9Z2V0IHVpSG9zdCgpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLnVpX2hvc3QpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVybiB0fHwodD10aGlzLmFwaUhvc3QucmVwbGFjZShcIi5cIi5jb25jYXQoSm8pLFwiLnBvc3Rob2cuY29tXCIpKSxcImh0dHBzOi8vYXBwLnBvc3Rob2cuY29tXCI9PT10P1wiaHR0cHM6Ly91cy5wb3N0aG9nLmNvbVwiOnR9Z2V0IHJlZ2lvbigpe3JldHVybiB0aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdfHwoL2h0dHBzOlxcL1xcLyhhcHB8dXN8dXMtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMuX3JlZ2lvbkNhY2hlW3RoaXMuYXBpSG9zdF09VW8uVVM6L2h0dHBzOlxcL1xcLyhldXxldS1hc3NldHMpKFxcLmkpP1xcLnBvc3Rob2dcXC5jb20vaS50ZXN0KHRoaXMuYXBpSG9zdCk/dGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XT1Vby5FVTp0aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdPVVvLkNVU1RPTSksdGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XX1lbmRwb2ludEZvcihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIjtpZih0JiYodD1cIi9cIj09PXRbMF0/dDpcIi9cIi5jb25jYXQodCkpLFwidWlcIj09PWUpcmV0dXJuIHRoaXMudWlIb3N0K3Q7aWYodGhpcy5yZWdpb249PT1Vby5DVVNUT00pcmV0dXJuIHRoaXMuYXBpSG9zdCt0O3ZhciBpPUpvK3Q7c3dpdGNoKGUpe2Nhc2VcImFzc2V0c1wiOnJldHVyblwiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5yZWdpb24sXCItYXNzZXRzLlwiKS5jb25jYXQoaSk7Y2FzZVwiYXBpXCI6cmV0dXJuXCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnJlZ2lvbixcIi5cIikuY29uY2F0KGkpfX19dmFyIEtvPXtpY29udGFpbnM6KGUsaSk9PiEhdCYmaS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPi0xLG5vdF9pY29udGFpbnM6KGUsaSk9PiEhdCYmLTE9PT1pLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSkscmVnZXg6KGUsaSk9PiEhdCYmaG8oaS5ocmVmLGUpLG5vdF9yZWdleDooZSxpKT0+ISF0JiYhaG8oaS5ocmVmLGUpLGV4YWN0OihlLHQpPT50LmhyZWY9PT1lLGlzX25vdDooZSx0KT0+dC5ocmVmIT09ZX07Y2xhc3MgWG97Y29uc3RydWN0b3IoZSl7dmFyIHQ9dGhpcztXKHRoaXMsXCJnZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljXCIsKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0LmdldFdlYkV4cGVyaW1lbnRzKChlPT57WG8ubG9nSW5mbyhcInJldHJpZXZlZCB3ZWIgZXhwZXJpbWVudHMgZnJvbSB0aGUgc2VydmVyXCIpLHQuX2ZsYWdUb0V4cGVyaW1lbnRzPW5ldyBNYXAsZS5mb3JFYWNoKChlPT57aWYoZS5mZWF0dXJlX2ZsYWdfa2V5KXt2YXIgaTtpZih0Ll9mbGFnVG9FeHBlcmltZW50cylYby5sb2dJbmZvKFwic2V0dGluZyBmbGFnIGtleSBcIixlLmZlYXR1cmVfZmxhZ19rZXksXCIgdG8gd2ViIGV4cGVyaW1lbnQgXCIsZSksbnVsbD09PShpPXQuX2ZsYWdUb0V4cGVyaW1lbnRzKXx8dm9pZCAwPT09aXx8aS5zZXQoZS5mZWF0dXJlX2ZsYWdfa2V5LGUpO3ZhciByPXQuaW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcoZS5mZWF0dXJlX2ZsYWdfa2V5KTtUKHIpJiZlLnZhcmlhbnRzW3JdJiZ0LmFwcGx5VHJhbnNmb3JtcyhlLm5hbWUscixlLnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfWVsc2UgaWYoZS52YXJpYW50cylmb3IodmFyIG4gaW4gZS52YXJpYW50cyl7dmFyIHM9ZS52YXJpYW50c1tuXTtYby5tYXRjaGVzVGVzdFZhcmlhbnQocykmJnQuYXBwbHlUcmFuc2Zvcm1zKGUubmFtZSxuLHMudHJhbnNmb3Jtcyl9fSkpfSksZSl9KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuaW5zdGFuY2Uub25GZWF0dXJlRmxhZ3MoKGU9Pnt0aGlzLm9uRmVhdHVyZUZsYWdzKGUpfSkpfW9uRmVhdHVyZUZsYWdzKGUpe2lmKHRoaXMuX2lzX2JvdCgpKVhvLmxvZ0luZm8oXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik7ZWxzZSBpZighdGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMpe2lmKE8odGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMpKXJldHVybiB0aGlzLl9mbGFnVG9FeHBlcmltZW50cz1uZXcgTWFwLHRoaXMubG9hZElmRW5hYmxlZCgpLHZvaWQgdGhpcy5wcmV2aWV3V2ViRXhwZXJpbWVudCgpO1hvLmxvZ0luZm8oXCJhcHBseWluZyBmZWF0dXJlIGZsYWdzXCIsZSksZS5mb3JFYWNoKChlPT57dmFyIHQ7aWYodGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMmJm51bGwhPT0odD10aGlzLl9mbGFnVG9FeHBlcmltZW50cykmJnZvaWQgMCE9PXQmJnQuaGFzKGUpKXt2YXIgaSxyPXRoaXMuaW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcoZSksbj1udWxsPT09KGk9dGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldChlKTtyJiZudWxsIT1uJiZuLnZhcmlhbnRzW3JdJiZ0aGlzLmFwcGx5VHJhbnNmb3JtcyhuLm5hbWUscixuLnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfX0pKX19cHJldmlld1dlYkV4cGVyaW1lbnQoKXt2YXIgZT1Yby5nZXRXaW5kb3dMb2NhdGlvbigpO2lmKG51bGwhPWUmJmUuc2VhcmNoKXt2YXIgdD1FdChudWxsPT1lP3ZvaWQgMDplLnNlYXJjaCxcIl9fZXhwZXJpbWVudF9pZFwiKSxpPUV0KG51bGw9PWU/dm9pZCAwOmUuc2VhcmNoLFwiX19leHBlcmltZW50X3ZhcmlhbnRcIik7dCYmaSYmKFhvLmxvZ0luZm8oXCJwcmV2aWV3aW5nIHdlYiBleHBlcmltZW50cyBcIi5jb25jYXQodCxcIiAmJiBcIikuY29uY2F0KGkpKSx0aGlzLmdldFdlYkV4cGVyaW1lbnRzKChlPT57dGhpcy5zaG93UHJldmlld1dlYkV4cGVyaW1lbnQocGFyc2VJbnQodCksaSxlKX0pLCExLCEwKSl9fWxvYWRJZkVuYWJsZWQoKXt0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50c3x8dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljKCl9Z2V0V2ViRXhwZXJpbWVudHMoZSx0LGkpe2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzJiYhaSlyZXR1cm4gZShbXSk7dmFyIHI9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkd2ViX2V4cGVyaW1lbnRzXCIpO2lmKHImJiF0KXJldHVybiBlKHIpO3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7dXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS93ZWJfZXhwZXJpbWVudHMvP3Rva2VuPVwiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbikpLG1ldGhvZDpcIkdFVFwiLGNhbGxiYWNrOnQ9PntpZigyMDAhPT10LnN0YXR1c0NvZGV8fCF0Lmpzb24pcmV0dXJuIGUoW10pO3ZhciBpPXQuanNvbi5leHBlcmltZW50c3x8W107cmV0dXJuIGUoaSl9fSl9c2hvd1ByZXZpZXdXZWJFeHBlcmltZW50KGUsdCxpKXt2YXIgcj1pLmZpbHRlcigodD0+dC5pZD09PWUpKTtyJiZyLmxlbmd0aD4wJiYoWG8ubG9nSW5mbyhcIlByZXZpZXdpbmcgd2ViIGV4cGVyaW1lbnQgW1wiLmNvbmNhdChyWzBdLm5hbWUsXCJdIHdpdGggdmFyaWFudCBbXCIpLmNvbmNhdCh0LFwiXVwiKSksdGhpcy5hcHBseVRyYW5zZm9ybXMoclswXS5uYW1lLHQsclswXS52YXJpYW50c1t0XS50cmFuc2Zvcm1zKSl9c3RhdGljIG1hdGNoZXNUZXN0VmFyaWFudChlKXtyZXR1cm4hTyhlLmNvbmRpdGlvbnMpJiYoWG8ubWF0Y2hVcmxDb25kaXRpb25zKGUpJiZYby5tYXRjaFVUTUNvbmRpdGlvbnMoZSkpfXN0YXRpYyBtYXRjaFVybENvbmRpdGlvbnMoZSl7dmFyIHQ7aWYoTyhlLmNvbmRpdGlvbnMpfHxPKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVybCkpcmV0dXJuITA7dmFyIGkscixuLHM9WG8uZ2V0V2luZG93TG9jYXRpb24oKTtyZXR1cm4hIXMmJihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8IWkudXJsfHxLb1tudWxsIT09KHI9bnVsbD09PShuPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udXJsTWF0Y2hUeXBlKSYmdm9pZCAwIT09cj9yOlwiaWNvbnRhaW5zXCJdKGUuY29uZGl0aW9ucy51cmwscykpfXN0YXRpYyBnZXRXaW5kb3dMb2NhdGlvbigpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9ufXN0YXRpYyBtYXRjaFVUTUNvbmRpdGlvbnMoZSl7dmFyIHQ7aWYoTyhlLmNvbmRpdGlvbnMpfHxPKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnV0bSkpcmV0dXJuITA7dmFyIGk9aHMuY2FtcGFpZ25QYXJhbXMoKTtpZihpLnV0bV9zb3VyY2Upe3ZhciByLG4scyxvLGEsbCx1LGMsZCxoLF8scCx2LGcsZixtLHk9bnVsbD09PShyPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXJ8fG51bGw9PT0obj1yLnV0bSl8fHZvaWQgMD09PW58fCFuLnV0bV9jYW1wYWlnbnx8KG51bGw9PT0ocz1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1zfHxudWxsPT09KG89cy51dG0pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnV0bV9jYW1wYWlnbik9PWkudXRtX2NhbXBhaWduLGI9bnVsbD09PShhPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWF8fG51bGw9PT0obD1hLnV0bSl8fHZvaWQgMD09PWx8fCFsLnV0bV9zb3VyY2V8fChudWxsPT09KHU9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dXx8bnVsbD09PShjPXUudXRtKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy51dG1fc291cmNlKT09aS51dG1fc291cmNlLHc9bnVsbD09PShkPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWR8fG51bGw9PT0oaD1kLnV0bSl8fHZvaWQgMD09PWh8fCFoLnV0bV9tZWRpdW18fChudWxsPT09KF89ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09X3x8bnVsbD09PShwPV8udXRtKXx8dm9pZCAwPT09cD92b2lkIDA6cC51dG1fbWVkaXVtKT09aS51dG1fbWVkaXVtLFM9bnVsbD09PSh2PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXZ8fG51bGw9PT0oZz12LnV0bSl8fHZvaWQgMD09PWd8fCFnLnV0bV90ZXJtfHwobnVsbD09PShmPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWZ8fG51bGw9PT0obT1mLnV0bSl8fHZvaWQgMD09PW0/dm9pZCAwOm0udXRtX3Rlcm0pPT1pLnV0bV90ZXJtO3JldHVybiB5JiZ3JiZTJiZifXJldHVybiExfXN0YXRpYyBsb2dJbmZvKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspaVtyLTFdPWFyZ3VtZW50c1tyXTtOLmluZm8oXCJbV2ViRXhwZXJpbWVudHNdIFwiLmNvbmNhdChlKSxpKX1hcHBseVRyYW5zZm9ybXMoZSx0LGkpe3RoaXMuX2lzX2JvdCgpP1hvLmxvZ0luZm8oXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik6XCJjb250cm9sXCIhPT10P2kuZm9yRWFjaCgoaT0+e2lmKGkuc2VsZWN0b3Ipe3ZhciByO1hvLmxvZ0luZm8oXCJhcHBseWluZyB0cmFuc2Zvcm0gb2YgdmFyaWFudCBcIi5jb25jYXQodCxcIiBmb3IgZXhwZXJpbWVudCBcIikuY29uY2F0KGUsXCIgXCIpLGkpO3ZhciBuPW51bGw9PT0ocj1kb2N1bWVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvckFsbChpLnNlbGVjdG9yKTtudWxsPT1ufHxuLmZvckVhY2goKGU9Pnt2YXIgdD1lO2kuaHRtbCYmKHQuaW5uZXJIVE1MPWkuaHRtbCksaS5jc3MmJnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixpLmNzcyl9KSl9fSkpOlhvLmxvZ0luZm8oXCJDb250cm9sIHZhcmlhbnRzIGxlYXZlIHRoZSBwYWdlIHVubW9kaWZpZWQuXCIpfV9pc19ib3QoKXtyZXR1cm4gbyYmdGhpcy5pbnN0YW5jZT9WbyhvLHRoaXMuaW5zdGFuY2UuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH19dmFyIFFvPXt9LFpvPSgpPT57fSxlYT1cInBvc3Rob2dcIix0YT0heG8mJi0xPT09KG51bGw9PWg/dm9pZCAwOmguaW5kZXhPZihcIk1TSUVcIikpJiYtMT09PShudWxsPT1oP3ZvaWQgMDpoLmluZGV4T2YoXCJNb3ppbGxhXCIpKSxpYT0oKT0+e3ZhciBlO3JldHVybnthcGlfaG9zdDpcImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiLHVpX2hvc3Q6bnVsbCx0b2tlbjpcIlwiLGF1dG9jYXB0dXJlOiEwLHJhZ2VjbGljazohMCxjcm9zc19zdWJkb21haW5fY29va2llOm5lKG51bGw9PWE/dm9pZCAwOmEubG9jYXRpb24pLHBlcnNpc3RlbmNlOlwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiLHBlcnNpc3RlbmNlX25hbWU6XCJcIixsb2FkZWQ6Wm8sc2F2ZV9jYW1wYWlnbl9wYXJhbXM6ITAsY3VzdG9tX2NhbXBhaWduX3BhcmFtczpbXSxjdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzOltdLHNhdmVfcmVmZXJyZXI6ITAsY2FwdHVyZV9wYWdldmlldzohMCxjYXB0dXJlX3BhZ2VsZWF2ZTpcImlmX2NhcHR1cmVfcGFnZXZpZXdcIixkZWJ1ZzpsJiZUKG51bGw9PWw/dm9pZCAwOmwuc2VhcmNoKSYmLTEhPT1sLnNlYXJjaC5pbmRleE9mKFwiX19wb3N0aG9nX2RlYnVnPXRydWVcIil8fCExLGNvb2tpZV9leHBpcmF0aW9uOjM2NSx1cGdyYWRlOiExLGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITEsZGlzYWJsZV9wZXJzaXN0ZW5jZTohMSxkaXNhYmxlX3dlYl9leHBlcmltZW50czohMCxkaXNhYmxlX3N1cnZleXM6ITEsZGlzYWJsZV9leHRlcm5hbF9kZXBlbmRlbmN5X2xvYWRpbmc6ITEsZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZzp2b2lkIDAsc2VjdXJlX2Nvb2tpZTpcImh0dHBzOlwiPT09KG51bGw9PXR8fG51bGw9PT0oZT10LmxvY2F0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm90b2NvbCksaXA6ITAsb3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHQ6ITEsb3B0X291dF91c2VyYWdlbnRfZmlsdGVyOiExLG9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU6XCJsb2NhbFN0b3JhZ2VcIixvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4Om51bGwsb3B0X2luX3NpdGVfYXBwczohMSxwcm9wZXJ0eV9kZW55bGlzdDpbXSxyZXNwZWN0X2RudDohMSxzYW5pdGl6ZV9wcm9wZXJ0aWVzOm51bGwscmVxdWVzdF9oZWFkZXJzOnt9LHJlcXVlc3RfYmF0Y2hpbmc6ITAscHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aDo2NTUzNSxzZXNzaW9uX3JlY29yZGluZzp7fSxtYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXM6ITEsbWFza19hbGxfdGV4dDohMSxtYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczohMSxjdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOltdLGFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZDohMSxhZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljczohMSxmZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zOjNlMyxzdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tczoxZTQsb25fcmVxdWVzdF9lcnJvcjplPT57dmFyIHQ9XCJCYWQgSFRUUCBzdGF0dXM6IFwiK2Uuc3RhdHVzQ29kZStcIiBcIitlLnRleHQ7Ti5lcnJvcih0KX0sZ2V0X2RldmljZV9pZDplPT5lLGNhcHR1cmVfcGVyZm9ybWFuY2U6dm9pZCAwLG5hbWU6XCJwb3N0aG9nXCIsYm9vdHN0cmFwOnt9LGRpc2FibGVfY29tcHJlc3Npb246ITEsc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kczoxODAwLHBlcnNvbl9wcm9maWxlczpcImlkZW50aWZpZWRfb25seVwiLGJlZm9yZV9zZW5kOnZvaWQgMCxyZXF1ZXN0X3F1ZXVlX2NvbmZpZzp7Zmx1c2hfaW50ZXJ2YWxfbXM6Um99LF9vbkNhcHR1cmU6Wm99fSxyYT1lPT57dmFyIHQ9e307RihlLnByb2Nlc3NfcGVyc29uKXx8KHQucGVyc29uX3Byb2ZpbGVzPWUucHJvY2Vzc19wZXJzb24pLEYoZS54aHJfaGVhZGVycyl8fCh0LnJlcXVlc3RfaGVhZGVycz1lLnhocl9oZWFkZXJzKSxGKGUuY29va2llX25hbWUpfHwodC5wZXJzaXN0ZW5jZV9uYW1lPWUuY29va2llX25hbWUpLEYoZS5kaXNhYmxlX2Nvb2tpZSl8fCh0LmRpc2FibGVfcGVyc2lzdGVuY2U9ZS5kaXNhYmxlX2Nvb2tpZSksRihlLnN0b3JlX2dvb2dsZSl8fCh0LnNhdmVfY2FtcGFpZ25fcGFyYW1zPWUuc3RvcmVfZ29vZ2xlKSxGKGUudmVyYm9zZSl8fCh0LmRlYnVnPWUudmVyYm9zZSk7dmFyIGk9Syh7fSx0LGUpO3JldHVybiB4KGUucHJvcGVydHlfYmxhY2tsaXN0KSYmKEYoZS5wcm9wZXJ0eV9kZW55bGlzdCk/aS5wcm9wZXJ0eV9kZW55bGlzdD1lLnByb3BlcnR5X2JsYWNrbGlzdDp4KGUucHJvcGVydHlfZGVueWxpc3QpP2kucHJvcGVydHlfZGVueWxpc3Q9Wy4uLmUucHJvcGVydHlfYmxhY2tsaXN0LC4uLmUucHJvcGVydHlfZGVueWxpc3RdOk4uZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK2UucHJvcGVydHlfZGVueWxpc3QpKSxpfTtjbGFzcyBuYXtjb25zdHJ1Y3Rvcigpe1codGhpcyxcIl9fZm9yY2VBbGxvd0xvY2FsaG9zdFwiLCExKX1nZXQgX2ZvcmNlQWxsb3dMb2NhbGhvc3QoKXtyZXR1cm4gdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3R9c2V0IF9mb3JjZUFsbG93TG9jYWxob3N0KGUpe04uZXJyb3IoXCJXZWJQZXJmb3JtYW5jZU9ic2VydmVyIGlzIGRlcHJlY2F0ZWQgYW5kIGhhcyBubyBpbXBhY3Qgb24gbmV0d29yayBjYXB0dXJlLiBVc2UgYF9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmVgIG9uIGBwb3N0aG9nLnNlc3Npb25SZWNvcmRpbmdgXCIpLHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0PWV9fWNsYXNzIHNhe2dldCBkZWNpZGVFbmRwb2ludFdhc0hpdCgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09ZSYmZX1jb25zdHJ1Y3Rvcigpe1codGhpcyxcIndlYlBlcmZvcm1hbmNlXCIsbmV3IG5hKSxXKHRoaXMsXCJfcGVyc29uUHJvY2Vzc2luZ1NldE9uY2VQcm9wZXJ0aWVzU2VudFwiLCExKSxXKHRoaXMsXCJ2ZXJzaW9uXCIscC5MSUJfVkVSU0lPTiksVyh0aGlzLFwiX2ludGVybmFsRXZlbnRFbWl0dGVyXCIsbmV3IGdvKSx0aGlzLmNvbmZpZz1pYSgpLHRoaXMuU2VudHJ5SW50ZWdyYXRpb249WXIsdGhpcy5zZW50cnlJbnRlZ3JhdGlvbj1lPT5mdW5jdGlvbihlLHQpe3ZhciBpPUpyKGUsdCk7cmV0dXJue25hbWU6R3IscHJvY2Vzc0V2ZW50OmU9PmkoZSl9fSh0aGlzLGUpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX19sb2FkZWQ9ITEsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9XCIvZS9cIix0aGlzLl9pbml0aWFsUGFnZXZpZXdDYXB0dXJlZD0hMSx0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc9bnVsbCx0aGlzLl9jYWNoZWRQZXJzb25Qcm9wZXJ0aWVzPW51bGwsdGhpcy5mZWF0dXJlRmxhZ3M9bmV3IHdzKHRoaXMpLHRoaXMudG9vbGJhcj1uZXcgZW4odGhpcyksdGhpcy5zY3JvbGxNYW5hZ2VyPW5ldyBBbyh0aGlzKSx0aGlzLnBhZ2VWaWV3TWFuYWdlcj1uZXcgY24odGhpcyksdGhpcy5zdXJ2ZXlzPW5ldyB5byh0aGlzKSx0aGlzLmV4cGVyaW1lbnRzPW5ldyBYbyh0aGlzKSx0aGlzLmV4Y2VwdGlvbnM9bmV3IGRuKHRoaXMpLHRoaXMucmF0ZUxpbWl0ZXI9bmV3IHdvKHRoaXMpLHRoaXMucmVxdWVzdFJvdXRlcj1uZXcgWW8odGhpcyksdGhpcy5jb25zZW50PW5ldyB0aSh0aGlzKSx0aGlzLnBlb3BsZT17c2V0OihlLHQsaSk9Pnt2YXIgcj1UKGUpP3tbZV06dH06ZTt0aGlzLnNldFBlcnNvblByb3BlcnRpZXMociksbnVsbD09aXx8aSh7fSl9LHNldF9vbmNlOihlLHQsaSk9Pnt2YXIgcj1UKGUpP3tbZV06dH06ZTt0aGlzLnNldFBlcnNvblByb3BlcnRpZXModm9pZCAwLHIpLG51bGw9PWl8fGkoe30pfX0sdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+Ti5pbmZvKCdzZW5kIFwiJy5jb25jYXQobnVsbD09ZT92b2lkIDA6ZS5ldmVudCwnXCInKSxlKSkpfWluaXQoZSx0LGkpe2lmKGkmJmkhPT1lYSl7dmFyIHIsbj1udWxsIT09KHI9UW9baV0pJiZ2b2lkIDAhPT1yP3I6bmV3IHNhO3JldHVybiBuLl9pbml0KGUsdCxpKSxRb1tpXT1uLFFvW2VhXVtpXT1uLG59cmV0dXJuIHRoaXMuX2luaXQoZSx0LGkpfV9pbml0KGkpe3ZhciByLG4scz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbz1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtpZihGKGkpfHxSKGkpKXJldHVybiBOLmNyaXRpY2FsKFwiUG9zdEhvZyB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIHRva2VuLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBtaXNjb25maWd1cmF0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBwb3N0aG9nLmluaXQoKVwiKSx0aGlzO2lmKHRoaXMuX19sb2FkZWQpcmV0dXJuIE4ud2FybihcIllvdSBoYXZlIGFscmVhZHkgaW5pdGlhbGl6ZWQgUG9zdEhvZyEgUmUtaW5pdGlhbGl6aW5nIGlzIGEgbm8tb3BcIiksdGhpczt0aGlzLl9fbG9hZGVkPSEwLHRoaXMuY29uZmlnPXt9LHRoaXMuX3RyaWdnZXJlZF9ub3RpZnM9W10scy5wZXJzb25fcHJvZmlsZXMmJih0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc9cy5wZXJzb25fcHJvZmlsZXMpLHRoaXMuc2V0X2NvbmZpZyhLKHt9LGlhKCkscmEocykse25hbWU6byx0b2tlbjppfSkpLHRoaXMuY29uZmlnLm9uX3hocl9lcnJvciYmTi5lcnJvcihcIm9uX3hocl9lcnJvciBpcyBkZXByZWNhdGVkLiBVc2Ugb25fcmVxdWVzdF9lcnJvciBpbnN0ZWFkXCIpLHRoaXMuY29tcHJlc3Npb249cy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDplLkdaaXBKUyx0aGlzLnBlcnNpc3RlbmNlPW5ldyBrcyh0aGlzLmNvbmZpZyksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2U9XCJzZXNzaW9uU3RvcmFnZVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2V8fFwibWVtb3J5XCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZT90aGlzLnBlcnNpc3RlbmNlOm5ldyBrcyh6KHooe30sdGhpcy5jb25maWcpLHt9LHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSk7dmFyIGE9eih7fSx0aGlzLnBlcnNpc3RlbmNlLnByb3BzKSxsPXooe30sdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UucHJvcHMpO2lmKHRoaXMuX3JlcXVlc3RRdWV1ZT1uZXcgJG8oKGU9PnRoaXMuX3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoZSkpLHRoaXMuY29uZmlnLnJlcXVlc3RfcXVldWVfY29uZmlnKSx0aGlzLl9yZXRyeVF1ZXVlPW5ldyBNbyh0aGlzKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXSx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZXx8KHRoaXMuc2Vzc2lvbk1hbmFnZXI9bmV3IE5vKHRoaXMpLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcj1uZXcgRG8odGhpcyx0aGlzLnNlc3Npb25NYW5hZ2VyLHRoaXMucGVyc2lzdGVuY2UpKSxuZXcgcm4odGhpcykuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSx0aGlzLnNpdGVBcHBzPW5ldyBqbyh0aGlzKSxudWxsPT09KHI9dGhpcy5zaXRlQXBwcyl8fHZvaWQgMD09PXJ8fHIuaW5pdCgpLHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlfHwodGhpcy5zZXNzaW9uUmVjb3JkaW5nPW5ldyB6cih0aGlzKSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSksdGhpcy5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllc3x8dGhpcy5zY3JvbGxNYW5hZ2VyLnN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKSx0aGlzLmF1dG9jYXB0dXJlPW5ldyAkdCh0aGlzKSx0aGlzLmF1dG9jYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLmhlYXRtYXBzPW5ldyB1bih0aGlzKSx0aGlzLmhlYXRtYXBzLnN0YXJ0SWZFbmFibGVkKCksdGhpcy53ZWJWaXRhbHNBdXRvY2FwdHVyZT1uZXcgb24odGhpcyksdGhpcy5leGNlcHRpb25PYnNlcnZlcj1uZXcgYWkodGhpcyksdGhpcy5leGNlcHRpb25PYnNlcnZlci5zdGFydElmRW5hYmxlZCgpLHRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlPW5ldyBzaSh0aGlzLG5pKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLHAuREVCVUc9cC5ERUJVR3x8dGhpcy5jb25maWcuZGVidWcscC5ERUJVRyYmTi5pbmZvKFwiU3RhcnRpbmcgaW4gZGVidWcgbW9kZVwiLHt0aGlzOnRoaXMsY29uZmlnOnMsdGhpc0M6eih7fSx0aGlzLmNvbmZpZykscDphLHM6bH0pLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCksdm9pZCAwIT09KG51bGw9PT0obj1zLmJvb3RzdHJhcCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGlzdGluY3RJRCkpe3ZhciB1LGMsZD10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKE50KCkpLGg9bnVsbCE9PSh1PXMuYm9vdHN0cmFwKSYmdm9pZCAwIT09dSYmdS5pc0lkZW50aWZpZWRJRD9kOnMuYm9vdHN0cmFwLmRpc3RpbmN0SUQ7dGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoTGUsbnVsbCE9PShjPXMuYm9vdHN0cmFwKSYmdm9pZCAwIT09YyYmYy5pc0lkZW50aWZpZWRJRD9cImlkZW50aWZpZWRcIjpcImFub255bW91c1wiKSx0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDpzLmJvb3RzdHJhcC5kaXN0aW5jdElELCRkZXZpY2VfaWQ6aH0pfWlmKHRoaXMuX2hhc0Jvb3RzdHJhcHBlZEZlYXR1cmVGbGFncygpKXt2YXIgXyx2LGc9T2JqZWN0LmtleXMoKG51bGw9PT0oXz1zLmJvb3RzdHJhcCl8fHZvaWQgMD09PV8/dm9pZCAwOl8uZmVhdHVyZUZsYWdzKXx8e30pLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIShudWxsPT09KHQ9cy5ib290c3RyYXApfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT1pfHwhaVtlXSl9KSkucmVkdWNlKCgoZSx0KT0+e3ZhciBpLHI7cmV0dXJuIGVbdF09KG51bGw9PT0oaT1zLmJvb3RzdHJhcCl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmZlYXR1cmVGbGFncyl8fHZvaWQgMD09PXI/dm9pZCAwOnJbdF0pfHwhMSxlfSkse30pLGY9T2JqZWN0LmtleXMoKG51bGw9PT0odj1zLmJvb3RzdHJhcCl8fHZvaWQgMD09PXY/dm9pZCAwOnYuZmVhdHVyZUZsYWdQYXlsb2Fkcyl8fHt9KS5maWx0ZXIoKGU9PmdbZV0pKS5yZWR1Y2UoKChlLHQpPT57dmFyIGkscixuLG87bnVsbCE9PShpPXMuYm9vdHN0cmFwKSYmdm9pZCAwIT09aSYmbnVsbCE9PShyPWkuZmVhdHVyZUZsYWdQYXlsb2FkcykmJnZvaWQgMCE9PXImJnJbdF0mJihlW3RdPW51bGw9PT0obj1zLmJvb3RzdHJhcCl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLmZlYXR1cmVGbGFnUGF5bG9hZHMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvW3RdKTtyZXR1cm4gZX0pLHt9KTt0aGlzLmZlYXR1cmVGbGFncy5yZWNlaXZlZEZlYXR1cmVGbGFncyh7ZmVhdHVyZUZsYWdzOmcsZmVhdHVyZUZsYWdQYXlsb2FkczpmfSl9aWYodGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUpdGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDp6ZSwkZGV2aWNlX2lkOm51bGx9LFwiXCIpO2Vsc2UgaWYoIXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCkpe3ZhciBtPXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoTnQoKSk7dGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDptLCRkZXZpY2VfaWQ6bX0sXCJcIiksdGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoTGUsXCJhbm9ueW1vdXNcIil9cmV0dXJuIG9lKHQsXCJvbnBhZ2VoaWRlXCJpbiBzZWxmP1wicGFnZWhpZGVcIjpcInVubG9hZFwiLHRoaXMuX2hhbmRsZV91bmxvYWQuYmluZCh0aGlzKSx7cGFzc2l2ZTohMX0pLHRoaXMudG9vbGJhci5tYXliZUxvYWRUb29sYmFyKCkscy5zZWdtZW50P1ZyKHRoaXMsKCgpPT50aGlzLl9sb2FkZWQoKSkpOnRoaXMuX2xvYWRlZCgpLEkodGhpcy5jb25maWcuX29uQ2FwdHVyZSkmJnRoaXMuY29uZmlnLl9vbkNhcHR1cmUhPT1abyYmKE4ud2FybihcIm9uQ2FwdHVyZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBiZWZvcmVfc2VuZGAgaW5zdGVhZFwiKSx0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLChlPT50aGlzLmNvbmZpZy5fb25DYXB0dXJlKGUuZXZlbnQsZSkpKSksdGhpc31fb25SZW1vdGVDb25maWcodCl7dmFyIGkscixuLHMsbyxsLHUsYztpZighYXx8IWEuYm9keSlyZXR1cm4gTi5pbmZvKFwiZG9jdW1lbnQgbm90IHJlYWR5IHlldCwgdHJ5aW5nIGFnYWluIGluIDUwMCBtaWxsaXNlY29uZHMuLi5cIiksdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3RoaXMuX29uUmVtb3RlQ29uZmlnKHQpfSksNTAwKTt0aGlzLmNvbXByZXNzaW9uPXZvaWQgMCx0LnN1cHBvcnRlZENvbXByZXNzaW9uJiYhdGhpcy5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbiYmKHRoaXMuY29tcHJlc3Npb249bSh0LnN1cHBvcnRlZENvbXByZXNzaW9uLGUuR1ppcEpTKT9lLkdaaXBKUzptKHQuc3VwcG9ydGVkQ29tcHJlc3Npb24sZS5CYXNlNjQpP2UuQmFzZTY0OnZvaWQgMCksbnVsbCE9PShpPXQuYW5hbHl0aWNzKSYmdm9pZCAwIT09aSYmaS5lbmRwb2ludCYmKHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50PXQuYW5hbHl0aWNzLmVuZHBvaW50KSx0aGlzLnNldF9jb25maWcoe3BlcnNvbl9wcm9maWxlczp0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc/dGhpcy5faW5pdGlhbFBlcnNvblByb2ZpbGVzQ29uZmlnOlwiaWRlbnRpZmllZF9vbmx5XCJ9KSxudWxsPT09KHI9dGhpcy5zaXRlQXBwcyl8fHZvaWQgMD09PXJ8fHIub25SZW1vdGVDb25maWcodCksbnVsbD09PShuPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW58fG4ub25SZW1vdGVDb25maWcodCksbnVsbD09PShzPXRoaXMuYXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1zfHxzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0obz10aGlzLmhlYXRtYXBzKXx8dm9pZCAwPT09b3x8by5vblJlbW90ZUNvbmZpZyh0KSx0aGlzLnN1cnZleXMub25SZW1vdGVDb25maWcodCksbnVsbD09PShsPXRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1sfHxsLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0odT10aGlzLmV4Y2VwdGlvbk9ic2VydmVyKXx8dm9pZCAwPT09dXx8dS5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KGM9dGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1jfHxjLm9uUmVtb3RlQ29uZmlnKHQpfV9sb2FkZWQoKXt0cnl7dGhpcy5jb25maWcubG9hZGVkKHRoaXMpfWNhdGNoKGUpe04uY3JpdGljYWwoXCJgbG9hZGVkYCBmdW5jdGlvbiBmYWlsZWRcIixlKX10aGlzLl9zdGFydF9xdWV1ZV9pZl9vcHRlZF9pbigpLHRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnNldFRpbWVvdXQoKCgpPT57dGhpcy5jb25zZW50LmlzT3B0ZWRJbigpJiZ0aGlzLl9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl9KSwxKSxuZXcga28odGhpcykubG9hZCgpLHRoaXMuZmVhdHVyZUZsYWdzLmRlY2lkZSgpfV9zdGFydF9xdWV1ZV9pZl9vcHRlZF9pbigpe3ZhciBlO3RoaXMuaGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXx8dGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZyYmKG51bGw9PT0oZT10aGlzLl9yZXF1ZXN0UXVldWUpfHx2b2lkIDA9PT1lfHxlLmVuYWJsZSgpKX1fZG9tX2xvYWRlZCgpe3RoaXMuaGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXx8Sih0aGlzLl9fcmVxdWVzdF9xdWV1ZSwoZT0+dGhpcy5fc2VuZF9yZXRyaWFibGVfcmVxdWVzdChlKSkpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX3N0YXJ0X3F1ZXVlX2lmX29wdGVkX2luKCl9X2hhbmRsZV91bmxvYWQoKXt2YXIgZSx0O3RoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmc/KHRoaXMuX3Nob3VsZENhcHR1cmVQYWdlbGVhdmUoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiKSxudWxsPT09KGU9dGhpcy5fcmVxdWVzdFF1ZXVlKXx8dm9pZCAwPT09ZXx8ZS51bmxvYWQoKSxudWxsPT09KHQ9dGhpcy5fcmV0cnlRdWV1ZSl8fHZvaWQgMD09PXR8fHQudW5sb2FkKCkpOnRoaXMuX3Nob3VsZENhcHR1cmVQYWdlbGVhdmUoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiLG51bGwse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pfV9zZW5kX3JlcXVlc3QoZSl7dGhpcy5fX2xvYWRlZCYmKHRhP3RoaXMuX19yZXF1ZXN0X3F1ZXVlLnB1c2goZSk6dGhpcy5yYXRlTGltaXRlci5pc1NlcnZlclJhdGVMaW1pdGVkKGUuYmF0Y2hLZXkpfHwoZS50cmFuc3BvcnQ9ZS50cmFuc3BvcnR8fHRoaXMuY29uZmlnLmFwaV90cmFuc3BvcnQsZS51cmw9UG8oZS51cmwse2lwOnRoaXMuY29uZmlnLmlwPzE6MH0pLGUuaGVhZGVycz16KHt9LHRoaXMuY29uZmlnLnJlcXVlc3RfaGVhZGVycyksZS5jb21wcmVzc2lvbj1cImJlc3QtYXZhaWxhYmxlXCI9PT1lLmNvbXByZXNzaW9uP3RoaXMuY29tcHJlc3Npb246ZS5jb21wcmVzc2lvbixlLmZldGNoT3B0aW9ucz1lLmZldGNoT3B0aW9uc3x8dGhpcy5jb25maWcuZmV0Y2hfb3B0aW9ucywoZT0+e3ZhciB0LGkscixuPXooe30sZSk7bi50aW1lb3V0PW4udGltZW91dHx8NmU0LG4udXJsPVBvKG4udXJsLHtfOihuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksdmVyOnAuTElCX1ZFUlNJT04sY29tcHJlc3Npb246bi5jb21wcmVzc2lvbn0pO3ZhciBzPW51bGwhPT0odD1uLnRyYW5zcG9ydCkmJnZvaWQgMCE9PXQ/dDpcImZldGNoXCIsbz1udWxsIT09KGk9bnVsbD09PShyPXNlKFRvLChlPT5lLnRyYW5zcG9ydD09PXMpKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIubWV0aG9kKSYmdm9pZCAwIT09aT9pOlRvWzBdLm1ldGhvZDtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJObyBhdmFpbGFibGUgdHJhbnNwb3J0IG1ldGhvZFwiKTtvKG4pfSkoeih6KHt9LGUpLHt9LHtjYWxsYmFjazp0PT57dmFyIGkscixuOyh0aGlzLnJhdGVMaW1pdGVyLmNoZWNrRm9yTGltaXRpbmcodCksdC5zdGF0dXNDb2RlPj00MDApJiYobnVsbD09PShyPShuPXRoaXMuY29uZmlnKS5vbl9yZXF1ZXN0X2Vycm9yKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4sdCkpO251bGw9PT0oaT1lLmNhbGxiYWNrKXx8dm9pZCAwPT09aXx8aS5jYWxsKGUsdCl9fSkpKSl9X3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoZSl7dGhpcy5fcmV0cnlRdWV1ZT90aGlzLl9yZXRyeVF1ZXVlLnJldHJpYWJsZVJlcXVlc3QoZSk6dGhpcy5fc2VuZF9yZXF1ZXN0KGUpfV9leGVjdXRlX2FycmF5KGUpe3ZhciB0LGk9W10scj1bXSxuPVtdO0ooZSwoZT0+e2UmJih0PWVbMF0seCh0KT9uLnB1c2goZSk6SShlKT9lLmNhbGwodGhpcyk6eChlKSYmXCJhbGlhc1wiPT09dD9pLnB1c2goZSk6eChlKSYmLTEhPT10LmluZGV4T2YoXCJjYXB0dXJlXCIpJiZJKHRoaXNbdF0pP24ucHVzaChlKTpyLnB1c2goZSkpfSkpO3ZhciBzPWZ1bmN0aW9uKGUsdCl7SihlLChmdW5jdGlvbihlKXtpZih4KGVbMF0pKXt2YXIgaT10O1koZSwoZnVuY3Rpb24oZSl7aT1pW2VbMF1dLmFwcGx5KGksZS5zbGljZSgxKSl9KSl9ZWxzZSB0aGlzW2VbMF1dLmFwcGx5KHRoaXMsZS5zbGljZSgxKSl9KSx0KX07cyhpLHRoaXMpLHMocix0aGlzKSxzKG4sdGhpcyl9X2hhc0Jvb3RzdHJhcHBlZEZlYXR1cmVGbGFncygpe3ZhciBlLHQ7cmV0dXJuKG51bGw9PT0oZT10aGlzLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmZlYXR1cmVGbGFncykmJk9iamVjdC5rZXlzKG51bGw9PT0odD10aGlzLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZlYXR1cmVGbGFncykubGVuZ3RoPjB8fCExfXB1c2goZSl7dGhpcy5fZXhlY3V0ZV9hcnJheShbZV0pfWNhcHR1cmUoZSx0LGkpe3ZhciByO2lmKHRoaXMuX19sb2FkZWQmJnRoaXMucGVyc2lzdGVuY2UmJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlJiZ0aGlzLl9yZXF1ZXN0UXVldWUpe2lmKCF0aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpKWlmKCFGKGUpJiZUKGUpKXtpZih0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXJ8fCF0aGlzLl9pc19ib3QoKSl7dmFyIG49bnVsbCE9aSYmaS5za2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nP3ZvaWQgMDp0aGlzLnJhdGVMaW1pdGVyLmNsaWVudFJhdGVMaW1pdENvbnRleHQoKTtpZihudWxsPT1ufHwhbi5pc1JhdGVMaW1pdGVkKXtudWxsIT10JiZ0LiRjdXJyZW50X3VybCYmIVQobnVsbD09dD92b2lkIDA6dC4kY3VycmVudF91cmwpJiYoTi5lcnJvcihcIkludmFsaWQgYCRjdXJyZW50X3VybGAgcHJvcGVydHkgcHJvdmlkZWQgdG8gYHBvc3Rob2cuY2FwdHVyZWAuIElucHV0IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIHByb3ZpZGVkIHZhbHVlLlwiKSxudWxsPT10fHxkZWxldGUgdC4kY3VycmVudF91cmwpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpLHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfY2FtcGFpZ25fcGFyYW1zKCksdGhpcy5jb25maWcuc2F2ZV9yZWZlcnJlciYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX3JlZmVycmVyX2luZm8oKSwodGhpcy5jb25maWcuc2F2ZV9jYW1wYWlnbl9wYXJhbXN8fHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXIpJiZ0aGlzLnBlcnNpc3RlbmNlLnNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCk7dmFyIHM9bmV3IERhdGUsbz0obnVsbD09aT92b2lkIDA6aS50aW1lc3RhbXApfHxzLGE9TnQoKSxsPXt1dWlkOmEsZXZlbnQ6ZSxwcm9wZXJ0aWVzOnRoaXMuX2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzKGUsdHx8e30sbyxhKX07biYmKGwucHJvcGVydGllcy4kbGliX3JhdGVfbGltaXRfcmVtYWluaW5nX3Rva2Vucz1uLnJlbWFpbmluZ1Rva2VucyksKG51bGw9PWk/dm9pZCAwOmkuJHNldCkmJihsLiRzZXQ9bnVsbD09aT92b2lkIDA6aS4kc2V0KTt2YXIgdT10aGlzLl9jYWxjdWxhdGVfc2V0X29uY2VfcHJvcGVydGllcyhudWxsPT1pP3ZvaWQgMDppLiRzZXRfb25jZSk7dSYmKGwuJHNldF9vbmNlPXUpLChsPWllKGwsbnVsbCE9aSYmaS5fbm9UcnVuY2F0ZT9udWxsOnRoaXMuY29uZmlnLnByb3BlcnRpZXNfc3RyaW5nX21heF9sZW5ndGgpKS50aW1lc3RhbXA9byxGKG51bGw9PWk/dm9pZCAwOmkudGltZXN0YW1wKXx8KGwucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9wcm92aWRlZD0hMCxsLnByb3BlcnRpZXMuJGV2ZW50X3RpbWVfb3ZlcnJpZGVfc3lzdGVtX3RpbWU9cyk7dmFyIGM9eih6KHt9LGwucHJvcGVydGllcy4kc2V0KSxsLiRzZXQpO2lmKEMoYyl8fHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGMpLCFPKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSl7dmFyIGQ9dGhpcy5fcnVuQmVmb3JlU2VuZChsKTtpZighZClyZXR1cm47bD1kfXRoaXMuX2ludGVybmFsRXZlbnRFbWl0dGVyLmVtaXQoXCJldmVudENhcHR1cmVkXCIsbCk7dmFyIGg9e21ldGhvZDpcIlBPU1RcIix1cmw6bnVsbCE9PShyPW51bGw9PWk/dm9pZCAwOmkuX3VybCkmJnZvaWQgMCE9PXI/cjp0aGlzLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIix0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludCksZGF0YTpsLGNvbXByZXNzaW9uOlwiYmVzdC1hdmFpbGFibGVcIixiYXRjaEtleTpudWxsPT1pP3ZvaWQgMDppLl9iYXRjaEtleX07cmV0dXJuIXRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmd8fGkmJihudWxsPT1pfHwhaS5fYmF0Y2hLZXkpfHxudWxsIT1pJiZpLnNlbmRfaW5zdGFudGx5P3RoaXMuX3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoaCk6dGhpcy5fcmVxdWVzdFF1ZXVlLmVucXVldWUoaCksbH1OLmNyaXRpY2FsKFwiVGhpcyBjYXB0dXJlIGNhbGwgaXMgaWdub3JlZCBkdWUgdG8gY2xpZW50IHJhdGUgbGltaXRpbmcuXCIpfX1lbHNlIE4uZXJyb3IoXCJObyBldmVudCBuYW1lIHByb3ZpZGVkIHRvIHBvc3Rob2cuY2FwdHVyZVwiKX1lbHNlIE4udW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmNhcHR1cmVcIil9X2FkZENhcHR1cmVIb29rKGUpe3JldHVybiB0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLCh0PT5lKHQuZXZlbnQsdCkpKX1fY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXMoZSx0LGkscil7aWYoaT1pfHxuZXcgRGF0ZSwhdGhpcy5wZXJzaXN0ZW5jZXx8IXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXJldHVybiB0O3ZhciBuPXRoaXMucGVyc2lzdGVuY2UucmVtb3ZlX2V2ZW50X3RpbWVyKGUpLHM9eih7fSx0KTtpZihzLnRva2VuPXRoaXMuY29uZmlnLnRva2VuLHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlJiYocy4kY29va2llbGVzc19tb2RlPSEwKSxcIiRzbmFwc2hvdFwiPT09ZSl7dmFyIG89eih6KHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCkpO3JldHVybiBzLmRpc3RpbmN0X2lkPW8uZGlzdGluY3RfaWQsKCFUKHMuZGlzdGluY3RfaWQpJiYhTShzLmRpc3RpbmN0X2lkKXx8UihzLmRpc3RpbmN0X2lkKSkmJk4uZXJyb3IoXCJJbnZhbGlkIGRpc3RpbmN0X2lkIGZvciByZXBsYXkgZXZlbnQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIHlvdXIgaW1wbGVtZW50YXRpb25cIiksc312YXIgbCx1PWhzLnByb3BlcnRpZXMoe21hc2tQZXJzb25hbERhdGFQcm9wZXJ0aWVzOnRoaXMuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLGN1c3RvbVBlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllc30pO2lmKHRoaXMuc2Vzc2lvbk1hbmFnZXIpe3ZhcntzZXNzaW9uSWQ6Yyx3aW5kb3dJZDpkfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCk7cy4kc2Vzc2lvbl9pZD1jLHMuJHdpbmRvd19pZD1kfXRoaXMuc2Vzc2lvblByb3BzTWFuYWdlciYmSyhzLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlci5nZXRTZXNzaW9uUHJvcHMoKSk7dHJ5e3ZhciBfLHA7dGhpcy5zZXNzaW9uUmVjb3JkaW5nJiZLKHMsdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnNka0RlYnVnUHJvcGVydGllcykscy4kc2RrX2RlYnVnX3JldHJ5X3F1ZXVlX3NpemU9bnVsbD09PShfPXRoaXMuX3JldHJ5UXVldWUpfHx2b2lkIDA9PT1ffHxudWxsPT09KHA9Xy5xdWV1ZSl8fHZvaWQgMD09PXA/dm9pZCAwOnAubGVuZ3RofWNhdGNoKGUpe3MuJHNka19kZWJ1Z19lcnJvcl9jYXB0dXJpbmdfcHJvcGVydGllcz1TdHJpbmcoZSl9aWYodGhpcy5yZXF1ZXN0Um91dGVyLnJlZ2lvbj09PVVvLkNVU1RPTSYmKHMuJGxpYl9jdXN0b21fYXBpX2hvc3Q9dGhpcy5jb25maWcuYXBpX2hvc3QpLGw9XCIkcGFnZXZpZXdcIj09PWU/dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlVmlldyhpLHIpOlwiJHBhZ2VsZWF2ZVwiPT09ZT90aGlzLnBhZ2VWaWV3TWFuYWdlci5kb1BhZ2VMZWF2ZShpKTp0aGlzLnBhZ2VWaWV3TWFuYWdlci5kb0V2ZW50KCkscz1LKHMsbCksXCIkcGFnZXZpZXdcIj09PWUmJmEmJihzLnRpdGxlPWEudGl0bGUpLCFGKG4pKXt2YXIgdj1pLmdldFRpbWUoKS1uO3MuJGR1cmF0aW9uPXBhcnNlRmxvYXQoKHYvMWUzKS50b0ZpeGVkKDMpKX1oJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXImJihzLiRicm93c2VyX3R5cGU9dGhpcy5faXNfYm90KCk/XCJib3RcIjpcImJyb3dzZXJcIiksKHM9Syh7fSx1LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSxzKSkuJGlzX2lkZW50aWZpZWQ9dGhpcy5faXNJZGVudGlmaWVkKCkseCh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCk/WSh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCwoZnVuY3Rpb24oZSl7ZGVsZXRlIHNbZV19KSk6Ti5lcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHByb3BlcnR5X2RlbnlsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QrXCIgb3IgcHJvcGVydHlfYmxhY2tsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfYmxhY2tsaXN0KTt2YXIgZz10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO2cmJihOLmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSxzPWcocyxlKSk7dmFyIGY9dGhpcy5faGFzUGVyc29uUHJvY2Vzc2luZygpO3JldHVybiBzLiRwcm9jZXNzX3BlcnNvbl9wcm9maWxlPWYsZiYmdGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJfY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXNcIiksc31fY2FsY3VsYXRlX3NldF9vbmNlX3Byb3BlcnRpZXMoZSl7dmFyIHQ7aWYoIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLl9oYXNQZXJzb25Qcm9jZXNzaW5nKCkpcmV0dXJuIGU7aWYodGhpcy5fcGVyc29uUHJvY2Vzc2luZ1NldE9uY2VQcm9wZXJ0aWVzU2VudClyZXR1cm4gZTt2YXIgaT10aGlzLnBlcnNpc3RlbmNlLmdldF9pbml0aWFsX3Byb3BzKCkscj1udWxsPT09KHQ9dGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRTZXRPbmNlUHJvcHMoKSxuPUsoe30saSxyfHx7fSxlfHx7fSkscz10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO3JldHVybiBzJiYoTi5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIiksbj1zKG4sXCIkc2V0X29uY2VcIikpLHRoaXMuX3BlcnNvblByb2Nlc3NpbmdTZXRPbmNlUHJvcGVydGllc1NlbnQ9ITAsQyhuKT92b2lkIDA6bn1yZWdpc3RlcihlLHQpe3ZhciBpO251bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3RlcihlLHQpfXJlZ2lzdGVyX29uY2UoZSx0LGkpe3ZhciByO251bGw9PT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09cnx8ci5yZWdpc3Rlcl9vbmNlKGUsdCxpKX1yZWdpc3Rlcl9mb3Jfc2Vzc2lvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnJlZ2lzdGVyKGUpfXVucmVnaXN0ZXIoZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnVucmVnaXN0ZXIoZSl9dW5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnVucmVnaXN0ZXIoZSl9X3JlZ2lzdGVyX3NpbmdsZShlLHQpe3RoaXMucmVnaXN0ZXIoe1tlXTp0fSl9Z2V0RmVhdHVyZUZsYWcoZSx0KXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWcoZSx0KX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSl7dmFyIHQ9dGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGUpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm4gdH19aXNGZWF0dXJlRW5hYmxlZChlLHQpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKGUsdCl9cmVsb2FkRmVhdHVyZUZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVsb2FkRmVhdHVyZUZsYWdzKCl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudChlLHQpe3RoaXMuZmVhdHVyZUZsYWdzLnVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQoZSx0KX1nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0saT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RWFybHlBY2Nlc3NGZWF0dXJlcyhlLHQsaSl9b24oZSx0KXtyZXR1cm4gdGhpcy5faW50ZXJuYWxFdmVudEVtaXR0ZXIub24oZSx0KX1vbkZlYXR1cmVGbGFncyhlKXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3Mub25GZWF0dXJlRmxhZ3MoZSl9b25TdXJ2ZXlzTG9hZGVkKGUpe3JldHVybiB0aGlzLnN1cnZleXMub25TdXJ2ZXlzTG9hZGVkKGUpfW9uU2Vzc2lvbklkKGUpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGk9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkub25TZXNzaW9uSWQoZSkpJiZ2b2lkIDAhPT10P3Q6KCk9Pnt9fWdldFN1cnZleXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0aGlzLnN1cnZleXMuZ2V0U3VydmV5cyhlLHQpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuc3VydmV5cy5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXMoZSx0KX1yZW5kZXJTdXJ2ZXkoZSx0KXt0aGlzLnN1cnZleXMucmVuZGVyU3VydmV5KGUsdCl9Y2FuUmVuZGVyU3VydmV5KGUpe3JldHVybiB0aGlzLnN1cnZleXMuY2FuUmVuZGVyU3VydmV5KGUpfWlkZW50aWZ5KGUsdCxpKXtpZighdGhpcy5fX2xvYWRlZHx8IXRoaXMucGVyc2lzdGVuY2UpcmV0dXJuIE4udW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmlkZW50aWZ5XCIpO2lmKE0oZSkmJihlPWUudG9TdHJpbmcoKSxOLndhcm4oXCJUaGUgZmlyc3QgYXJndW1lbnQgdG8gcG9zdGhvZy5pZGVudGlmeSB3YXMgYSBudW1iZXIsIGJ1dCBpdCBzaG91bGQgYmUgYSBzdHJpbmcuIEl0IGhhcyBiZWVuIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cIikpLGUpe2lmKFtcImRpc3RpbmN0X2lkXCIsXCJkaXN0aW5jdGlkXCJdLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkpTi5jcml0aWNhbCgnVGhlIHN0cmluZyBcIicuY29uY2F0KGUsJ1wiIHdhcyBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeSB3aGljaCBpbmRpY2F0ZXMgYW4gZXJyb3IuIFRoaXMgSUQgc2hvdWxkIGJlIHVuaXF1ZSB0byB0aGUgdXNlciBhbmQgbm90IGEgaGFyZGNvZGVkIHN0cmluZy4nKSk7ZWxzZSBpZih0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcInBvc3Rob2cuaWRlbnRpZnlcIikpe3ZhciByPXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCk7aWYodGhpcy5yZWdpc3Rlcih7JHVzZXJfaWQ6ZX0pLCF0aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIikpe3ZhciBuPXI7dGhpcy5yZWdpc3Rlcl9vbmNlKHskaGFkX3BlcnNpc3RlZF9kaXN0aW5jdF9pZDohMCwkZGV2aWNlX2lkOm59LFwiXCIpfWUhPT1yJiZlIT09dGhpcy5nZXRfcHJvcGVydHkobGUpJiYodGhpcy51bnJlZ2lzdGVyKGxlKSx0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDplfSkpO3ZhciBzPVwiYW5vbnltb3VzXCI9PT0odGhpcy5wZXJzaXN0ZW5jZS5nZXRfcHJvcGVydHkoTGUpfHxcImFub255bW91c1wiKTtlIT09ciYmcz8odGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoTGUsXCJpZGVudGlmaWVkXCIpLHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHooeih7fSxpfHx7fSksdHx8e30pLCExKSx0aGlzLmNhcHR1cmUoXCIkaWRlbnRpZnlcIix7ZGlzdGluY3RfaWQ6ZSwkYW5vbl9kaXN0aW5jdF9pZDpyfSx7JHNldDp0fHx7fSwkc2V0X29uY2U6aXx8e319KSx0aGlzLl9jYWNoZWRQZXJzb25Qcm9wZXJ0aWVzPUdvKGUsdCxpKSx0aGlzLmZlYXR1cmVGbGFncy5zZXRBbm9ueW1vdXNEaXN0aW5jdElkKHIpKToodHx8aSkmJnRoaXMuc2V0UGVyc29uUHJvcGVydGllcyh0LGkpLGUhPT1yJiYodGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKSx0aGlzLnVucmVnaXN0ZXIoQWUpKX19ZWxzZSBOLmVycm9yKFwiVW5pcXVlIHVzZXIgaWQgaGFzIG5vdCBiZWVuIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5XCIpfXNldFBlcnNvblByb3BlcnRpZXMoZSx0KXtpZigoZXx8dCkmJnRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5zZXRQZXJzb25Qcm9wZXJ0aWVzXCIpKXt2YXIgaT1Hbyh0aGlzLmdldF9kaXN0aW5jdF9pZCgpLGUsdCk7dGhpcy5fY2FjaGVkUGVyc29uUHJvcGVydGllcyE9PWk/KHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHooeih7fSx0fHx7fSksZXx8e30pKSx0aGlzLmNhcHR1cmUoXCIkc2V0XCIseyRzZXQ6ZXx8e30sJHNldF9vbmNlOnR8fHt9fSksdGhpcy5fY2FjaGVkUGVyc29uUHJvcGVydGllcz1pKTpOLmluZm8oXCJBIGR1cGxpY2F0ZSBzZXRQZXJzb25Qcm9wZXJ0aWVzIGNhbGwgd2FzIG1hZGUgd2l0aCB0aGUgc2FtZSBwcm9wZXJ0aWVzLiBJdCBoYXMgYmVlbiBpZ25vcmVkLlwiKX19Z3JvdXAoZSx0LGkpe2lmKGUmJnQpe2lmKHRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5ncm91cFwiKSl7dmFyIHI9dGhpcy5nZXRHcm91cHMoKTtyW2VdIT09dCYmdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpLHRoaXMucmVnaXN0ZXIoeyRncm91cHM6eih6KHt9LHIpLHt9LHtbZV06dH0pfSksaSYmKHRoaXMuY2FwdHVyZShcIiRncm91cGlkZW50aWZ5XCIseyRncm91cF90eXBlOmUsJGdyb3VwX2tleTp0LCRncm91cF9zZXQ6aX0pLHRoaXMuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3Moe1tlXTppfSkpLHJbZV09PT10fHxpfHx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfX1lbHNlIE4uZXJyb3IoXCJwb3N0aG9nLmdyb3VwIHJlcXVpcmVzIGEgZ3JvdXAgdHlwZSBhbmQgZ3JvdXAga2V5XCIpfXJlc2V0R3JvdXBzKCl7dGhpcy5yZWdpc3Rlcih7JGdyb3Vwczp7fX0pLHRoaXMucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncygpLHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dGhpcy5mZWF0dXJlRmxhZ3Muc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGUsdCl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpfXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzXCIpJiZ0aGlzLmZlYXR1cmVGbGFncy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlLHQpfXJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dGhpcy5mZWF0dXJlRmxhZ3MucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKX1yZXNldChlKXt2YXIgdCxpLHIsbjtpZihOLmluZm8oXCJyZXNldFwiKSwhdGhpcy5fX2xvYWRlZClyZXR1cm4gTi51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cucmVzZXRcIik7dmFyIHM9dGhpcy5nZXRfcHJvcGVydHkoXCIkZGV2aWNlX2lkXCIpO2lmKHRoaXMuY29uc2VudC5yZXNldCgpLG51bGw9PT0odD10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC5jbGVhcigpLG51bGw9PT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkuY2xlYXIoKSx0aGlzLnN1cnZleXMucmVzZXQoKSxudWxsPT09KHI9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXJ8fHIuc2V0X3Byb3BlcnR5KExlLFwiYW5vbnltb3VzXCIpLG51bGw9PT0obj10aGlzLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09bnx8bi5yZXNldFNlc3Npb25JZCgpLHRoaXMuX2NhY2hlZFBlcnNvblByb3BlcnRpZXM9bnVsbCx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOnplLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZXt2YXIgbz10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKE50KCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bywkZGV2aWNlX2lkOmU/bzpzfSxcIlwiKX10aGlzLnJlZ2lzdGVyKHskbGFzdF9wb3N0aG9nX3Jlc2V0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0sMSl9Z2V0X2Rpc3RpbmN0X2lkKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiZGlzdGluY3RfaWRcIil9Z2V0R3JvdXBzKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8e319Z2V0X3Nlc3Npb25faWQoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKS5zZXNzaW9uSWQpJiZ2b2lkIDAhPT1lP2U6XCJcIn1nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKGUpe2lmKCF0aGlzLnNlc3Npb25NYW5hZ2VyKXJldHVyblwiXCI7dmFye3Nlc3Npb25JZDp0LHNlc3Npb25TdGFydFRpbWVzdGFtcDppfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKSxyPXRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIi5jb25jYXQodGhpcy5jb25maWcudG9rZW4sXCIvcmVwbGF5L1wiKS5jb25jYXQodCkpO2lmKG51bGwhPWUmJmUud2l0aFRpbWVzdGFtcCYmaSl7dmFyIG4scz1udWxsIT09KG49ZS50aW1lc3RhbXBMb29rQmFjaykmJnZvaWQgMCE9PW4/bjoxMDtpZighaSlyZXR1cm4gcjt2YXIgbz1NYXRoLm1heChNYXRoLmZsb29yKCgobmV3IERhdGUpLmdldFRpbWUoKS1pKS8xZTMpLXMsMCk7cis9XCI/dD1cIi5jb25jYXQobyl9cmV0dXJuIHJ9YWxpYXMoZSx0KXtyZXR1cm4gZT09PXRoaXMuZ2V0X3Byb3BlcnR5KGFlKT8oTi5jcml0aWNhbChcIkF0dGVtcHRpbmcgdG8gY3JlYXRlIGFsaWFzIGZvciBleGlzdGluZyBQZW9wbGUgdXNlciAtIGFib3J0aW5nLlwiKSwtMik6dGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmFsaWFzXCIpPyhGKHQpJiYodD10aGlzLmdldF9kaXN0aW5jdF9pZCgpKSxlIT09dD8odGhpcy5fcmVnaXN0ZXJfc2luZ2xlKGxlLGUpLHRoaXMuY2FwdHVyZShcIiRjcmVhdGVfYWxpYXNcIix7YWxpYXM6ZSxkaXN0aW5jdF9pZDp0fSkpOihOLndhcm4oXCJhbGlhcyBtYXRjaGVzIGN1cnJlbnQgZGlzdGluY3RfaWQgLSBza2lwcGluZyBhcGkgY2FsbC5cIiksdGhpcy5pZGVudGlmeShlKSwtMSkpOnZvaWQgMH1zZXRfY29uZmlnKGUpe3ZhciB0LGkscixuLHM9eih7fSx0aGlzLmNvbmZpZyk7UChlKSYmKEsodGhpcy5jb25maWcscmEoZSkpLG51bGw9PT0odD10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC51cGRhdGVfY29uZmlnKHRoaXMuY29uZmlnLHMpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcga3Moeih6KHt9LHRoaXMuY29uZmlnKSx7fSx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSkpLEp0LmlzX3N1cHBvcnRlZCgpJiZcInRydWVcIj09PUp0LmdldChcInBoX2RlYnVnXCIpJiYodGhpcy5jb25maWcuZGVidWc9ITApLHRoaXMuY29uZmlnLmRlYnVnJiYocC5ERUJVRz0hMCxOLmluZm8oXCJzZXRfY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkoe2NvbmZpZzplLG9sZENvbmZpZzpzLG5ld0NvbmZpZzp6KHt9LHRoaXMuY29uZmlnKX0sbnVsbCwyKSkpLG51bGw9PT0oaT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1pfHxpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksbnVsbD09PShyPXRoaXMuYXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1yfHxyLnN0YXJ0SWZFbmFibGVkKCksbnVsbD09PShuPXRoaXMuaGVhdG1hcHMpfHx2b2lkIDA9PT1ufHxuLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpKX1zdGFydFNlc3Npb25SZWNvcmRpbmcoZSl7dmFyIHQ9ITA9PT1lLGk9e3NhbXBsaW5nOnR8fCEobnVsbD09ZXx8IWUuc2FtcGxpbmcpLGxpbmtlZF9mbGFnOnR8fCEobnVsbD09ZXx8IWUubGlua2VkX2ZsYWcpLHVybF90cmlnZ2VyOnR8fCEobnVsbD09ZXx8IWUudXJsX3RyaWdnZXIpLGV2ZW50X3RyaWdnZXI6dHx8IShudWxsPT1lfHwhZS5ldmVudF90cmlnZ2VyKX07aWYoT2JqZWN0LnZhbHVlcyhpKS5zb21lKEJvb2xlYW4pKXt2YXIgcixuLHMsbyxhO2lmKG51bGw9PT0ocj10aGlzLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09cnx8ci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLGkuc2FtcGxpbmcpbnVsbD09PShuPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW58fG4ub3ZlcnJpZGVTYW1wbGluZygpO2lmKGkubGlua2VkX2ZsYWcpbnVsbD09PShzPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXN8fHMub3ZlcnJpZGVMaW5rZWRGbGFnKCk7aWYoaS51cmxfdHJpZ2dlciludWxsPT09KG89dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09b3x8by5vdmVycmlkZVRyaWdnZXIoXCJ1cmxcIik7aWYoaS5ldmVudF90cmlnZ2VyKW51bGw9PT0oYT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1hfHxhLm92ZXJyaWRlVHJpZ2dlcihcImV2ZW50XCIpfXRoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMX0pfXN0b3BTZXNzaW9uUmVjb3JkaW5nKCl7dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiEwfSl9c2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKXt2YXIgZTtyZXR1cm4hKG51bGw9PT0oZT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1lfHwhZS5zdGFydGVkKX1jYXB0dXJlRXhjZXB0aW9uKGUsdCl7dmFyIGk9bmV3IEVycm9yKFwiUG9zdEhvZyBzeW50aGV0aWNFeGNlcHRpb25cIik7dGhpcy5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudCh6KHooe30sTWkoKGU9PmUgaW5zdGFuY2VvZiBFcnJvcikoZSk/e2Vycm9yOmUsZXZlbnQ6ZS5tZXNzYWdlfTp7ZXZlbnQ6ZX0se3N5bnRoZXRpY0V4Y2VwdGlvbjppfSkpLHQpKX1sb2FkVG9vbGJhcihlKXtyZXR1cm4gdGhpcy50b29sYmFyLmxvYWRUb29sYmFyKGUpfWdldF9wcm9wZXJ0eShlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW2VdfWdldFNlc3Npb25Qcm9wZXJ0eShlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wcm9wc1tlXX10b1N0cmluZygpe3ZhciBlLHQ9bnVsbCE9PShlPXRoaXMuY29uZmlnLm5hbWUpJiZ2b2lkIDAhPT1lP2U6ZWE7cmV0dXJuIHQhPT1lYSYmKHQ9ZWErXCIuXCIrdCksdH1faXNJZGVudGlmaWVkKCl7dmFyIGUsdDtyZXR1cm5cImlkZW50aWZpZWRcIj09PShudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0X3Byb3BlcnR5KExlKSl8fFwiaWRlbnRpZmllZFwiPT09KG51bGw9PT0odD10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KExlKSl9X2hhc1BlcnNvblByb2Nlc3NpbmcoKXt2YXIgZSx0LGkscjtyZXR1cm4hKFwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlc3x8XCJpZGVudGlmaWVkX29ubHlcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcyYmIXRoaXMuX2lzSWRlbnRpZmllZCgpJiZDKHRoaXMuZ2V0R3JvdXBzKCkpJiYobnVsbD09PShlPXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5wcm9wcyl8fHZvaWQgMD09PXR8fCF0W2xlXSkmJihudWxsPT09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLnByb3BzKXx8dm9pZCAwPT09cnx8IXJbamVdKSl9X3Nob3VsZENhcHR1cmVQYWdlbGVhdmUoKXtyZXR1cm4hMD09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlfHxcImlmX2NhcHR1cmVfcGFnZXZpZXdcIj09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlJiZ0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3fWNyZWF0ZVBlcnNvblByb2ZpbGUoKXt0aGlzLl9oYXNQZXJzb25Qcm9jZXNzaW5nKCl8fHRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5jcmVhdGVQZXJzb25Qcm9maWxlXCIpJiZ0aGlzLnNldFBlcnNvblByb3BlcnRpZXMoe30se30pfV9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhlKXtyZXR1cm5cIm5ldmVyXCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXM/KE4uZXJyb3IoZSsnIHdhcyBjYWxsZWQsIGJ1dCBwcm9jZXNzX3BlcnNvbiBpcyBzZXQgdG8gXCJuZXZlclwiLiBUaGlzIGNhbGwgd2lsbCBiZSBpZ25vcmVkLicpLCExKToodGhpcy5fcmVnaXN0ZXJfc2luZ2xlKGplLCEwKSwhMCl9X3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl7dmFyIGUsdCxpLHIsbj10aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpLHM9dGhpcy5jb25maWcub3B0X291dF9wZXJzaXN0ZW5jZV9ieV9kZWZhdWx0LG89dGhpcy5jb25maWcuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8biYmISFzOyhudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZGlzYWJsZWQpIT09byYmKG51bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5zZXRfZGlzYWJsZWQobykpOyhudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRpc2FibGVkKSE9PW8mJihudWxsPT09KHI9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1yfHxyLnNldF9kaXNhYmxlZChvKSl9b3B0X2luX2NhcHR1cmluZyhlKXt2YXIgdDsodGhpcy5jb25zZW50Lm9wdEluT3V0KCEwKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpLEYobnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlRXZlbnROYW1lKXx8bnVsbCE9ZSYmZS5jYXB0dXJlRXZlbnROYW1lKSYmdGhpcy5jYXB0dXJlKG51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLmNhcHR1cmVFdmVudE5hbWUpJiZ2b2lkIDAhPT10P3Q6XCIkb3B0X2luXCIsbnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlUHJvcGVydGllcyx7c2VuZF9pbnN0YW50bHk6ITB9KTt0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZ0aGlzLl9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl9b3B0X291dF9jYXB0dXJpbmcoKXt0aGlzLmNvbnNlbnQub3B0SW5PdXQoITEpLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl9aGFzX29wdGVkX2luX2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCl9aGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXtyZXR1cm4gdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKX1jbGVhcl9vcHRfaW5fb3V0X2NhcHR1cmluZygpe3RoaXMuY29uc2VudC5yZXNldCgpLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl9X2lzX2JvdCgpe3JldHVybiBvP1ZvKG8sdGhpcy5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfV9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl7YSYmIXRoaXMuX2luaXRpYWxQYWdldmlld0NhcHR1cmVkJiYodGhpcy5faW5pdGlhbFBhZ2V2aWV3Q2FwdHVyZWQ9ITAsdGhpcy5jYXB0dXJlKFwiJHBhZ2V2aWV3XCIse3RpdGxlOmEudGl0bGV9LHtzZW5kX2luc3RhbnRseTohMH0pKX1kZWJ1ZyhlKXshMT09PWU/KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UndmUgZGlzYWJsZWQgZGVidWcgbW9kZS5cIiksbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInBoX2RlYnVnXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITF9KSk6KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UncmUgbm93IGluIGRlYnVnIG1vZGUuIEFsbCBjYWxscyB0byBQb3N0SG9nIHdpbGwgYmUgbG9nZ2VkIGluIHlvdXIgY29uc29sZS5cXG5Zb3UgY2FuIGRpc2FibGUgdGhpcyB3aXRoIGBwb3N0aG9nLmRlYnVnKGZhbHNlKWAuXCIpLGxvY2FsU3RvcmFnZSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaF9kZWJ1Z1wiLFwidHJ1ZVwiKSx0aGlzLnNldF9jb25maWcoe2RlYnVnOiEwfSkpfV9ydW5CZWZvcmVTZW5kKGUpe2lmKE8odGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXJldHVybiBlO3ZhciB0PXgodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpP3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kOlt0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZF0saT1lO2Zvcih2YXIgciBvZiB0KXtpZihpPXIoaSksTyhpKSl7dmFyIG49XCJFdmVudCAnXCIuY29uY2F0KGUuZXZlbnQsXCInIHdhcyByZWplY3RlZCBpbiBiZWZvcmVTZW5kIGZ1bmN0aW9uXCIpO3JldHVybiBEKGUuZXZlbnQpP04ud2FybihcIlwiLmNvbmNhdChuLFwiLiBUaGlzIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yLlwiKSk6Ti5pbmZvKG4pLG51bGx9aS5wcm9wZXJ0aWVzJiYhQyhpLnByb3BlcnRpZXMpfHxOLndhcm4oXCJFdmVudCAnXCIuY29uY2F0KGUuZXZlbnQsXCInIGhhcyBubyBwcm9wZXJ0aWVzIGFmdGVyIGJlZm9yZVNlbmQgZnVuY3Rpb24sIHRoaXMgaXMgbGlrZWx5IGFuIGVycm9yLlwiKSl9cmV0dXJuIGl9Z2V0UGFnZVZpZXdJZCgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5wYWdlVmlld01hbmFnZXIuX2N1cnJlbnRQYWdldmlldyl8fHZvaWQgMD09PWU/dm9pZCAwOmUucGFnZVZpZXdJZH1jYXB0dXJlVHJhY2VGZWVkYmFjayhlLHQpe3RoaXMuY2FwdHVyZShcIiRhaV9mZWVkYmFja1wiLHskYWlfdHJhY2VfaWQ6U3RyaW5nKGUpLCRhaV9mZWVkYmFja190ZXh0OnR9KX1jYXB0dXJlVHJhY2VNZXRyaWMoZSx0LGkpe3RoaXMuY2FwdHVyZShcIiRhaV9tZXRyaWNcIix7JGFpX3RyYWNlX2lkOlN0cmluZyhlKSwkYWlfbWV0cmljX25hbWU6dCwkYWlfbWV0cmljX3ZhbHVlOlN0cmluZyhpKX0pfX0hZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyllLnByb3RvdHlwZVt0W2ldXT1lZShlLnByb3RvdHlwZVt0W2ldXSl9KHNhLFtcImlkZW50aWZ5XCJdKTt2YXIgb2EsYWE9KG9hPVFvW2VhXT1uZXcgc2EsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7ZS5kb25lfHwoZS5kb25lPSEwLHRhPSExLFkoUW8sKGZ1bmN0aW9uKGUpe2UuX2RvbV9sb2FkZWQoKX0pKSl9bnVsbCE9YSYmYS5hZGRFdmVudExpc3RlbmVyP1wiY29tcGxldGVcIj09PWEucmVhZHlTdGF0ZT9lKCk6b2UoYSxcIkRPTUNvbnRlbnRMb2FkZWRcIixlLHtjYXB0dXJlOiExfSk6dCYmTi5lcnJvcihcIkJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyYCBzbyBQb3N0SG9nIGNvdWxkbid0IGJlIGluaXRpYWxpemVkXCIpfSgpLG9hKTtleHBvcnR7diBhcyBDT1BZX0FVVE9DQVBUVVJFX0VWRU5ULGUgYXMgQ29tcHJlc3Npb24sc2EgYXMgUG9zdEhvZyxPcyBhcyBTdXJ2ZXlQb3NpdGlvbixMcyBhcyBTdXJ2ZXlRdWVzdGlvbkJyYW5jaGluZ1R5cGUsQXMgYXMgU3VydmV5UXVlc3Rpb25UeXBlLERzIGFzIFN1cnZleVNjaGVkdWxlLE1zIGFzIFN1cnZleVR5cGUsJHMgYXMgU3VydmV5V2lkZ2V0VHlwZSxhYSBhcyBkZWZhdWx0LGcgYXMga25vd25VbnNhZmVFZGl0YWJsZUV2ZW50LGFhIGFzIHBvc3Rob2csZiBhcyBzZXZlcml0eUxldmVsc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/posthog-js/react/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/posthog-js/react/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogErrorBoundary: () => (/* binding */ PostHogErrorBoundary),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/./node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({ client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\nfunction isDeepEqual(obj1, obj2, visited) {\r\n    if (visited === void 0) { visited = new WeakMap(); }\r\n    if (obj1 === obj2) {\r\n        return true;\r\n    }\r\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\r\n        return false;\r\n    }\r\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\r\n        return true;\r\n    }\r\n    visited.set(obj1, obj2);\r\n    var keys1 = Object.keys(obj1);\r\n    var keys2 = Object.keys(obj2);\r\n    if (keys1.length !== keys2.length) {\r\n        return false;\r\n    }\r\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\r\n        var key = keys1_1[_i];\r\n        if (!keys2.includes(key)) {\r\n            return false;\r\n        }\r\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nfunction PostHogProvider(_a) {\r\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\r\n    var previousInitializationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\r\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\r\n        if (client) {\r\n            if (apiKey) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\r\n            }\r\n            if (options) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\r\n            }\r\n            return client;\r\n        }\r\n        if (apiKey) {\r\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n        }\r\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\r\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n    }, [client, apiKey, JSON.stringify(options)]);\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        if (client) {\r\n            return;\r\n        }\r\n        var previousInitialization = previousInitializationRef.current;\r\n        if (!previousInitialization) {\r\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\r\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\r\n            }\r\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\r\n            previousInitializationRef.current = {\r\n                apiKey: apiKey,\r\n                options: options !== null && options !== void 0 ? options : {},\r\n            };\r\n        }\r\n        else {\r\n            if (apiKey !== previousInitialization.apiKey) {\r\n                console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\r\n            }\r\n            if (options && !isDeepEqual(options, previousInitialization.options)) {\r\n                posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\r\n            }\r\n            previousInitializationRef.current = {\r\n                apiKey: apiKey,\r\n                options: options !== null && options !== void 0 ? options : {},\r\n            };\r\n        }\r\n    }, [client, apiKey, JSON.stringify(options)]);\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog } }, children);\r\n}\n\nvar usePostHog = function () {\r\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\r\n    return client;\r\n};\n\nfunction useFeatureFlagEnabled(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _a[0], setFeatureEnabled = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureEnabled(client.isFeatureEnabled(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureEnabled;\r\n}\n\nfunction useFeatureFlagPayload(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagPayload;\r\n}\n\nfunction useActiveFeatureFlags() {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _a[0], setFeatureFlags = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function (flags) {\r\n            setFeatureFlags(flags);\r\n        });\r\n    }, [client]);\r\n    return featureFlags;\r\n}\n\nfunction useFeatureFlagVariantKey(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\r\n        return client.getFeatureFlag(flag);\r\n    }), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagVariantKey;\r\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nvar isFunction = function (f) {\r\n    return typeof f === 'function';\r\n};\r\nvar isUndefined = function (x) {\r\n    return x === void 0;\r\n};\r\nvar isNull = function (x) {\r\n    return x === null;\r\n};\n\nfunction PostHogFeature(_a) {\r\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\r\n    var payload = useFeatureFlagPayload(flag);\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\r\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\r\n    if (isUndefined(match) || variant === match) {\r\n        var childNode = isFunction(children) ? children(payload) : children;\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView }, props), childNode));\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\r\n}\r\nfunction captureFeatureInteraction(_a) {\r\n    var _b;\r\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\r\n    var properties = {\r\n        feature_flag: flag,\r\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\r\n    };\r\n    if (typeof flagVariant === 'string') {\r\n        properties.feature_flag_variant = flagVariant;\r\n    }\r\n    posthog.capture('$feature_interaction', properties);\r\n}\r\nfunction captureFeatureView(_a) {\r\n    var _b;\r\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\r\n    var properties = {\r\n        feature_flag: flag,\r\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\r\n    };\r\n    if (typeof flagVariant === 'string') {\r\n        properties.feature_flag_variant = flagVariant;\r\n    }\r\n    posthog.capture('$feature_view', properties);\r\n}\r\nfunction VisibilityAndClickTracker(_a) {\r\n    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\r\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\r\n    var posthog = usePostHog();\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        if (isNull(ref.current) || !trackView)\r\n            return;\r\n        var observer = new IntersectionObserver(function (_a) {\r\n            var entry = _a[0];\r\n            return onIntersect(entry);\r\n        }, __assign({ threshold: 0.1 }, options));\r\n        observer.observe(ref.current);\r\n        return function () { return observer.disconnect(); };\r\n    }, [flag, options, posthog, ref, trackView, onIntersect]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\r\n}\r\nfunction VisibilityAndClickTrackers(_a) {\r\n    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"trackInteraction\", \"trackView\", \"options\"]);\r\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var posthog = usePostHog();\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n        if (!clickTrackedRef.current && trackInteraction) {\r\n            captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant });\r\n            clickTrackedRef.current = true;\r\n        }\r\n    }, [flag, posthog, trackInteraction, variant]);\r\n    var onIntersect = function (entry) {\r\n        if (!visibilityTrackedRef.current && entry.isIntersecting) {\r\n            captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant });\r\n            visibilityTrackedRef.current = true;\r\n        }\r\n    };\r\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ flag: flag, onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\r\n    });\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\r\n}\n\nvar INITIAL_STATE = {\r\n    componentStack: null,\r\n    error: null,\r\n};\r\nvar __POSTHOG_ERROR_MESSAGES = {\r\n    INVALID_FALLBACK: '[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element.',\r\n};\r\nvar PostHogErrorBoundary = (function (_super) {\r\n    __extends(PostHogErrorBoundary, _super);\r\n    function PostHogErrorBoundary(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = INITIAL_STATE;\r\n        return _this;\r\n    }\r\n    PostHogErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\r\n        var componentStack = errorInfo.componentStack;\r\n        var additionalProperties = this.props.additionalProperties;\r\n        this.setState({\r\n            error: error,\r\n            componentStack: componentStack,\r\n        });\r\n        var currentProperties;\r\n        if (isFunction(additionalProperties)) {\r\n            currentProperties = additionalProperties(error);\r\n        }\r\n        else if (typeof additionalProperties === 'object') {\r\n            currentProperties = additionalProperties;\r\n        }\r\n        var client = this.context.client;\r\n        client.captureException(error, currentProperties);\r\n    };\r\n    PostHogErrorBoundary.prototype.render = function () {\r\n        var _a = this.props, children = _a.children, fallback = _a.fallback;\r\n        var state = this.state;\r\n        if (state.componentStack == null) {\r\n            return isFunction(children) ? children() : children;\r\n        }\r\n        var element = isFunction(fallback)\r\n            ? react__WEBPACK_IMPORTED_MODULE_1___default().createElement(fallback, {\r\n                error: state.error,\r\n                componentStack: state.componentStack,\r\n            })\r\n            : fallback;\r\n        if (react__WEBPACK_IMPORTED_MODULE_1___default().isValidElement(element)) {\r\n            return element;\r\n        }\r\n        console.warn(__POSTHOG_ERROR_MESSAGES.INVALID_FALLBACK);\r\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\r\n    };\r\n    PostHogErrorBoundary.contextType = PostHogContext;\r\n    return PostHogErrorBoundary;\r\n}((react__WEBPACK_IMPORTED_MODULE_1___default().Component)));\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFDbUY7O0FBRXRILHFCQUFxQixvREFBYSxHQUFHLFFBQVEsa0RBQVMsRUFBRTs7QUFFeEQ7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DLDZDQUFNO0FBQzFDLGtCQUFrQiw4Q0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrREFBUztBQUM1QjtBQUNBO0FBQ0EsZUFBZSxrREFBUztBQUN4QixLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVM7QUFDekI7QUFDQTtBQUNBLFlBQVksa0RBQVM7QUFDckI7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQSw4RUFBOEU7QUFDOUU7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDBEQUFtQiw0QkFBNEIsU0FBUyxtQkFBbUI7QUFDdEY7O0FBRUE7QUFDQSxpQkFBaUIsaURBQVU7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUSxlQUFlLHVDQUF1QztBQUMzRSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUSxlQUFlLDRDQUE0QztBQUNoRixJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUSxlQUFlLHdDQUF3QztBQUM1RSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUTtBQUNyQjtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ25GLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDBEQUFtQix3Q0FBd0Msc0hBQXNIO0FBQ2pNO0FBQ0EsV0FBVywwREFBbUIsQ0FBQyx1REFBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBTTtBQUNwQjtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxhQUFhLGdCQUFnQjtBQUN0QztBQUNBLDZCQUE2QjtBQUM3QixLQUFLO0FBQ0wsWUFBWSwwREFBbUIsbUJBQW1CLFVBQVUsV0FBVyxrQkFBa0I7QUFDekY7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUFNO0FBQ2hDLCtCQUErQiw2Q0FBTTtBQUNyQztBQUNBO0FBQ0Esd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0Esd0NBQXdDLG9EQUFvRDtBQUM1RjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQW9EO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyQ0FBUTtBQUNsQyxnQkFBZ0IsMERBQW1CLHVDQUF1QyxzR0FBc0c7QUFDaEwsS0FBSztBQUNMLFdBQVcsMERBQW1CLENBQUMsdURBQWM7QUFDN0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwREFBbUI7QUFDakM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFlBQVksMkRBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMERBQW1CLENBQUMsdURBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLHdEQUFlOztBQUUySyIsInNvdXJjZXMiOlsiL1VzZXJzL2VkZGxlZS9lZHdhcmQtcG9ydGZvbGlvL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwb3N0aG9nSnMgZnJvbSAncG9zdGhvZy1qcyc7XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlUmVmLCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5cbnZhciBQb3N0SG9nQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoeyBjbGllbnQ6IHBvc3Rob2dKcyB9KTtcblxuZnVuY3Rpb24gaXNEZWVwRXF1YWwob2JqMSwgb2JqMiwgdmlzaXRlZCkge1xyXG4gICAgaWYgKHZpc2l0ZWQgPT09IHZvaWQgMCkgeyB2aXNpdGVkID0gbmV3IFdlYWtNYXAoKTsgfVxyXG4gICAgaWYgKG9iajEgPT09IG9iajIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgb2JqMSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcgfHwgb2JqMiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2aXNpdGVkLmhhcyhvYmoxKSAmJiB2aXNpdGVkLmdldChvYmoxKSA9PT0gb2JqMikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdmlzaXRlZC5zZXQob2JqMSwgb2JqMik7XHJcbiAgICB2YXIga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcclxuICAgIHZhciBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xyXG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzMV8xID0ga2V5czE7IF9pIDwga2V5czFfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0ga2V5czFfMVtfaV07XHJcbiAgICAgICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc0RlZXBFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSwgdmlzaXRlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XG5cbmZ1bmN0aW9uIFBvc3RIb2dQcm92aWRlcihfYSkge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsaWVudCA9IF9hLmNsaWVudCwgYXBpS2V5ID0gX2EuYXBpS2V5LCBvcHRpb25zID0gX2Eub3B0aW9ucztcclxuICAgIHZhciBwcmV2aW91c0luaXRpYWxpemF0aW9uUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBhcGlLZXlgIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBgYXBpS2V5YCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBib3RoIGBjbGllbnRgIGFuZCBgb3B0aW9uc2AgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBvcHRpb25zYCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gTm8gYGFwaUtleWAgb3IgYGNsaWVudGAgd2VyZSBwcm92aWRlZCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gVXNpbmcgZGVmYXVsdCBnbG9iYWwgYHdpbmRvdy5wb3N0aG9nYCBpbnN0YW5jZS4gWW91IG11c3QgaW5pdGlhbGl6ZSBpdCBtYW51YWxseS4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgYmVoYXZpb3IuJyk7XHJcbiAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgIH0sIFtjbGllbnQsIGFwaUtleSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNsaWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcmV2aW91c0luaXRpYWxpemF0aW9uID0gcHJldmlvdXNJbml0aWFsaXphdGlvblJlZi5jdXJyZW50O1xyXG4gICAgICAgIGlmICghcHJldmlvdXNJbml0aWFsaXphdGlvbikge1xyXG4gICAgICAgICAgICBpZiAocG9zdGhvZ0pzLl9fbG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBgcG9zdGhvZ2Agd2FzIGFscmVhZHkgbG9hZGVkIGVsc2V3aGVyZS4gVGhpcyBtYXkgY2F1c2UgaXNzdWVzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvc3Rob2dKcy5pbml0KGFwaUtleSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYuY3VycmVudCA9IHtcclxuICAgICAgICAgICAgICAgIGFwaUtleTogYXBpS2V5LFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge30sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoYXBpS2V5ICE9PSBwcmV2aW91c0luaXRpYWxpemF0aW9uLmFwaUtleSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGEgZGlmZmVyZW50IGBhcGlLZXlgIHRvIGBQb3N0SG9nUHJvdmlkZXJgIHRoYW4gdGhlIG9uZSB0aGF0IHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgb3VyIHByb3ZpZGVyIGFuZCB3ZSdsbCBrZWVwIHVzaW5nIHRoZSBwcmV2aW91cyBrZXkuIElmIHlvdSBuZWVkIHRvIHRvZ2dsZSBiZXR3ZWVuIEFQSSBLZXlzIHlvdSBuZWVkIHRvIGNvbnRyb2wgdGhlIGBjbGllbnRgIHlvdXJzZWxmIGFuZCBwYXNzIGl0IGluIGFzIGEgcHJvcCByYXRoZXIgdGhhbiBhbiBgYXBpS2V5YCBwcm9wLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiAhaXNEZWVwRXF1YWwob3B0aW9ucywgcHJldmlvdXNJbml0aWFsaXphdGlvbi5vcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zdGhvZ0pzLnNldF9jb25maWcob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJldmlvdXNJbml0aWFsaXphdGlvblJlZi5jdXJyZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgYXBpS2V5OiBhcGlLZXksXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbY2xpZW50LCBhcGlLZXksIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XHJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQb3N0SG9nQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBjbGllbnQ6IHBvc3Rob2cgfSB9LCBjaGlsZHJlbik7XHJcbn1cblxudmFyIHVzZVBvc3RIb2cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCkuY2xpZW50O1xyXG4gICAgcmV0dXJuIGNsaWVudDtcclxufTtcblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdFbmFibGVkKGZsYWcpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKTsgfSksIGZlYXR1cmVFbmFibGVkID0gX2FbMF0sIHNldEZlYXR1cmVFbmFibGVkID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRGZWF0dXJlRW5hYmxlZChjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUVuYWJsZWQ7XHJcbn1cblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpOyB9KSwgZmVhdHVyZUZsYWdQYXlsb2FkID0gX2FbMF0sIHNldEZlYXR1cmVGbGFnUGF5bG9hZCA9IF9hWzFdO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdQYXlsb2FkKGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xyXG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnUGF5bG9hZDtcclxufVxuXG5mdW5jdGlvbiB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gdXNlUG9zdEhvZygpO1xyXG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmZlYXR1cmVGbGFncy5nZXRGbGFncygpOyB9KSwgZmVhdHVyZUZsYWdzID0gX2FbMF0sIHNldEZlYXR1cmVGbGFncyA9IF9hWzFdO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uIChmbGFncykge1xyXG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ3MoZmxhZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgW2NsaWVudF0pO1xyXG4gICAgcmV0dXJuIGZlYXR1cmVGbGFncztcclxufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50LmdldEZlYXR1cmVGbGFnKGZsYWcpO1xyXG4gICAgfSksIGZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9hWzBdLCBzZXRGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkgPSBfYVsxXTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleShjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xyXG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnVmFyaWFudEtleTtcclxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cblxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAoZikge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBmID09PSAnZnVuY3Rpb24nO1xyXG59O1xyXG52YXIgaXNVbmRlZmluZWQgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgcmV0dXJuIHggPT09IHZvaWQgMDtcclxufTtcclxudmFyIGlzTnVsbCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICByZXR1cm4geCA9PT0gbnVsbDtcclxufTtcblxuZnVuY3Rpb24gUG9zdEhvZ0ZlYXR1cmUoX2EpIHtcclxuICAgIHZhciBmbGFnID0gX2EuZmxhZywgbWF0Y2ggPSBfYS5tYXRjaCwgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZmFsbGJhY2sgPSBfYS5mYWxsYmFjaywgdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucyA9IF9hLnZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMsIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIHByb3BzID0gX19yZXN0KF9hLCBbXCJmbGFnXCIsIFwibWF0Y2hcIiwgXCJjaGlsZHJlblwiLCBcImZhbGxiYWNrXCIsIFwidmlzaWJpbGl0eU9ic2VydmVyT3B0aW9uc1wiLCBcInRyYWNrSW50ZXJhY3Rpb25cIiwgXCJ0cmFja1ZpZXdcIl0pO1xyXG4gICAgdmFyIHBheWxvYWQgPSB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7XHJcbiAgICB2YXIgdmFyaWFudCA9IHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKTtcclxuICAgIHZhciBzaG91bGRUcmFja0ludGVyYWN0aW9uID0gdHJhY2tJbnRlcmFjdGlvbiAhPT0gbnVsbCAmJiB0cmFja0ludGVyYWN0aW9uICE9PSB2b2lkIDAgPyB0cmFja0ludGVyYWN0aW9uIDogdHJ1ZTtcclxuICAgIHZhciBzaG91bGRUcmFja1ZpZXcgPSB0cmFja1ZpZXcgIT09IG51bGwgJiYgdHJhY2tWaWV3ICE9PSB2b2lkIDAgPyB0cmFja1ZpZXcgOiB0cnVlO1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKG1hdGNoKSB8fCB2YXJpYW50ID09PSBtYXRjaCkge1xyXG4gICAgICAgIHZhciBjaGlsZE5vZGUgPSBpc0Z1bmN0aW9uKGNoaWxkcmVuKSA/IGNoaWxkcmVuKHBheWxvYWQpIDogY2hpbGRyZW47XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzLCBfX2Fzc2lnbih7IGZsYWc6IGZsYWcsIG9wdGlvbnM6IHZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMsIHRyYWNrSW50ZXJhY3Rpb246IHNob3VsZFRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldzogc2hvdWxkVHJhY2tWaWV3IH0sIHByb3BzKSwgY2hpbGROb2RlKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZmFsbGJhY2spO1xyXG59XHJcbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlSW50ZXJhY3Rpb24oX2EpIHtcclxuICAgIHZhciBfYjtcclxuICAgIHZhciBmbGFnID0gX2EuZmxhZywgcG9zdGhvZyA9IF9hLnBvc3Rob2csIGZsYWdWYXJpYW50ID0gX2EuZmxhZ1ZhcmlhbnQ7XHJcbiAgICB2YXIgcHJvcGVydGllcyA9IHtcclxuICAgICAgICBmZWF0dXJlX2ZsYWc6IGZsYWcsXHJcbiAgICAgICAgJHNldDogKF9iID0ge30sIF9iW1wiJGZlYXR1cmVfaW50ZXJhY3Rpb24vXCIuY29uY2F0KGZsYWcpXSA9IGZsYWdWYXJpYW50ICE9PSBudWxsICYmIGZsYWdWYXJpYW50ICE9PSB2b2lkIDAgPyBmbGFnVmFyaWFudCA6IHRydWUsIF9iKSxcclxuICAgIH07XHJcbiAgICBpZiAodHlwZW9mIGZsYWdWYXJpYW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHByb3BlcnRpZXMuZmVhdHVyZV9mbGFnX3ZhcmlhbnQgPSBmbGFnVmFyaWFudDtcclxuICAgIH1cclxuICAgIHBvc3Rob2cuY2FwdHVyZSgnJGZlYXR1cmVfaW50ZXJhY3Rpb24nLCBwcm9wZXJ0aWVzKTtcclxufVxyXG5mdW5jdGlvbiBjYXB0dXJlRmVhdHVyZVZpZXcoX2EpIHtcclxuICAgIHZhciBfYjtcclxuICAgIHZhciBmbGFnID0gX2EuZmxhZywgcG9zdGhvZyA9IF9hLnBvc3Rob2csIGZsYWdWYXJpYW50ID0gX2EuZmxhZ1ZhcmlhbnQ7XHJcbiAgICB2YXIgcHJvcGVydGllcyA9IHtcclxuICAgICAgICBmZWF0dXJlX2ZsYWc6IGZsYWcsXHJcbiAgICAgICAgJHNldDogKF9iID0ge30sIF9iW1wiJGZlYXR1cmVfdmlldy9cIi5jb25jYXQoZmxhZyldID0gZmxhZ1ZhcmlhbnQgIT09IG51bGwgJiYgZmxhZ1ZhcmlhbnQgIT09IHZvaWQgMCA/IGZsYWdWYXJpYW50IDogdHJ1ZSwgX2IpLFxyXG4gICAgfTtcclxuICAgIGlmICh0eXBlb2YgZmxhZ1ZhcmlhbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcHJvcGVydGllcy5mZWF0dXJlX2ZsYWdfdmFyaWFudCA9IGZsYWdWYXJpYW50O1xyXG4gICAgfVxyXG4gICAgcG9zdGhvZy5jYXB0dXJlKCckZmVhdHVyZV92aWV3JywgcHJvcGVydGllcyk7XHJcbn1cclxuZnVuY3Rpb24gVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcihfYSkge1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBvbkludGVyc2VjdCA9IF9hLm9uSW50ZXJzZWN0LCBvbkNsaWNrID0gX2Eub25DbGljaywgdHJhY2tWaWV3ID0gX2EudHJhY2tWaWV3LCBvcHRpb25zID0gX2Eub3B0aW9ucywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJjaGlsZHJlblwiLCBcIm9uSW50ZXJzZWN0XCIsIFwib25DbGlja1wiLCBcInRyYWNrVmlld1wiLCBcIm9wdGlvbnNcIl0pO1xyXG4gICAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcclxuICAgIHZhciBwb3N0aG9nID0gdXNlUG9zdEhvZygpO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaXNOdWxsKHJlZi5jdXJyZW50KSB8fCAhdHJhY2tWaWV3KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfYVswXTtcclxuICAgICAgICAgICAgcmV0dXJuIG9uSW50ZXJzZWN0KGVudHJ5KTtcclxuICAgICAgICB9LCBfX2Fzc2lnbih7IHRocmVzaG9sZDogMC4xIH0sIG9wdGlvbnMpKTtcclxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOyB9O1xyXG4gICAgfSwgW2ZsYWcsIG9wdGlvbnMsIHBvc3Rob2csIHJlZiwgdHJhY2tWaWV3LCBvbkludGVyc2VjdF0pO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHsgcmVmOiByZWYgfSwgcHJvcHMsIHsgb25DbGljazogb25DbGljayB9KSwgY2hpbGRyZW4pKTtcclxufVxyXG5mdW5jdGlvbiBWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VycyhfYSkge1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCB0cmFja0ludGVyYWN0aW9uID0gX2EudHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3ID0gX2EudHJhY2tWaWV3LCBvcHRpb25zID0gX2Eub3B0aW9ucywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJjaGlsZHJlblwiLCBcInRyYWNrSW50ZXJhY3Rpb25cIiwgXCJ0cmFja1ZpZXdcIiwgXCJvcHRpb25zXCJdKTtcclxuICAgIHZhciBjbGlja1RyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gICAgdmFyIHZpc2liaWxpdHlUcmFja2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuICAgIHZhciBwb3N0aG9nID0gdXNlUG9zdEhvZygpO1xyXG4gICAgdmFyIHZhcmlhbnQgPSB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoZmxhZyk7XHJcbiAgICB2YXIgY2FjaGVkT25DbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ICYmIHRyYWNrSW50ZXJhY3Rpb24pIHtcclxuICAgICAgICAgICAgY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbih7IGZsYWc6IGZsYWcsIHBvc3Rob2c6IHBvc3Rob2csIGZsYWdWYXJpYW50OiB2YXJpYW50IH0pO1xyXG4gICAgICAgICAgICBjbGlja1RyYWNrZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2ZsYWcsIHBvc3Rob2csIHRyYWNrSW50ZXJhY3Rpb24sIHZhcmlhbnRdKTtcclxuICAgIHZhciBvbkludGVyc2VjdCA9IGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgIGlmICghdmlzaWJpbGl0eVRyYWNrZWRSZWYuY3VycmVudCAmJiBlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgICAgICBjYXB0dXJlRmVhdHVyZVZpZXcoeyBmbGFnOiBmbGFnLCBwb3N0aG9nOiBwb3N0aG9nLCBmbGFnVmFyaWFudDogdmFyaWFudCB9KTtcclxuICAgICAgICAgICAgdmlzaWJpbGl0eVRyYWNrZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciB0cmFja2VkQ2hpbGRyZW4gPSBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyLCBfX2Fzc2lnbih7IGZsYWc6IGZsYWcsIG9uQ2xpY2s6IGNhY2hlZE9uQ2xpY2ssIG9uSW50ZXJzZWN0OiBvbkludGVyc2VjdCwgdHJhY2tWaWV3OiB0cmFja1ZpZXcsIG9wdGlvbnM6IG9wdGlvbnMgfSwgcHJvcHMpLCBjaGlsZCkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgdHJhY2tlZENoaWxkcmVuKTtcclxufVxuXG52YXIgSU5JVElBTF9TVEFURSA9IHtcclxuICAgIGNvbXBvbmVudFN0YWNrOiBudWxsLFxyXG4gICAgZXJyb3I6IG51bGwsXHJcbn07XHJcbnZhciBfX1BPU1RIT0dfRVJST1JfTUVTU0FHRVMgPSB7XHJcbiAgICBJTlZBTElEX0ZBTExCQUNLOiAnW1Bvc3RIb2cuanNdW1Bvc3RIb2dFcnJvckJvdW5kYXJ5XSBJbnZhbGlkIGZhbGxiYWNrIHByb3AsIHByb3ZpZGUgYSB2YWxpZCBSZWFjdCBlbGVtZW50IG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsaWQgUmVhY3QgZWxlbWVudC4nLFxyXG59O1xyXG52YXIgUG9zdEhvZ0Vycm9yQm91bmRhcnkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBvc3RIb2dFcnJvckJvdW5kYXJ5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUG9zdEhvZ0Vycm9yQm91bmRhcnkocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IElOSVRJQUxfU1RBVEU7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUG9zdEhvZ0Vycm9yQm91bmRhcnkucHJvdG90eXBlLmNvbXBvbmVudERpZENhdGNoID0gZnVuY3Rpb24gKGVycm9yLCBlcnJvckluZm8pIHtcclxuICAgICAgICB2YXIgY29tcG9uZW50U3RhY2sgPSBlcnJvckluZm8uY29tcG9uZW50U3RhY2s7XHJcbiAgICAgICAgdmFyIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gdGhpcy5wcm9wcy5hZGRpdGlvbmFsUHJvcGVydGllcztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgICAgICAgICBjb21wb25lbnRTdGFjazogY29tcG9uZW50U3RhY2ssXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRQcm9wZXJ0aWVzO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGFkZGl0aW9uYWxQcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2xpZW50ID0gdGhpcy5jb250ZXh0LmNsaWVudDtcclxuICAgICAgICBjbGllbnQuY2FwdHVyZUV4Y2VwdGlvbihlcnJvciwgY3VycmVudFByb3BlcnRpZXMpO1xyXG4gICAgfTtcclxuICAgIFBvc3RIb2dFcnJvckJvdW5kYXJ5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZmFsbGJhY2sgPSBfYS5mYWxsYmFjaztcclxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGlmIChzdGF0ZS5jb21wb25lbnRTdGFjayA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGNoaWxkcmVuKSA/IGNoaWxkcmVuKCkgOiBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBpc0Z1bmN0aW9uKGZhbGxiYWNrKVxyXG4gICAgICAgICAgICA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoZmFsbGJhY2ssIHtcclxuICAgICAgICAgICAgICAgIGVycm9yOiBzdGF0ZS5lcnJvcixcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBzdGF0ZS5jb21wb25lbnRTdGFjayxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiBmYWxsYmFjaztcclxuICAgICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUud2FybihfX1BPU1RIT0dfRVJST1JfTUVTU0FHRVMuSU5WQUxJRF9GQUxMQkFDSyk7XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwpO1xyXG4gICAgfTtcclxuICAgIFBvc3RIb2dFcnJvckJvdW5kYXJ5LmNvbnRleHRUeXBlID0gUG9zdEhvZ0NvbnRleHQ7XHJcbiAgICByZXR1cm4gUG9zdEhvZ0Vycm9yQm91bmRhcnk7XHJcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5cbmV4cG9ydCB7IFBvc3RIb2dDb250ZXh0LCBQb3N0SG9nRXJyb3JCb3VuZGFyeSwgUG9zdEhvZ0ZlYXR1cmUsIFBvc3RIb2dQcm92aWRlciwgdXNlQWN0aXZlRmVhdHVyZUZsYWdzLCB1c2VGZWF0dXJlRmxhZ0VuYWJsZWQsIHVzZUZlYXR1cmVGbGFnUGF5bG9hZCwgdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5LCB1c2VQb3N0SG9nIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;